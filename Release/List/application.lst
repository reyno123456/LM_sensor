###############################################################################
#                                                                             #
# IAR C/C++ Compiler V5.30.0.50166/W32 for Atmel AVR    11/Dec/2009  23:21:42 #
# Copyright 1996-2009 IAR Systems AB.                                         #
#                                                                             #
#    Source file  =  D:\avr\LM_Finial_Test\application.c                      #
#    Command line =  D:\avr\LM_Finial_Test\application.c --cpu=m644p -ms -o   #
#                    D:\avr\LM_Finial_Test\Release\Obj\ -D NDEBUG -D LM018    #
#                    -D FINAL_VERSION2 -lCN D:\avr\LM_Finial_Test\Release\Lis #
#                    t\ -lA D:\avr\LM_Finial_Test\Release\List\               #
#                    --diag_suppress Pa082,Pe167,Pe186                        #
#                    --initializers_in_flash -z6 --no_inline --no_cross_call  #
#                    --no_tbaa -DENABLE_BIT_DEFINITIONS -e -I "C:\Program     #
#                    Files\IAR Systems\Embedded Workbench 5.3\avr\INC\" -I    #
#                    "C:\Program Files\IAR Systems\Embedded Workbench         #
#                    5.3\avr\INC\CLIB\" --eeprom_size 2048                    #
#    List file    =  D:\avr\LM_Finial_Test\Release\List\application.lst       #
#    Object file  =  D:\avr\LM_Finial_Test\Release\Obj\application.r90        #
#                                                                             #
#                                                                             #
###############################################################################

D:\avr\LM_Finial_Test\application.c
      1          #include "global_variable.h"
      2          #include "application.h"
      3          #include "moudle_SCS.h"
      4          #include <ioavr.h>

   \                                 In  segment ABSOLUTE, at 0xb6
   \   <__C49> volatile __io _A_ASSR
   \                     _A_ASSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0xb3
   \   <__C53> volatile __io _A_OCR2A
   \                     _A_OCR2A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0xb1
   \   <__C58> volatile __io _A_TCCR2B
   \                     _A_TCCR2B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0xb0
   \   <__C61> volatile __io _A_TCCR2A
   \                     _A_TCCR2A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x6e
   \   <__C117> volatile __io _A_TIMSK0
   \                     _A_TIMSK0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x48
   \   <__C183> volatile __io _A_OCR0B
   \                     _A_OCR0B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x47
   \   <__C185> volatile __io _A_OCR0A
   \                     _A_OCR0A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x46
   \   <__C187> volatile __io _A_TCNT0
   \                     _A_TCNT0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x45
   \   <__C190> volatile __io _A_TCCR0B
   \                     _A_TCCR0B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x44
   \   <__C193> volatile __io _A_TCCR0A
   \                     _A_TCCR0A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2b
   \   <__C228> volatile __io _A_PORTD
   \                     _A_PORTD:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x28
   \   <__C237> volatile __io _A_PORTC
   \                     _A_PORTC:
   \   00000000                      DS8 1
      5          #include "board.h"
      6          #include "PIR.h"
      7          #include <string.h>
      8          #include "decode_scs.h"
      9          #include "IR.h"
     10          #include "decode_scs_next.h"
     11          #include "configuration.h"
     12          #include "usart.h"
     13          #include "function_service.h"
     14          #include "iccext.h"
     15          #include <math.h>
     16          #include "DRI_LCD.h"
     17          

   \                                 In  segment CODE, align 2, keep-with-next
     18          void factory_calibration()
   \                     factory_calibration:
     19          {
   \   00000000   ........           CALL    ?PROLOGUE6_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
     20          	unsigned int temp1;
     21          	unsigned int temp2;
     22          
     23          	if(state.main_state == FACTORY_CALIBRATION)
   \   00000004   9100....           LDS     R16, (state + 2)
   \   00000008   9110....           LDS     R17, (state + 3)
   \   0000000C   3404               CPI     R16, 68
   \   0000000E   E920               LDI     R18, 144
   \   00000010   0712               CPC     R17, R18
   \   00000012   F5A1               BRNE    ??factory_calibration_0
     24          	{
     25          		get_dl_level();
   \   00000014   ....               RCALL   get_dl_level
     26          		if(g_asc_reception_buffer[3] == 0x42 && g_asc_reception_buffer[4] == 0x10)
   \   00000016   ....               LDI     R30, LOW(g_asc_reception_buffer)
   \   00000018   ....               LDI     R31, (g_asc_reception_buffer) >> 8
   \   0000001A   8103               LDD     R16, Z+3
   \   0000001C   3402               CPI     R16, 66
   \   0000001E   F009               BREQ    $+2+2
   \   00000020   C096               RJMP    ??factory_calibration_1
   \   00000022   8104               LDD     R16, Z+4
   \   00000024   3100               CPI     R16, 16
   \   00000026   F009               BREQ    $+2+2
   \   00000028   C092               RJMP    ??factory_calibration_1
     27          		{
     28          			ee_factory_variable.adc_1 = DLL.day_level;
   \   0000002A   ....               LDI     R16, LOW(ee_factory_variable)
   \   0000002C   2E20               MOV     R2, R16
   \   0000002E   ....               LDI     R16, (ee_factory_variable) >> 8
   \   00000030   2E30               MOV     R3, R16
   \   00000032   9100....           LDS     R16, (DLL + 6)
   \   00000036   9110....           LDS     R17, (DLL + 7)
   \   0000003A   01A1               MOVW    R21:R20, R3:R2
   \   0000003C   ........           CALL    __eeput16_16
     29          			ee_factory_variable.lux_1 = g_asc_reception_buffer[6];
   \   00000040   8106               LDD     R16, Z+6
   \   00000042   E010               LDI     R17, 0
   \   00000044   ....               LDI     R20, ((ee_factory_variable + 4) & 0xff) & 0xFF
   \   00000046   ....               LDI     R21, (((ee_factory_variable + 4) >> 8) & 0xff) & 0xFF
   \   00000048   ........           CALL    __eeput16_16
     30          			ee_factory_variable.lux_1 = ee_factory_variable.lux_1 << 8;
   \   0000004C   2F10               MOV     R17, R16
   \   0000004E   E000               LDI     R16, 0
   \   00000050   ....               LDI     R20, ((ee_factory_variable + 4) & 0xff) & 0xFF
   \   00000052   ....               LDI     R21, (((ee_factory_variable + 4) >> 8) & 0xff) & 0xFF
   \   00000054   ........           CALL    __eeput16_16
     31          			ee_factory_variable.lux_1 += g_asc_reception_buffer[7];
   \   00000058   8127               LDD     R18, Z+7
   \   0000005A   0F02               ADD     R16, R18
   \   0000005C   E024               LDI     R18, 4
   \   0000005E   0E22               ADD     R2, R18
   \   00000060   E020               LDI     R18, 0
   \   00000062   1E32               ADC     R3, R18
   \   00000064   01A1               MOVW    R21:R20, R3:R2
   \   00000066   ........           CALL    __eeput16_16
     32          			state.main_state = FACTORY_CALIBRATION_STEP1;
   \   0000006A   E405               LDI     R16, 69
   \   0000006C   E910               LDI     R17, 144
   \   0000006E   9300....           STS     (state + 2), R16
   \   00000072   9310....           STS     (state + 3), R17
     33          			ee_main_state = FACTORY_CALIBRATION_STEP1;
   \   00000076   ....               LDI     R20, LOW(ee_main_state)
   \   00000078   ....               LDI     R21, (ee_main_state) >> 8
   \   0000007A   C063               RJMP    ??factory_calibration_2
     34          			buzzer_ms(500);
     35          		}
     36          	}
     37          	else if(state.main_state == FACTORY_CALIBRATION_STEP1)
   \                     ??factory_calibration_0:
   \   0000007C   9100....           LDS     R16, (state + 2)
   \   00000080   9110....           LDS     R17, (state + 3)
   \   00000084   3405               CPI     R16, 69
   \   00000086   0712               CPC     R17, R18
   \   00000088   F009               BREQ    $+2+2
   \   0000008A   C061               RJMP    ??factory_calibration_1
     38          	{
     39          		get_dl_level();
   \   0000008C   ....               RCALL   get_dl_level
     40          		if(g_asc_reception_buffer[3] == 0x42 && g_asc_reception_buffer[4] == 0x10)
   \   0000008E   ....               LDI     R30, LOW(g_asc_reception_buffer)
   \   00000090   ....               LDI     R31, (g_asc_reception_buffer) >> 8
   \   00000092   8103               LDD     R16, Z+3
   \   00000094   3402               CPI     R16, 66
   \   00000096   F009               BREQ    $+2+2
   \   00000098   C05A               RJMP    ??factory_calibration_1
   \   0000009A   8104               LDD     R16, Z+4
   \   0000009C   3100               CPI     R16, 16
   \   0000009E   F009               BREQ    $+2+2
   \   000000A0   C056               RJMP    ??factory_calibration_1
     41          		{
     42          			ee_factory_variable.adc_2 = DLL.day_level;
   \   000000A2   9040....           LDS     R4, (DLL + 6)
   \   000000A6   9050....           LDS     R5, (DLL + 7)
   \   000000AA   ....               LDI     R20, ((ee_factory_variable + 2) & 0xff) & 0xFF
   \   000000AC   ....               LDI     R21, (((ee_factory_variable + 2) >> 8) & 0xff) & 0xFF
   \   000000AE   0182               MOVW    R17:R16, R5:R4
   \   000000B0   ........           CALL    __eeput16_16
     43          			ee_factory_variable.lux_2 = g_asc_reception_buffer[6];
   \   000000B4   8166               LDD     R22, Z+6
   \   000000B6   E070               LDI     R23, 0
   \   000000B8   ....               LDI     R20, ((ee_factory_variable + 6) & 0xff) & 0xFF
   \   000000BA   ....               LDI     R21, (((ee_factory_variable + 6) >> 8) & 0xff) & 0xFF
   \   000000BC   018B               MOVW    R17:R16, R23:R22
   \   000000BE   ........           CALL    __eeput16_16
     44          			ee_factory_variable.lux_2 = ee_factory_variable.lux_2 << 8;
   \   000000C2   2F76               MOV     R23, R22
   \   000000C4   E060               LDI     R22, 0
   \   000000C6   ....               LDI     R20, ((ee_factory_variable + 6) & 0xff) & 0xFF
   \   000000C8   ....               LDI     R21, (((ee_factory_variable + 6) >> 8) & 0xff) & 0xFF
   \   000000CA   018B               MOVW    R17:R16, R23:R22
   \   000000CC   ........           CALL    __eeput16_16
     45          			ee_factory_variable.lux_2 += g_asc_reception_buffer[7];
   \   000000D0   8107               LDD     R16, Z+7
   \   000000D2   0F60               ADD     R22, R16
   \   000000D4   ....               LDI     R20, ((ee_factory_variable + 6) & 0xff) & 0xFF
   \   000000D6   ....               LDI     R21, (((ee_factory_variable + 6) >> 8) & 0xff) & 0xFF
   \   000000D8   ........           CALL    __eeput16_16
     46          			temp2 =  ee_factory_variable.lux_2 - ee_factory_variable.lux_1;
     47          			temp1 =  ee_factory_variable.adc_2 - ee_factory_variable.adc_1;
     48          			g_slope = (double)temp2 / (double)temp1 ;
   \   000000DC   ....               LDI     R20, ((ee_factory_variable + 4) & 0xff) & 0xFF
   \   000000DE   ....               LDI     R21, (((ee_factory_variable + 4) >> 8) & 0xff) & 0xFF
   \   000000E0   ........           CALL    __eeget16_16
   \   000000E4   1B60               SUB     R22, R16
   \   000000E6   0B71               SBC     R23, R17
   \   000000E8   018B               MOVW    R17:R16, R23:R22
   \   000000EA   E020               LDI     R18, 0
   \   000000EC   E030               LDI     R19, 0
   \   000000EE   ........           CALL    ?UL2F_L04
   \   000000F2   01C8               MOVW    R25:R24, R17:R16
   \   000000F4   01D9               MOVW    R27:R26, R19:R18
   \   000000F6   ....               LDI     R20, LOW(ee_factory_variable)
   \   000000F8   ....               LDI     R21, (ee_factory_variable) >> 8
   \   000000FA   ........           CALL    __eeget16_16
   \   000000FE   1A40               SUB     R4, R16
   \   00000100   0A51               SBC     R5, R17
   \   00000102   0182               MOVW    R17:R16, R5:R4
   \   00000104   E020               LDI     R18, 0
   \   00000106   E030               LDI     R19, 0
   \   00000108   ........           CALL    ?UL2F_L04
   \   0000010C   01A8               MOVW    R21:R20, R17:R16
   \   0000010E   01B9               MOVW    R23:R22, R19:R18
   \   00000110   018C               MOVW    R17:R16, R25:R24
   \   00000112   019D               MOVW    R19:R18, R27:R26
   \   00000114   ........           CALL    ?F_DIV_L04
   \   00000118   ....               LDI     R30, LOW(g_slope)
   \   0000011A   ....               LDI     R31, (g_slope) >> 8
   \   0000011C   8300               ST      Z, R16
   \   0000011E   8311               STD     Z+1, R17
   \   00000120   8322               STD     Z+2, R18
   \   00000122   8333               STD     Z+3, R19
     49          			//g_slope = (short)((ee_factory_variable.lux_2 - ee_factory_variable.lux_1)/(ee_factory_variable.adc_2 - ee_factory_variable.adc_1));
     50          			ee_slope = g_slope;
   \   00000124   8100               LD      R16, Z
   \   00000126   8111               LDD     R17, Z+1
   \   00000128   8122               LDD     R18, Z+2
   \   0000012A   8133               LDD     R19, Z+3
   \   0000012C   ....               LDI     R20, LOW(ee_slope)
   \   0000012E   ....               LDI     R21, (ee_slope) >> 8
   \   00000130   ........           CALL    __eeput32_16
     51          			ee_product_information.factory_calibrated = 1;
   \   00000134   ....               LDI     R20, LOW((ee_product_information + 5))
   \   00000136   ....               LDI     R21, HIGH((ee_product_information + 5))
   \   00000138   ........           CALL    __eeget16_16
   \   0000013C   6002               ORI     R16, 0x02
   \   0000013E   ....               LDI     R20, LOW((ee_product_information + 5))
   \   00000140   ....               LDI     R21, HIGH((ee_product_information + 5))
   \                     ??factory_calibration_2:
   \   00000142   ........           CALL    __eeput16_16
     52          			buzzer_ms(500);
   \   00000146   EF04               LDI     R16, 244
   \   00000148   E011               LDI     R17, 1
   \   0000014A   ........           CALL    buzzer_ms
     53          		}
     54          	}
     55          }
   \                     ??factory_calibration_1:
   \   0000014E   E0E6               LDI     R30, 6
   \   00000150   ........           JMP     ?EPILOGUE_B6_L09
     56          
     57          //used in the light calibration(now have been discard)
     58          // D5 00 EE x3 10 0x 22 22		low
     59          // D5 00 EE x3 10 0x 33 33 		medium
     60          // D5 00 EE x3 10 0x 44 44		high
     61          
     62          // Enter calibration waiting mode	D1 01 01 42 14 00 00 00
     63          // Exit calibration waiting mode	D1 01 01 42 14 00 00 FF
     64          // Sent calibration lux						D1 01 01 42 10 0X XX XX
     65          
     66          //******************************************************************************
     67          // send the frame ON, OFF, Pre, and NO_PRE
     68          //******************************************************************************

   \                                 In  segment CODE, align 2, keep-with-next
     69          void Mode_frame_GR(char GG, char type)
   \                     Mode_frame_GR:
     70          {
   \   00000000   938A               ST      -Y, R24
   \   00000002   972A               SBIW    R29:R28, 10
   \   00000004   2F81               MOV     R24, R17
   \   00000006   9110....           LDS     R17, (KO_conf + 1)
   \   0000000A   3012               CPI     R17, 2
   \   0000000C   F5E1               BRNE    ??Mode_frame_GR_0
     71          	// B5 GG  12 00 "ON"							// Mode_frame_GR(KO_conf.GR,ON);
     72          	// B5 GG  12 01 "OFF"							// Mode_frame_GR(KO_conf.GR,OFF);
     73          	// B5 GG  1D 00 "presence"				// Mode_frame_GR(KO_conf.GR,pre);
     74          	// B5 GG  1D 01 "no presence"			// Mode_frame_GR(KO_conf.GR,nopre);
     75            // B8 APL 1D 00 "presence for modality"
     76          	
     77          	unsigned char TX_buffer[8];
     78          	unsigned char buffer[2];
     79          	
     80          	if(KO_conf.AddressType == GROUP)		// GR
     81          	{
     82              CharToStr(GG ,buffer);
   \   0000000E   019E               MOVW    R19:R18, R29:R28
   \   00000010   ........           CALL    CharToStr
     83          		TX_buffer[2] = buffer[0];
   \   00000014   8108               LD      R16, Y
   \   00000016   830C               STD     Y+4, R16
     84          		TX_buffer[3] = buffer[1];
   \   00000018   8109               LDD     R16, Y+1
   \   0000001A   830D               STD     Y+5, R16
     85          
     86          		switch(type)
   \   0000001C   2F08               MOV     R16, R24
   \   0000001E   5001               SUBI    R16, 1
   \   00000020   F071               BREQ    ??Mode_frame_GR_1
   \   00000022   950A               DEC     R16
   \   00000024   F0B1               BREQ    ??Mode_frame_GR_2
   \   00000026   950A               DEC     R16
   \   00000028   F031               BREQ    ??Mode_frame_GR_3
   \   0000002A   950A               DEC     R16
   \   0000002C   F0F9               BREQ    ??Mode_frame_GR_4
   \   0000002E   950A               DEC     R16
   \   00000030   F011               BREQ    ??Mode_frame_GR_3
   \   00000032   950A               DEC     R16
   \   00000034   F4F9               BRNE    ??Mode_frame_GR_5
     87          		{
     88          			case pre:
     89          			case Gs1:
     90          			case Gs2:
     91          					TX_buffer[5] = 'D';
   \                     ??Mode_frame_GR_3:
   \   00000036   E404               LDI     R16, 68
   \   00000038   830F               STD     Y+7, R16
     92          					TX_buffer[7] = '0';
   \   0000003A   E300               LDI     R16, 48
   \   0000003C   C01A               RJMP    ??Mode_frame_GR_6
     93          			break;
     94          			case ON:
     95          					TX_buffer[5] = '2';
   \                     ??Mode_frame_GR_1:
   \   0000003E   E302               LDI     R16, 50
   \   00000040   830F               STD     Y+7, R16
     96          					TX_buffer[7] = '0';
   \   00000042   E300               LDI     R16, 48
   \   00000044   8709               STD     Y+9, R16
     97          					Sensor_mode.power_on_flag = 1;		// ON FRAME
   \   00000046   ....               LDI     R30, LOW(Sensor_mode)
   \   00000048   ....               LDI     R31, (Sensor_mode) >> 8
   \   0000004A   8107               LDD     R16, Z+7
   \   0000004C   6200               ORI     R16, 0x20
   \   0000004E   8307               STD     Z+7, R16
   \   00000050   C011               RJMP    ??Mode_frame_GR_5
     98          					//KO_conf.status[1] = Status_ON;		//reyno 0616
     99          					//DLL.lightness_load = T_5min5s;		// start timer 5min5s, start to calibrate the load provision
    100          					//DLL.calc_OK_flag = 0; //reyno 0616
    101          			 break;
    102          			case OFF:
    103          					TX_buffer[5] = '2';
   \                     ??Mode_frame_GR_2:
   \   00000052   E302               LDI     R16, 50
   \   00000054   830F               STD     Y+7, R16
    104          					TX_buffer[7] = '1';
   \   00000056   E301               LDI     R16, 49
   \   00000058   8709               STD     Y+9, R16
    105          					Sensor_mode.power_on_flag = 0;		// OFF FRAME
   \   0000005A   ....               LDI     R30, LOW(Sensor_mode)
   \   0000005C   ....               LDI     R31, (Sensor_mode) >> 8
   \   0000005E   8107               LDD     R16, Z+7
   \   00000060   7D0F               ANDI    R16, 0xDF
   \   00000062   8307               STD     Z+7, R16
    106          					KO_conf.status[1] = Status_OFF;		//reyno 0616
   \   00000064   E000               LDI     R16, 0
   \   00000066   9300....           STS     (KO_conf + 46), R16
   \   0000006A   C004               RJMP    ??Mode_frame_GR_5
    107          			break;
    108          			case nopre:
    109          					TX_buffer[5] = 'D';
   \                     ??Mode_frame_GR_4:
   \   0000006C   E404               LDI     R16, 68
   \   0000006E   830F               STD     Y+7, R16
    110          					TX_buffer[7] = '1';
   \   00000070   E301               LDI     R16, 49
   \                     ??Mode_frame_GR_6:
   \   00000072   8709               STD     Y+9, R16
    111          				break;
    112          			default: break;
    113          		}
    114          	
    115          		TX_buffer[0] = 'B';
   \                     ??Mode_frame_GR_5:
   \   00000074   E402               LDI     R16, 66
   \   00000076   830A               STD     Y+2, R16
    116          		TX_buffer[1] = '5';
   \   00000078   E305               LDI     R16, 53
   \   0000007A   830B               STD     Y+3, R16
    117          		TX_buffer[4] = '1';
   \   0000007C   E301               LDI     R16, 49
   \   0000007E   830E               STD     Y+6, R16
    118          		TX_buffer[6] = '0';
   \   00000080   E300               LDI     R16, 48
   \   00000082   8708               STD     Y+8, R16
   \   00000084   C01A               RJMP    ??Mode_frame_GR_7
    119          	}
    120          	else if(KO_conf.AddressType == PP && type==pre)	//P2P
   \                     ??Mode_frame_GR_0:
   \   00000086   9100....           LDS     R16, (KO_conf + 1)
   \   0000008A   2300               TST     R16
   \   0000008C   F4B1               BRNE    ??Mode_frame_GR_7
   \   0000008E   3083               CPI     R24, 3
   \   00000090   F4A1               BRNE    ??Mode_frame_GR_7
    121          	{
    122          			// B8 APL 1D 00
    123          		TX_buffer[0] = 'B';
   \   00000092   E402               LDI     R16, 66
   \   00000094   830A               STD     Y+2, R16
    124          		TX_buffer[1] = '8';
   \   00000096   E308               LDI     R16, 56
   \   00000098   830B               STD     Y+3, R16
    125              //TX_buffer[2] = Configurators.A;
    126              //TX_buffer[3] = Configurators.PL;
    127          		CharToStr(KO_conf.DesAdd,buffer);  //reyno 0619
   \   0000009A   019E               MOVW    R19:R18, R29:R28
   \   0000009C   9100....           LDS     R16, (KO_conf + 2)
   \   000000A0   ........           CALL    CharToStr
    128          		TX_buffer[2] = buffer[0];
   \   000000A4   8108               LD      R16, Y
   \   000000A6   830C               STD     Y+4, R16
    129          		TX_buffer[3] = buffer[1];
   \   000000A8   8109               LDD     R16, Y+1
   \   000000AA   830D               STD     Y+5, R16
    130          		TX_buffer[4] = '1';
   \   000000AC   E301               LDI     R16, 49
   \   000000AE   830E               STD     Y+6, R16
    131          		TX_buffer[5] = 'D';
   \   000000B0   E404               LDI     R16, 68
   \   000000B2   830F               STD     Y+7, R16
    132          		TX_buffer[6] = '0';
   \   000000B4   E300               LDI     R16, 48
   \   000000B6   8708               STD     Y+8, R16
    133          		TX_buffer[7] = '0';
   \   000000B8   8709               STD     Y+9, R16
    134          	}
    135          	
    136          	send_frame_pp_broad(TX_buffer, TRANS_DELAY);
   \                     ??Mode_frame_GR_7:
   \   000000BA   E322               LDI     R18, 50
   \   000000BC   E030               LDI     R19, 0
   \   000000BE   018E               MOVW    R17:R16, R29:R28
   \   000000C0   5F0E               SUBI    R16, 254
   \   000000C2   4F1F               SBCI    R17, 255
   \   000000C4   ........           CALL    send_frame_pp_broad
    137          	
    138          	if(type == OFF)		// frame "OFF"
   \   000000C8   3082               CPI     R24, 2
   \   000000CA   F431               BRNE    ??Mode_frame_GR_8
    139          	{
    140          			Time_delay.detect_waitting = OFF_delay_2s;
   \   000000CC   ED00               LDI     R16, 208
   \   000000CE   E017               LDI     R17, 7
   \   000000D0   9300....           STS     (Time_delay + 11), R16
   \   000000D4   9310....           STS     (Time_delay + 12), R17
    141          	}
    142          	if(type == pre)
   \                     ??Mode_frame_GR_8:
   \   000000D8   3083               CPI     R24, 3
   \   000000DA   F429               BRNE    ??Mode_frame_GR_9
    143          	{
    144          		Sensor_mode.presence_send =1;
   \   000000DC   ....               LDI     R30, LOW(Sensor_mode)
   \   000000DE   ....               LDI     R31, (Sensor_mode) >> 8
   \   000000E0   8105               LDD     R16, Z+5
   \   000000E2   6004               ORI     R16, 0x04
   \   000000E4   8305               STD     Z+5, R16
    145          	}
    146          	
    147          }
   \                     ??Mode_frame_GR_9:
   \   000000E6   962A               ADIW    R29:R28, 10
   \   000000E8   9189               LD      R24, Y+
   \   000000EA   9508               RET
    148          
    149          
    150          //******************************************************************************
    151          // 			send the frame P2P
    152          //******************************************************************************

   \                                 In  segment CODE, align 2, keep-with-next
    153          void dimmer_command(unsigned char arg,unsigned char level_value)
   \                     dimmer_command:
    154          {
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   9764               SBIW    R29:R28, 20
   \   00000006   2F90               MOV     R25, R16
   \   00000008   2F81               MOV     R24, R17
    155          	// D1 A|Pl 0|1 4|2 0|D 0|0 0|0 0|0 	"ON"					// Mode_frame_P2P('1','2','0','0','0','0','0');
    156          	// D1 A|Pl 0|1 4|2 0|D 0|1 0|0 0|0 	"OFF"					// Mode_frame_P2P('1','2','1','0','0','0','0');
    157          	// D1 A|Pl 0|1 4|2 0|D 0|3 0|2 F|F 	"DIM +"				// Mode_frame_P2P('1','2','3','0','2','F','F');		step == 2	speed==default
    158          	// D1 A|Pl 0|1 4|2 0|D 0|4 0|1 F|F	"DIM -"				// Mode_frame_P2P('1','2','4','0','1','F','F');		step == 1	speed==default
    159            // D1 A|Pl 0|1 4|2 0|D 0|D X|X F|F	"LEVEL"				// Mode_frame_P2P('1','2','D','X','X','F','F');
    160          	unsigned char buffer_tx[17];
    161          	unsigned char buffer[3];
    162          	strncpy(buffer_tx,"D10001420D000000",17);
   \   0000000A   E141               LDI     R20, 17
   \   0000000C   E050               LDI     R21, 0
   \   0000000E   ....               LDI     R18, LOW(`?<Constant "D10001420D000000">`)
   \   00000010   ....               LDI     R19, (`?<Constant "D10001420D000000">`) >> 8
   \   00000012   018E               MOVW    R17:R16, R29:R28
   \   00000014   5F0D               SUBI    R16, 253
   \   00000016   4F1F               SBCI    R17, 255
   \   00000018   ........           CALL    strncpy
   \   0000001C   9100....           LDS     R16, (KO_conf + 1)
   \   00000020   3002               CPI     R16, 2
   \   00000022   019E               MOVW    R19:R18, R29:R28
   \   00000024   F419               BRNE    ??dimmer_command_0
    163          	
    164          	if(KO_conf.AddressType == GROUP)
    165          	{	
    166          		CharToStr(KO_conf.Reference,buffer);
   \   00000026   9100....           LDS     R16, (KO_conf + 5)
   \   0000002A   C002               RJMP    ??dimmer_command_1
    167          		buffer_tx[2] = buffer[0];
    168          		buffer_tx[3] = buffer[1];
    169          	}
    170          	else
    171          	{
    172          		CharToStr(KO_conf.DesAdd,buffer);
   \                     ??dimmer_command_0:
   \   0000002C   9100....           LDS     R16, (KO_conf + 2)
   \                     ??dimmer_command_1:
   \   00000030   ........           CALL    CharToStr
    173          		buffer_tx[2] = buffer[0];
   \   00000034   8108               LD      R16, Y
   \   00000036   830D               STD     Y+5, R16
    174          		buffer_tx[3] = buffer[1];
   \   00000038   8109               LDD     R16, Y+1
   \   0000003A   830E               STD     Y+6, R16
    175          	}
    176          	
    177          	switch(arg)
   \   0000003C   5091               SUBI    R25, 1
   \   0000003E   F049               BREQ    ??dimmer_command_2
   \   00000040   959A               DEC     R25
   \   00000042   F0B1               BREQ    ??dimmer_command_3
   \   00000044   5098               SUBI    R25, 8
   \   00000046   F129               BREQ    ??dimmer_command_4
   \   00000048   959A               DEC     R25
   \   0000004A   F139               BREQ    ??dimmer_command_5
   \   0000004C   959A               DEC     R25
   \   0000004E   F149               BREQ    ??dimmer_command_6
   \   00000050   C03C               RJMP    ??dimmer_command_7
    178          	{
    179          		case ON:
    180          			Sensor_mode.power_on_flag = 1;		    // ON FRAME
   \                     ??dimmer_command_2:
   \   00000052   ....               LDI     R30, LOW(Sensor_mode)
   \   00000054   ....               LDI     R31, (Sensor_mode) >> 8
   \   00000056   8107               LDD     R16, Z+7
   \   00000058   6200               ORI     R16, 0x20
   \   0000005A   8307               STD     Z+7, R16
    181          			SCS_received.update_on_wait++;
   \   0000005C   9100....           LDS     R16, (SCS_received + 1)
   \   00000060   2F10               MOV     R17, R16
   \   00000062   7F13               ANDI    R17, 0xF3
   \   00000064   5F0C               SUBI    R16, 252
   \   00000066   700C               ANDI    R16, 0x0C
   \                     ??dimmer_command_8:
   \   00000068   2B10               OR      R17, R16
   \   0000006A   9310....           STS     (SCS_received + 1), R17
    182          			org_ext_broad(buffer_tx,TRANS_DELAY);
   \   0000006E   C026               RJMP    ??dimmer_command_9
    183          		break;
    184          		
    185          		case OFF:
    186          			buffer_tx[11] = '1';
   \                     ??dimmer_command_3:
   \   00000070   E301               LDI     R16, 49
   \   00000072   870E               STD     Y+14, R16
    187          			Sensor_mode.power_on_flag = 0;						// OFF FRAME
   \   00000074   ....               LDI     R30, LOW(Sensor_mode)
   \   00000076   ....               LDI     R31, (Sensor_mode) >> 8
   \   00000078   8107               LDD     R16, Z+7
   \   0000007A   7D0F               ANDI    R16, 0xDF
   \   0000007C   8307               STD     Z+7, R16
    188          			KO_conf.status[1] = Status_OFF;
   \   0000007E   E000               LDI     R16, 0
   \   00000080   9300....           STS     (KO_conf + 46), R16
    189          			SCS_received.update_off_wait++;
   \   00000084   9100....           LDS     R16, (SCS_received + 1)
   \   00000088   2F10               MOV     R17, R16
   \   0000008A   7C1F               ANDI    R17, 0xCF
   \   0000008C   5F00               SUBI    R16, 240
   \   0000008E   7300               ANDI    R16, 0x30
   \   00000090   CFEB               RJMP    ??dimmer_command_8
    190          			org_ext_broad(buffer_tx,TRANS_DELAY);
    191          		break;
    192          		
    193          		case DIM_UP:
    194          			buffer_tx[11] = '3';
   \                     ??dimmer_command_4:
   \   00000092   E303               LDI     R16, 51
   \   00000094   870E               STD     Y+14, R16
    195          			buffer_tx[13] = '2';
   \   00000096   E302               LDI     R16, 50
   \   00000098   C00D               RJMP    ??dimmer_command_10
    196          			buffer_tx[14] = 'F';
    197          			buffer_tx[15] = 'F';
    198          			org_ext_broad(buffer_tx,TRANS_DELAY);
    199          		break;
    200          		
    201          		case DIM_DOWN:
    202          			buffer_tx[11] = '4';
   \                     ??dimmer_command_5:
   \   0000009A   E304               LDI     R16, 52
   \   0000009C   870E               STD     Y+14, R16
    203          			buffer_tx[13] = '1';
   \   0000009E   E301               LDI     R16, 49
   \   000000A0   C009               RJMP    ??dimmer_command_10
    204          			buffer_tx[14] = 'F';
    205          			buffer_tx[15] = 'F';
    206          			org_ext_broad(buffer_tx,TRANS_DELAY);
    207          		break;
    208          		
    209          		case LEVEL:
    210          			buffer_tx[11] = 'D';
   \                     ??dimmer_command_6:
   \   000000A2   E404               LDI     R16, 68
   \   000000A4   870E               STD     Y+14, R16
    211          			CharToStr(level_value,buffer);
   \   000000A6   019E               MOVW    R19:R18, R29:R28
   \   000000A8   2F08               MOV     R16, R24
   \   000000AA   ........           CALL    CharToStr
    212          			buffer_tx[12] = buffer[0];
   \   000000AE   8108               LD      R16, Y
   \   000000B0   870F               STD     Y+15, R16
    213          			buffer_tx[13] = buffer[1];
   \   000000B2   8109               LDD     R16, Y+1
   \                     ??dimmer_command_10:
   \   000000B4   8B08               STD     Y+16, R16
    214          			buffer_tx[14] = 'F';
   \   000000B6   E406               LDI     R16, 70
   \   000000B8   8B09               STD     Y+17, R16
    215          			buffer_tx[15] = 'F';
   \   000000BA   8B0A               STD     Y+18, R16
    216          			org_ext_broad(buffer_tx,TRANS_DELAY);
   \                     ??dimmer_command_9:
   \   000000BC   E322               LDI     R18, 50
   \   000000BE   E030               LDI     R19, 0
   \   000000C0   018E               MOVW    R17:R16, R29:R28
   \   000000C2   5F0D               SUBI    R16, 253
   \   000000C4   4F1F               SBCI    R17, 255
   \   000000C6   ........           CALL    org_ext_broad
    217          		break;
    218          		
    219          		default:break;
    220          	}
    221          }
   \                     ??dimmer_command_7:
   \   000000CA   9664               ADIW    R29:R28, 20
   \   000000CC   9189               LD      R24, Y+
   \   000000CE   9199               LD      R25, Y+
   \   000000D0   9508               RET
    222          

   \                                 In  segment CODE, align 2, keep-with-next
    223          void Mode_frame_P2P(char type,char cmd,char func0, char func1,char func2 ,char func3,char func4)	//Frame for referent:
   \                     Mode_frame_P2P:
    224          {
   \   00000000   ........           CALL    ?PROLOGUE7_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004   9762               SBIW    R29:R28, 18
   \   00000006   2F80               MOV     R24, R16
   \   00000008   2F91               MOV     R25, R17
   \   0000000A   2FA2               MOV     R26, R18
   \   0000000C   2FB3               MOV     R27, R19
   \   0000000E   2E44               MOV     R4, R20
   \   00000010   2E55               MOV     R5, R21
   \   00000012   2E66               MOV     R6, R22
    225          	// D1 A|Pl 0|1 4|2 0|D 0|0 0|0 0|0 	"ON"					// Mode_frame_P2P('1','2','0','0','0','0','0');
    226          	// D1 A|Pl 0|1 4|2 0|D 0|1 0|0 0|0 	"OFF"					// Mode_frame_P2P('1','2','1','0','0','0','0');
    227          	// D1 A|Pl 0|1 4|2 0|D 0|3 0|2 F|F 	"DIM +"				// Mode_frame_P2P('1','2','3','0','2','F','F');		step == 2	speed==default
    228          	// D1 A|Pl 0|1 4|2 0|D 0|4 0|1 F|F	"DIM -"				// Mode_frame_P2P('1','2','4','0','1','F','F');		step == 1	speed==default
    229            // D1 A|Pl 0|1 4|2 0|D 0|D X|X F|F	"LEVEL"				// Mode_frame_P2P('1','2','D','X','X','F','F');
    230          
    231          	unsigned char TX_buffer[16];
    232          	unsigned char buffer[2];
    233          
    234          	if(func0 == '0') 	
   \   00000014   33A0               CPI     R26, 48
   \   00000016   F461               BRNE    ??Mode_frame_P2P_0
    235          	{
    236          			Sensor_mode.power_on_flag = 1;		    // ON FRAME
   \   00000018   ....               LDI     R30, LOW(Sensor_mode)
   \   0000001A   ....               LDI     R31, (Sensor_mode) >> 8
   \   0000001C   8107               LDD     R16, Z+7
   \   0000001E   6200               ORI     R16, 0x20
   \   00000020   8307               STD     Z+7, R16
    237          			//KO_conf.status[1] = Status_ON;		//reyno 0616
    238          			SCS_received.update_on_wait++;
   \   00000022   9100....           LDS     R16, (SCS_received + 1)
   \   00000026   2F10               MOV     R17, R16
   \   00000028   7F13               ANDI    R17, 0xF3
   \   0000002A   5F0C               SUBI    R16, 252
   \   0000002C   700C               ANDI    R16, 0x0C
   \   0000002E   C010               RJMP    ??Mode_frame_P2P_1
    239          			//DLL.lightness_load = T_5min5s;				// start timer 5min5s, start to calibrate the load provision
    240          			//DLL.calc_OK_flag = 0; //reyno 0616
    241          	}
    242          	else if(func0 == '1')
   \                     ??Mode_frame_P2P_0:
   \   00000030   33A1               CPI     R26, 49
   \   00000032   F489               BRNE    ??Mode_frame_P2P_2
    243          	{
    244          		Sensor_mode.power_on_flag = 0;						// OFF FRAME
   \   00000034   ....               LDI     R30, LOW(Sensor_mode)
   \   00000036   ....               LDI     R31, (Sensor_mode) >> 8
   \   00000038   8107               LDD     R16, Z+7
   \   0000003A   7D0F               ANDI    R16, 0xDF
   \   0000003C   8307               STD     Z+7, R16
    245          		KO_conf.status[1] = Status_OFF;		//reyno 0616
   \   0000003E   E000               LDI     R16, 0
   \   00000040   9300....           STS     (KO_conf + 46), R16
    246          		SCS_received.update_off_wait++;
   \   00000044   9100....           LDS     R16, (SCS_received + 1)
   \   00000048   2F10               MOV     R17, R16
   \   0000004A   7C1F               ANDI    R17, 0xCF
   \   0000004C   5F00               SUBI    R16, 240
   \   0000004E   7300               ANDI    R16, 0x30
   \                     ??Mode_frame_P2P_1:
   \   00000050   2B10               OR      R17, R16
   \   00000052   9310....           STS     (SCS_received + 1), R17
    247          	}
    248          
    249          	if((product_information.conf_type == 1)||(product_information.conf_type == 2))     						// configurate in advanced or Basic virtual
   \                     ??Mode_frame_P2P_2:
   \   00000056   9100....           LDS     R16, product_information
   \   0000005A   3001               CPI     R16, 1
   \   0000005C   F021               BREQ    ??Mode_frame_P2P_3
   \   0000005E   9100....           LDS     R16, product_information
   \   00000062   3002               CPI     R16, 2
   \   00000064   F4C9               BRNE    ??Mode_frame_P2P_4
   \                     ??Mode_frame_P2P_3:
   \   00000066   9100....           LDS     R16, (KO_conf + 1)
   \   0000006A   2300               TST     R16
   \   0000006C   F449               BRNE    ??Mode_frame_P2P_5
   \   0000006E   9100....           LDS     R16, (KO_conf + 2)
   \   00000072   2300               TST     R16
   \   00000074   F029               BREQ    ??Mode_frame_P2P_5
    250          	{
    251          		if((KO_conf.AddressType ==0)&&(KO_conf.DesAdd !=0 ))		CharToStr(KO_conf.DesAdd , buffer);		// P2P ON frame	
   \   00000076   019E               MOVW    R19:R18, R29:R28
   \   00000078   9100....           LDS     R16, (KO_conf + 2)
   \   0000007C   ........           CALL    CharToStr
    252          		if((KO_conf.AddressType ==2)&&(KO_conf.Reference !=0 ))	CharToStr(KO_conf.Reference, buffer);		// Parital ON frame		
   \                     ??Mode_frame_P2P_5:
   \   00000080   9100....           LDS     R16, (KO_conf + 1)
   \   00000084   3002               CPI     R16, 2
   \   00000086   F489               BRNE    ??Mode_frame_P2P_6
   \   00000088   9100....           LDS     R16, (KO_conf + 5)
   \   0000008C   2300               TST     R16
   \   0000008E   F069               BREQ    ??Mode_frame_P2P_6
   \   00000090   019E               MOVW    R19:R18, R29:R28
   \   00000092   9100....           LDS     R16, (KO_conf + 5)
   \   00000096   C007               RJMP    ??Mode_frame_P2P_7
    253          		TX_buffer[2] = buffer[0];
    254          		TX_buffer[3] = buffer[1];
    255          	}
    256          	else if(product_information.conf_type == 0)     // configurate in Basic physical
   \                     ??Mode_frame_P2P_4:
   \   00000098   9100....           LDS     R16, product_information
   \   0000009C   2300               TST     R16
   \   0000009E   F449               BRNE    ??Mode_frame_P2P_8
    257          	{
    258          		//TX_buffer[2] = Configurators.A;
    259          		//TX_buffer[3] = Configurators.PL;
    260          		CharToStr(KO_conf.DesAdd,buffer);  //reyno 0619
   \   000000A0   019E               MOVW    R19:R18, R29:R28
   \   000000A2   9100....           LDS     R16, (KO_conf + 2)
   \                     ??Mode_frame_P2P_7:
   \   000000A6   ........           CALL    CharToStr
    261          		TX_buffer[2] = buffer[0];
   \                     ??Mode_frame_P2P_6:
   \   000000AA   8108               LD      R16, Y
   \   000000AC   830C               STD     Y+4, R16
    262          		TX_buffer[3] = buffer[1];
   \   000000AE   8109               LDD     R16, Y+1
   \   000000B0   830D               STD     Y+5, R16
    263          	}
    264          
    265          	TX_buffer[0]  = 'D';
   \                     ??Mode_frame_P2P_8:
   \   000000B2   E404               LDI     R16, 68
   \   000000B4   830A               STD     Y+2, R16
    266          	TX_buffer[1]  = type;
   \   000000B6   838B               STD     Y+3, R24
    267          	TX_buffer[4]  = '0';
   \   000000B8   E300               LDI     R16, 48
   \   000000BA   830E               STD     Y+6, R16
    268          	TX_buffer[5]  = '1';
   \   000000BC   E301               LDI     R16, 49
   \   000000BE   830F               STD     Y+7, R16
    269          	TX_buffer[6]  = '4';
   \   000000C0   E304               LDI     R16, 52
   \   000000C2   8708               STD     Y+8, R16
    270          	TX_buffer[7]  = cmd;
   \   000000C4   8799               STD     Y+9, R25
    271          	TX_buffer[8]  = '0';
   \   000000C6   E300               LDI     R16, 48
   \   000000C8   870A               STD     Y+10, R16
    272          	TX_buffer[9]  = 'D';
   \   000000CA   E404               LDI     R16, 68
   \   000000CC   870B               STD     Y+11, R16
    273          	TX_buffer[10] = '0';
   \   000000CE   E300               LDI     R16, 48
   \   000000D0   870C               STD     Y+12, R16
    274          	TX_buffer[11] = func0;
   \   000000D2   87AD               STD     Y+13, R26
    275          	TX_buffer[12] = func1;
   \   000000D4   87BE               STD     Y+14, R27
    276          	TX_buffer[13] = func2;
   \   000000D6   864F               STD     Y+15, R4
    277          	TX_buffer[14] = func3;
   \   000000D8   8A58               STD     Y+16, R5
    278          	TX_buffer[15] = func4;
   \   000000DA   8A69               STD     Y+17, R6
    279          	org_ext_broad(TX_buffer, TRANS_DELAY);
   \   000000DC   E322               LDI     R18, 50
   \   000000DE   E030               LDI     R19, 0
   \   000000E0   018E               MOVW    R17:R16, R29:R28
   \   000000E2   5F0E               SUBI    R16, 254
   \   000000E4   4F1F               SBCI    R17, 255
   \   000000E6   ........           CALL    org_ext_broad
    280          }
   \   000000EA   9662               ADIW    R29:R28, 18
   \   000000EC   E0E7               LDI     R30, 7
   \   000000EE   ........           JMP     ?EPILOGUE_B7_L09
    281          
    282          //******************************************************************************
    283          // 			used for the modality 2
    284          //******************************************************************************

   \                                 In  segment CODE, align 2, keep-with-next
    285          void frame_M2_answer( unsigned char type)		// D5 GR 01 34 type xx xx xx
   \                     frame_M2_answer:
    286          {
   \   00000000   ........           CALL    ?PROLOGUE6_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004   9762               SBIW    R29:R28, 18
   \   00000006   2F80               MOV     R24, R16
    287              	
    288            		unsigned char TX_buffer[16];
    289          		unsigned char buffer[2];
    290              	unsigned char value1;
    291              	unsigned char value2;
    292              	unsigned char value3;
    293          
    294          		TX_buffer[0]  = 'D';
   \   00000008   E404               LDI     R16, 68
   \   0000000A   830A               STD     Y+2, R16
    295          		TX_buffer[1]  = '5';
   \   0000000C   E305               LDI     R16, 53
   \   0000000E   830B               STD     Y+3, R16
    296          		TX_buffer[4]  = '0';
   \   00000010   E300               LDI     R16, 48
   \   00000012   830E               STD     Y+6, R16
    297          		TX_buffer[5]  = '1';
   \   00000014   E301               LDI     R16, 49
   \   00000016   830F               STD     Y+7, R16
    298          		TX_buffer[6]  = '3';
   \   00000018   E303               LDI     R16, 51
   \   0000001A   8708               STD     Y+8, R16
    299          		TX_buffer[7]  = '4';
   \   0000001C   E304               LDI     R16, 52
   \   0000001E   8709               STD     Y+9, R16
    300          		TX_buffer[8]  = '1';
   \   00000020   E301               LDI     R16, 49
   \   00000022   870A               STD     Y+10, R16
    301          		TX_buffer[9]  = type;
   \   00000024   878B               STD     Y+11, R24
    302          		CharToStr(KO_conf.GR, buffer);
   \   00000026   019E               MOVW    R19:R18, R29:R28
   \   00000028   9100....           LDS     R16, (KO_conf + 6)
   \   0000002C   ........           CALL    CharToStr
    303          		TX_buffer[2] = buffer[0];
   \   00000030   8108               LD      R16, Y
   \   00000032   830C               STD     Y+4, R16
    304          		TX_buffer[3] = buffer[1];
   \   00000034   8109               LDD     R16, Y+1
   \   00000036   830D               STD     Y+5, R16
    305          
    306                  if(type == '0')     // M2_daylight level
   \   00000038   3380               CPI     R24, 48
   \   0000003A   F451               BRNE    ??frame_M2_answer_0
    307                  {
    308                        value1 =  0;
   \   0000003C   E090               LDI     R25, 0
    309                        value2 =  (DLL.current_level&0xFF00)>>8;
   \   0000003E   91A0....           LDS     R26, (DLL + 16)
   \   00000042   91B0....           LDS     R27, (DLL + 17)
   \   00000046   2FAB               MOV     R26, R27
    310                        value3 =  DLL.current_level&0x00FF;
   \   00000048   9040....           LDS     R4, (DLL + 16)
   \   0000004C   9050....           LDS     R5, (DLL + 17)
    311          			  // the value should be == DLL.current_level*5
    312                  }
    313                  if(type == '5')     // Sensitivity
   \                     ??frame_M2_answer_0:
   \   00000050   3385               CPI     R24, 53
   \   00000052   F439               BRNE    ??frame_M2_answer_1
    314                  {
    315                        value1 =  0;
   \   00000054   E090               LDI     R25, 0
    316                        value2 =  0;
   \   00000056   E0A0               LDI     R26, 0
    317                        value3 =  eep_M2_sens;
   \   00000058   ....               LDI     R20, LOW(eep_M2_sens)
   \   0000005A   ....               LDI     R21, (eep_M2_sens) >> 8
   \   0000005C   ........           CALL    __eeget8_16
   \   00000060   2E40               MOV     R4, R16
    318                  }
    319                  if(type == '6')     // M2_timer
   \                     ??frame_M2_answer_1:
   \   00000062   3386               CPI     R24, 54
   \   00000064   F479               BRNE    ??frame_M2_answer_2
    320                  {
    321                        value1 =  eep_M2_hour;
   \   00000066   ....               LDI     R20, LOW(eep_M2_hour)
   \   00000068   ....               LDI     R21, (eep_M2_hour) >> 8
   \   0000006A   ........           CALL    __eeget8_16
   \   0000006E   2F90               MOV     R25, R16
    322                        value2 =  eep_M2_min;
   \   00000070   ....               LDI     R20, LOW(eep_M2_min)
   \   00000072   ....               LDI     R21, (eep_M2_min) >> 8
   \   00000074   ........           CALL    __eeget8_16
   \   00000078   2FA0               MOV     R26, R16
    323                        value3 =  eep_M2_sec;
   \   0000007A   ....               LDI     R20, LOW(eep_M2_sec)
   \   0000007C   ....               LDI     R21, (eep_M2_sec) >> 8
   \   0000007E   ........           CALL    __eeget8_16
   \   00000082   2E40               MOV     R4, R16
    324                  }
    325          		
    326          		/*
    327                  if((Configurators.A==0)&&(Configurators.PL==0))
    328          	  	{
    329              		CharToStr(KO_conf.DesAdd, buffer);
    330          			TX_buffer[2] = buffer[0];
    331          			TX_buffer[3] = buffer[1];
    332          	  	}
    333          	  	else
    334          	  	{
    335          	  		TX_buffer[2] = Configurators.A;		// sensor in modality 2, A and PL must be insert
    336                		TX_buffer[3] = Configurators.PL;
    337          	  	}  */
    338          	
    339                	CharToStr(value1, buffer);
   \                     ??frame_M2_answer_2:
   \   00000084   019E               MOVW    R19:R18, R29:R28
   \   00000086   2F09               MOV     R16, R25
   \   00000088   ........           CALL    CharToStr
    340          		TX_buffer[10] = buffer[0];
   \   0000008C   8108               LD      R16, Y
   \   0000008E   870C               STD     Y+12, R16
    341          		TX_buffer[11] = buffer[1];
   \   00000090   8109               LDD     R16, Y+1
   \   00000092   870D               STD     Y+13, R16
    342                	CharToStr(value2, buffer);
   \   00000094   019E               MOVW    R19:R18, R29:R28
   \   00000096   2F0A               MOV     R16, R26
   \   00000098   ........           CALL    CharToStr
    343          		TX_buffer[12] = buffer[0];
   \   0000009C   8108               LD      R16, Y
   \   0000009E   870E               STD     Y+14, R16
    344          		TX_buffer[13] = buffer[1];
   \   000000A0   8109               LDD     R16, Y+1
   \   000000A2   870F               STD     Y+15, R16
    345               		CharToStr(value3, buffer);
   \   000000A4   019E               MOVW    R19:R18, R29:R28
   \   000000A6   2D04               MOV     R16, R4
   \   000000A8   ........           CALL    CharToStr
    346          		TX_buffer[14] = buffer[0];
   \   000000AC   8108               LD      R16, Y
   \   000000AE   8B08               STD     Y+16, R16
    347          		TX_buffer[15] = buffer[1];
   \   000000B0   8109               LDD     R16, Y+1
   \   000000B2   8B09               STD     Y+17, R16
    348          
    349          		send_frame_pp_ext_broad(TX_buffer, TRANS_DELAY);
   \   000000B4   E322               LDI     R18, 50
   \   000000B6   E030               LDI     R19, 0
   \   000000B8   018E               MOVW    R17:R16, R29:R28
   \   000000BA   5F0E               SUBI    R16, 254
   \   000000BC   4F1F               SBCI    R17, 255
   \   000000BE   ........           CALL    send_frame_pp_ext_broad
    350                	M2_type = 0;            			// modality
   \   000000C2   E000               LDI     R16, 0
   \   000000C4   9300....           STS     M2_type, R16
    351          
    352          }
   \   000000C8   9662               ADIW    R29:R28, 18
   \   000000CA   E0E6               LDI     R30, 6
   \   000000CC   ........           JMP     ?EPILOGUE_B6_L09
    353          
    354          //******************************************************************************
    355          // 		read the daylight level in calibration waitting mode
    356          //******************************************************************************

   \                                 In  segment CODE, align 2, keep-with-next
    357          void DLL_setpoint(unsigned char point)
   \                     DLL_setpoint:
    358          {
   \   00000000   ........           CALL    ?PROLOGUE4_L09
   \   00000004   2F80               MOV     R24, R16
    359          
    360            DLL.daylight_SampleCount = 0;		// the daylight level point should be gotten 10 points and averaged
   \   00000006   ....               LDI     R26, LOW(DLL)
   \   00000008   ....               LDI     R27, (DLL) >> 8
   \   0000000A   E000               LDI     R16, 0
   \   0000000C   9300....           STS     (DLL + 1), R16
    361          	
    362            while(1)
    363          	{
    364          		get_dl_level();
   \                     ??DLL_setpoint_0:
   \   00000010   ....               RCALL   get_dl_level
    365          		delay_ms(60);
   \   00000012   E30C               LDI     R16, 60
   \   00000014   E010               LDI     R17, 0
   \   00000016   ........           CALL    delay_ms
    366          		if(DLL.getlevel_finish == 1)
   \   0000001A   9100....           LDS     R16, DLL
   \   0000001E   3001               CPI     R16, 1
   \   00000020   F7B9               BRNE    ??DLL_setpoint_0
    367          		{	
    368          					switch(point)
   \   00000022   2F08               MOV     R16, R24
   \   00000024   5001               SUBI    R16, 1
   \   00000026   F029               BREQ    ??DLL_setpoint_1
   \   00000028   950A               DEC     R16
   \   0000002A   F049               BREQ    ??DLL_setpoint_2
   \   0000002C   950A               DEC     R16
   \   0000002E   F069               BREQ    ??DLL_setpoint_3
   \   00000030   C011               RJMP    ??DLL_setpoint_4
    369                		{
    370                   	 case  1://Low:
    371                         DLL.setpoint_L = DLL.day_level;
   \                     ??DLL_setpoint_1:
   \   00000032   01FD               MOVW    R31:R30, R27:R26
   \   00000034   8106               LDD     R16, Z+6
   \   00000036   8117               LDD     R17, Z+7
   \   00000038   8F02               STD     Z+26, R16
   \   0000003A   8F13               STD     Z+27, R17
   \   0000003C   C00B               RJMP    ??DLL_setpoint_4
    372                         break;
    373                     case  2://Medium:
    374                         DLL.setpoint_M = DLL.day_level;
   \                     ??DLL_setpoint_2:
   \   0000003E   01FD               MOVW    R31:R30, R27:R26
   \   00000040   8106               LDD     R16, Z+6
   \   00000042   8117               LDD     R17, Z+7
   \   00000044   8F04               STD     Z+28, R16
   \   00000046   8F15               STD     Z+29, R17
   \   00000048   C005               RJMP    ??DLL_setpoint_4
    375                         break;
    376                     case  3://High:
    377                         DLL.setpoint_H = DLL.day_level;
   \                     ??DLL_setpoint_3:
   \   0000004A   01FD               MOVW    R31:R30, R27:R26
   \   0000004C   8106               LDD     R16, Z+6
   \   0000004E   8117               LDD     R17, Z+7
   \   00000050   8F00               STD     Z+24, R16
   \   00000052   8F11               STD     Z+25, R17
    378                         break;
    379                     default : break;
    380                   	}
    381                   	eep_setpoint[point] = DLL.day_level;
   \                     ??DLL_setpoint_4:
   \   00000054   01FD               MOVW    R31:R30, R27:R26
   \   00000056   8106               LDD     R16, Z+6
   \   00000058   8117               LDD     R17, Z+7
   \   0000005A   E022               LDI     R18, 2
   \   0000005C   9F82               MUL     R24, R18
   \   0000005E   ....               LDI     R20, LOW(eep_setpoint)
   \   00000060   ....               LDI     R21, (eep_setpoint) >> 8
   \   00000062   0D40               ADD     R20, R0
   \   00000064   1D51               ADC     R21, R1
   \   00000066   ........           CALL    __eeput16_16
    382                   	daylight_set_init();        	
   \   0000006A   ....               RCALL   daylight_set_init
    383          					break;
    384          		}
    385          	}
    386                  buzzer_ms(500);	
   \   0000006C   EF04               LDI     R16, 244
   \   0000006E   E011               LDI     R17, 1
   \   00000070   ........           CALL    buzzer_ms
    387                  //  DLL.minstep = factor_divcalc(2000,(DLL.setpoint_H - DLL.setpoint_L));	
    388          }
   \   00000074   E0E4               LDI     R30, 4
   \   00000076   ........           JMP     ?EPILOGUE_B4_L09
    389          
    390          
    391          //******************************************************************************
    392          //		result = x/y		Value xx.xx (00.01 ~ FF.FF)
    393          //******************************************************************************

   \                                 In  segment CODE, align 2, keep-with-next
    394          unsigned int factor_divcalc(unsigned int x,unsigned int y)		//result = x/y
   \                     factor_divcalc:
    395          {
   \   00000000   ........           CALL    ?PROLOGUE8_L09
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004   01C8               MOVW    R25:R24, R17:R16
   \   00000006   0139               MOVW    R7:R6, R19:R18
    396          	volatile static unsigned int result;
    397          	volatile static unsigned int remainder;
    398          	volatile static unsigned int Dec,Hex;
    399          	
    400          	Dec = 0;
   \   00000008   ....               LDI     R26, LOW(??result)
   \   0000000A   ....               LDI     R27, (??result) >> 8
   \   0000000C   E010               LDI     R17, 0
   \   0000000E   01FD               MOVW    R31:R30, R27:R26
   \   00000010   8314               STD     Z+4, R17
   \   00000012   8315               STD     Z+5, R17
    401          	Hex = 0;
   \   00000014   8316               STD     Z+6, R17
   \   00000016   8317               STD     Z+7, R17
    402          	result = 0;
   \   00000018   931D               ST      X+, R17
   \   0000001A   931C               ST      X, R17
   \   0000001C   9711               SBIW    R27:R26, 1
    403          	remainder = 0;
   \   0000001E   8312               STD     Z+2, R17
   \   00000020   8313               STD     Z+3, R17
    404          	if(x > y)		
   \   00000022   1668               CP      R6, R24
   \   00000024   0679               CPC     R7, R25
   \   00000026   F008               BRCS    $+2+2
   \   00000028   C041               RJMP    ??factor_divcalc_0
    405          	{
    406              result = x/y;
   \   0000002A   01A3               MOVW    R21:R20, R7:R6
   \   0000002C   018C               MOVW    R17:R16, R25:R24
   \   0000002E   ........           CALL    ?US_DIVMOD_L02
   \   00000032   930D               ST      X+, R16
   \   00000034   931C               ST      X, R17
   \   00000036   9711               SBIW    R27:R26, 1
    407          		result = result<<8;
   \   00000038   910D               LD      R16, X+
   \   0000003A   911C               LD      R17, X
   \   0000003C   9711               SBIW    R27:R26, 1
   \   0000003E   2F10               MOV     R17, R16
   \   00000040   E000               LDI     R16, 0
   \   00000042   930D               ST      X+, R16
   \   00000044   931C               ST      X, R17
   \   00000046   9711               SBIW    R27:R26, 1
    408          		remainder = x%y;
   \   00000048   01FD               MOVW    R31:R30, R27:R26
   \   0000004A   8202               STD     Z+2, R0
   \   0000004C   8213               STD     Z+3, R1
    409          		result += ((remainder*10)/y)<<4;
   \   0000004E   8142               LDD     R20, Z+2
   \   00000050   8153               LDD     R21, Z+3
   \   00000052   E00A               LDI     R16, 10
   \   00000054   E010               LDI     R17, 0
   \   00000056   ........           CALL    ?S_EC_MUL_L02
   \   0000005A   01A3               MOVW    R21:R20, R7:R6
   \   0000005C   ........           CALL    ?US_DIVMOD_L02
   \   00000060   E044               LDI     R20, 4
   \   00000062   ........           CALL    ?S_SHL_L02
   \   00000066   912D               LD      R18, X+
   \   00000068   913C               LD      R19, X
   \   0000006A   0F20               ADD     R18, R16
   \   0000006C   1F31               ADC     R19, R17
   \   0000006E   933C               ST      X, R19
   \   00000070   932E               ST      -X, R18
    410          		remainder = (remainder*10)%y;
   \   00000072   01FD               MOVW    R31:R30, R27:R26
   \   00000074   8142               LDD     R20, Z+2
   \   00000076   8153               LDD     R21, Z+3
   \   00000078   E00A               LDI     R16, 10
   \   0000007A   E010               LDI     R17, 0
   \   0000007C   ........           CALL    ?S_EC_MUL_L02
   \   00000080   01A3               MOVW    R21:R20, R7:R6
   \   00000082   ........           CALL    ?US_DIVMOD_L02
   \   00000086   01FD               MOVW    R31:R30, R27:R26
   \   00000088   8202               STD     Z+2, R0
   \   0000008A   8213               STD     Z+3, R1
    411          		result += (remainder*10)/y;
   \   0000008C   8142               LDD     R20, Z+2
   \   0000008E   8153               LDD     R21, Z+3
   \   00000090   E00A               LDI     R16, 10
   \   00000092   E010               LDI     R17, 0
   \   00000094   ........           CALL    ?S_EC_MUL_L02
   \   00000098   01A3               MOVW    R21:R20, R7:R6
   \   0000009A   ........           CALL    ?US_DIVMOD_L02
   \   0000009E   912D               LD      R18, X+
   \   000000A0   913C               LD      R19, X
   \   000000A2   0F20               ADD     R18, R16
   \   000000A4   1F31               ADC     R19, R17
   \   000000A6   933C               ST      X, R19
   \   000000A8   932E               ST      -X, R18
   \   000000AA   C068               RJMP    ??factor_divcalc_1
    412          	}
    413          	else			
    414          	{
    415          		if(x*10>y)
   \                     ??factor_divcalc_0:
   \   000000AC   E00A               LDI     R16, 10
   \   000000AE   01AC               MOVW    R21:R20, R25:R24
   \   000000B0   ........           CALL    ?S_EC_MUL_L02
   \   000000B4   1660               CP      R6, R16
   \   000000B6   0671               CPC     R7, R17
   \   000000B8   F008               BRCS    $+2+2
   \   000000BA   C052               RJMP    ??factor_divcalc_2
    416          		{
    417          			result = (x*10)/y;
   \   000000BC   01A3               MOVW    R21:R20, R7:R6
   \   000000BE   ........           CALL    ?US_DIVMOD_L02
   \   000000C2   930D               ST      X+, R16
   \   000000C4   931C               ST      X, R17
   \   000000C6   9711               SBIW    R27:R26, 1
    418          			result = result<<4;
   \   000000C8   E044               LDI     R20, 4
   \   000000CA   910D               LD      R16, X+
   \   000000CC   911C               LD      R17, X
   \   000000CE   9711               SBIW    R27:R26, 1
   \   000000D0   ........           CALL    ?S_SHL_L02
   \   000000D4   930D               ST      X+, R16
   \   000000D6   931C               ST      X, R17
   \   000000D8   9711               SBIW    R27:R26, 1
    419          			remainder = (x*10)%y;
   \   000000DA   01FD               MOVW    R31:R30, R27:R26
   \   000000DC   8202               STD     Z+2, R0
   \   000000DE   8213               STD     Z+3, R1
    420          			result += (remainder*10)/y;															// result Hex
   \   000000E0   8142               LDD     R20, Z+2
   \   000000E2   8153               LDD     R21, Z+3
   \   000000E4   E00A               LDI     R16, 10
   \   000000E6   E010               LDI     R17, 0
   \   000000E8   ........           CALL    ?S_EC_MUL_L02
   \   000000EC   01A3               MOVW    R21:R20, R7:R6
   \   000000EE   ........           CALL    ?US_DIVMOD_L02
   \   000000F2   912D               LD      R18, X+
   \   000000F4   913C               LD      R19, X
   \   000000F6   0F20               ADD     R18, R16
   \   000000F8   1F31               ADC     R19, R17
   \   000000FA   933C               ST      X, R19
   \   000000FC   932E               ST      -X, R18
    421          			
    422          			Dec = ((result & 0x00F0)>>4)*10 + (result & 0x000F);		// translate 16 to 10
   \   000000FE   914D               LD      R20, X+
   \   00000100   915C               LD      R21, X
   \   00000102   9711               SBIW    R27:R26, 1
   \   00000104   9542               SWAP    R20
   \   00000106   704F               ANDI    R20, 0x0F
   \   00000108   E050               LDI     R21, 0
   \   0000010A   E00A               LDI     R16, 10
   \   0000010C   E010               LDI     R17, 0
   \   0000010E   ........           CALL    ?S_EC_MUL_L02
   \   00000112   912D               LD      R18, X+
   \   00000114   913C               LD      R19, X
   \   00000116   9711               SBIW    R27:R26, 1
   \   00000118   702F               ANDI    R18, 0x0F
   \   0000011A   0F02               ADD     R16, R18
   \   0000011C   1F15               ADC     R17, R21
   \   0000011E   01FD               MOVW    R31:R30, R27:R26
   \   00000120   8304               STD     Z+4, R16
   \   00000122   8315               STD     Z+5, R17
    423          			Hex = Dec/16;
   \   00000124   8104               LDD     R16, Z+4
   \   00000126   8115               LDD     R17, Z+5
   \   00000128   E044               LDI     R20, 4
   \   0000012A   ........           CALL    ?US_SHR_L02
   \   0000012E   8306               STD     Z+6, R16
   \   00000130   8317               STD     Z+7, R17
    424          			remainder = (Dec%16)*5/8;																//remainder =(Dec%16)*10/16;
   \   00000132   8104               LDD     R16, Z+4
   \   00000134   8115               LDD     R17, Z+5
   \   00000136   700F               ANDI    R16, 0x0F
   \   00000138   E010               LDI     R17, 0
   \   0000013A   E045               LDI     R20, 5
   \   0000013C   ........           CALL    ?S_EC_MUL_L02
   \   00000140   E043               LDI     R20, 3
   \   00000142   ........           CALL    ?US_SHR_L02
   \   00000146   8302               STD     Z+2, R16
   \   00000148   8313               STD     Z+3, R17
    425          			result = ((Hex<<4) & 0x00FF) + remainder;
   \   0000014A   8106               LDD     R16, Z+6
   \   0000014C   8117               LDD     R17, Z+7
   \   0000014E   E044               LDI     R20, 4
   \   00000150   ........           CALL    ?S_SHL_L02
   \   00000154   E010               LDI     R17, 0
   \   00000156   8122               LDD     R18, Z+2
   \   00000158   8133               LDD     R19, Z+3
   \   0000015A   0F02               ADD     R16, R18
   \   0000015C   1F13               ADC     R17, R19
   \   0000015E   C00B               RJMP    ??factor_divcalc_3
    426          		}
    427          		else if(x*100>y)
   \                     ??factor_divcalc_2:
   \   00000160   E644               LDI     R20, 100
   \   00000162   E050               LDI     R21, 0
   \   00000164   018C               MOVW    R17:R16, R25:R24
   \   00000166   ........           CALL    ?S_EC_MUL_L02
   \   0000016A   1660               CP      R6, R16
   \   0000016C   0671               CPC     R7, R17
   \   0000016E   F430               BRCC    ??factor_divcalc_1
    428          		{
    429          			result = (x*100)/y;
   \   00000170   01A3               MOVW    R21:R20, R7:R6
   \   00000172   ........           CALL    ?US_DIVMOD_L02
   \                     ??factor_divcalc_3:
   \   00000176   930D               ST      X+, R16
   \   00000178   931C               ST      X, R17
   \   0000017A   9711               SBIW    R27:R26, 1
    430          		}
    431          	}
    432          	return result;
   \                     ??factor_divcalc_1:
   \   0000017C   910D               LD      R16, X+
   \   0000017E   911C               LD      R17, X
   \   00000180   E0E8               LDI     R30, 8
   \   00000182   ........           JMP     ?EPILOGUE_B8_L09
    433          }

   \                                 In  segment NEAR_Z, align 1, keep-with-next
   \   00000000                      REQUIRE `?<Segment init: NEAR_Z>`
   \                     ??result:
   \   00000000                      DS8 2
   \   00000002                      DS8 2
   \   00000004                      DS8 2
   \   00000006                      DS8 2
    434          
    435          //******************************************************************************
    436          //				result = x*y
    437          //				result = x*y	yfactor,xx.xx,
    438          //******************************************************************************

   \                                 In  segment CODE, align 2, keep-with-next
    439          unsigned int factor_mulcalc(unsigned int x,unsigned int y)				
   \                     factor_mulcalc:
    440          {
   \   00000000   ........           CALL    ?PROLOGUE6_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004   01D8               MOVW    R27:R26, R17:R16
   \   00000006   01C9               MOVW    R25:R24, R19:R18
    441          	unsigned int result=0;
    442          
    443          	result = x*(y>>8) + x*((y&0x00F0)>>4)/10 + x*(y&0x000F)/100;
    444          
    445          	return result;
   \   00000008   01AC               MOVW    R21:R20, R25:R24
   \   0000000A   2F45               MOV     R20, R21
   \   0000000C   E050               LDI     R21, 0
   \   0000000E   ........           CALL    ?S_EC_MUL_L02
   \   00000012   0128               MOVW    R5:R4, R17:R16
   \   00000014   2F48               MOV     R20, R24
   \   00000016   9542               SWAP    R20
   \   00000018   704F               ANDI    R20, 0x0F
   \   0000001A   018D               MOVW    R17:R16, R27:R26
   \   0000001C   ........           CALL    ?S_EC_MUL_L02
   \   00000020   E04A               LDI     R20, 10
   \   00000022   ........           CALL    ?US_DIVMOD_L02
   \   00000026   0E40               ADD     R4, R16
   \   00000028   1E51               ADC     R5, R17
   \   0000002A   708F               ANDI    R24, 0x0F
   \   0000002C   E090               LDI     R25, 0
   \   0000002E   01AD               MOVW    R21:R20, R27:R26
   \   00000030   018C               MOVW    R17:R16, R25:R24
   \   00000032   ........           CALL    ?S_EC_MUL_L02
   \   00000036   E644               LDI     R20, 100
   \   00000038   E050               LDI     R21, 0
   \   0000003A   ........           CALL    ?US_DIVMOD_L02
   \   0000003E   0E40               ADD     R4, R16
   \   00000040   1E51               ADC     R5, R17
   \   00000042   0182               MOVW    R17:R16, R5:R4
   \   00000044   E0E6               LDI     R30, 6
   \   00000046   ........           JMP     ?EPILOGUE_B6_L09
    446          }
    447          
    448          //******************************************************************************
    449          //					Regulation for actuator
    450          //		after both load provision and setpoint had been calibrated
    451          //******************************************************************************

   \                                 In  segment CODE, align 2, keep-with-next
    452          void Actuator_regulation(void)
   \                     Actuator_regulation:
    453          {
   \   00000000   ........           CALL    ?PROLOGUE4_L09
    454          	//if( DLL.calc_OK_flag == 1 && Time_delay.timer_delay_set.enabled ==1 && DLL.start_regulation == 1 )			
    455          	if( DLL.start_regulation == 1 )
   \   00000004   ....               LDI     R30, LOW(DLL)
   \   00000006   ....               LDI     R31, (DLL) >> 8
   \   00000008   A906               LDD     R16, Z+54
   \   0000000A   FF00               SBRS    R16, 0
   \   0000000C   C064               RJMP    ??Actuator_regulation_0
    456          	{
    457          		if((DLL.current_level < set_point)&&(Sensor_mode.power_on_flag ==0))
   \   0000000E   8900               LDD     R16, Z+16
   \   00000010   8911               LDD     R17, Z+17
   \   00000012   9120....           LDS     R18, set_point
   \   00000016   9130....           LDS     R19, (set_point + 1)
   \   0000001A   1702               CP      R16, R18
   \   0000001C   0713               CPC     R17, R19
   \   0000001E   F4F0               BRCC    ??Actuator_regulation_1
   \   00000020   ....               LDI     R26, LOW((Sensor_mode + 7))
   \   00000022   ....               LDI     R27, HIGH((Sensor_mode + 7))
   \   00000024   910C               LD      R16, X
   \   00000026   FD05               SBRC    R16, 5
   \   00000028   C019               RJMP    ??Actuator_regulation_1
    458          		{
    459          			Time_delay.DLL_low_20s_enable = 1;
   \   0000002A   ....               LDI     R30, LOW(Time_delay)
   \   0000002C   ....               LDI     R31, (Time_delay) >> 8
   \   0000002E   8106               LDD     R16, Z+6
   \   00000030   6400               ORI     R16, 0x40
   \   00000032   8306               STD     Z+6, R16
    460          			Time_delay.DLL_high_10min_enable = 0;
   \   00000034   8106               LDD     R16, Z+6
   \   00000036   770F               ANDI    R16, 0x7F
   \   00000038   8306               STD     Z+6, R16
    461          			if(Time_delay.DLL_low_20s_count > Regulation_20s)
   \   0000003A   8981               LDD     R24, Z+17
   \   0000003C   8992               LDD     R25, Z+18
   \   0000003E   3185               CPI     R24, 21
   \   00000040   4090               SBCI    R25, 0
   \   00000042   F408               BRCC    $+2+2
   \   00000044   C048               RJMP    ??Actuator_regulation_0
    462          			{
    463          				Time_delay.DLL_low_20s_count = 0;
   \   00000046   E010               LDI     R17, 0
   \   00000048   8B11               STD     Z+17, R17
   \   0000004A   8B12               STD     Z+18, R17
    464          				Time_delay.DLL_low_20s_enable = 0;
   \   0000004C   8106               LDD     R16, Z+6
   \   0000004E   7B0F               ANDI    R16, 0xBF
   \   00000050   8306               STD     Z+6, R16
    465          				//if(Configurators.M == '1')	
    466          				//if(KO_conf.LightReg == 1)
    467          					//frame_pp_on_off('0');           				// send frame ON
    468          				//else					
    469          				//Mode_frame_P2P('1','2','0','0','0','0','0');			// send P2P ON frame light on the load
    470          				dimmer_command(ON,0);
   \   00000052   E001               LDI     R16, 1
   \   00000054   ....               RCALL   dimmer_command
    471          				regulation_timer_initial();
   \   00000056   ........           CALL    regulation_timer_initial
   \   0000005A   C03D               RJMP    ??Actuator_regulation_0
    472          			}
    473          		}
    474          		else if((DLL.current_level > DLL.setpoint_OFF)&&(Sensor_mode.power_on_flag ==1)&&(DLL.calc_OK_flag == 1))
   \                     ??Actuator_regulation_1:
   \   0000005C   8904               LDD     R16, Z+20
   \   0000005E   8915               LDD     R17, Z+21
   \   00000060   8920               LDD     R18, Z+16
   \   00000062   8931               LDD     R19, Z+17
   \   00000064   1702               CP      R16, R18
   \   00000066   0713               CPC     R17, R19
   \   00000068   F530               BRCC    ??Actuator_regulation_2
   \   0000006A   ....               LDI     R26, LOW((Sensor_mode + 7))
   \   0000006C   ....               LDI     R27, HIGH((Sensor_mode + 7))
   \   0000006E   910C               LD      R16, X
   \   00000070   FF05               SBRS    R16, 5
   \   00000072   C021               RJMP    ??Actuator_regulation_2
   \   00000074   8907               LDD     R16, Z+23
   \   00000076   3001               CPI     R16, 1
   \   00000078   F4F1               BRNE    ??Actuator_regulation_2
    475          		{
    476          			Time_delay.DLL_high_10min_enable = 1;
   \   0000007A   ....               LDI     R30, LOW(Time_delay)
   \   0000007C   ....               LDI     R31, (Time_delay) >> 8
   \   0000007E   8106               LDD     R16, Z+6
   \   00000080   6800               ORI     R16, 0x80
   \   00000082   8306               STD     Z+6, R16
    477          			Time_delay.DLL_low_20s_enable = 0;
   \   00000084   8106               LDD     R16, Z+6
   \   00000086   7B0F               ANDI    R16, 0xBF
   \   00000088   8306               STD     Z+6, R16
    478          			if(Time_delay.DLL_high_10min_count > Regulation_10min)						// 10min may be too long 	
   \   0000008A   8903               LDD     R16, Z+19
   \   0000008C   8914               LDD     R17, Z+20
   \   0000008E   8925               LDD     R18, Z+21
   \   00000090   8936               LDD     R19, Z+22
   \   00000092   3509               CPI     R16, 89
   \   00000094   E042               LDI     R20, 2
   \   00000096   0714               CPC     R17, R20
   \   00000098   E040               LDI     R20, 0
   \   0000009A   0724               CPC     R18, R20
   \   0000009C   0734               CPC     R19, R20
   \   0000009E   F0D8               BRCS    ??Actuator_regulation_0
    479          			{
    480          				Time_delay.DLL_high_10min_count = 0;
   \   000000A0   E010               LDI     R17, 0
   \   000000A2   8B13               STD     Z+19, R17
   \   000000A4   8B14               STD     Z+20, R17
   \   000000A6   8B15               STD     Z+21, R17
   \   000000A8   8B16               STD     Z+22, R17
    481          				Time_delay.DLL_high_10min_enable = 0;
   \   000000AA   8106               LDD     R16, Z+6
   \   000000AC   770F               ANDI    R16, 0x7F
   \   000000AE   8306               STD     Z+6, R16
    482          				//if(Configurators.M == '1')	
    483          				//	frame_pp_on_off('1');           				// send frame Off
    484          				//else					
    485          				//Mode_frame_P2P('1','2','1','0','0','0','0');			// send P2P OFF frame light on the load
    486          				dimmer_command(OFF,0);
   \   000000B0   E002               LDI     R16, 2
   \   000000B2   ....               RCALL   dimmer_command
   \   000000B4   C010               RJMP    ??Actuator_regulation_0
    487          				//regulation_timer_initial();
    488          			}
    489          		}
    490          		else
    491          		{
    492          			Time_delay.DLL_low_20s_enable = 0;
   \                     ??Actuator_regulation_2:
   \   000000B6   ....               LDI     R30, LOW(Time_delay)
   \   000000B8   ....               LDI     R31, (Time_delay) >> 8
   \   000000BA   8106               LDD     R16, Z+6
   \   000000BC   7B0F               ANDI    R16, 0xBF
   \   000000BE   8306               STD     Z+6, R16
    493          			Time_delay.DLL_low_20s_count = 0;
   \   000000C0   E000               LDI     R16, 0
   \   000000C2   E010               LDI     R17, 0
   \   000000C4   8B01               STD     Z+17, R16
   \   000000C6   8B02               STD     Z+18, R16
    494          			Time_delay.DLL_high_10min_enable = 0;
   \   000000C8   8106               LDD     R16, Z+6
   \   000000CA   770F               ANDI    R16, 0x7F
   \   000000CC   8306               STD     Z+6, R16
    495          			Time_delay.DLL_high_10min_count = 0;	
   \   000000CE   8B13               STD     Z+19, R17
   \   000000D0   8B14               STD     Z+20, R17
   \   000000D2   8B15               STD     Z+21, R17
   \   000000D4   8B16               STD     Z+22, R17
    496          		}
    497          	}
    498          }
   \                     ??Actuator_regulation_0:
   \   000000D6   E0E4               LDI     R30, 4
   \   000000D8   ........           JMP     ?EPILOGUE_B4_L09
    499          
    500          /******************************************************************************
    501          **				Regulation for dimmer
    502          ** 			 	after setpoint calibrate finish	
    503          ** 			to maintain setpoint~(setpoint+20%)
    504          **				DIM++ 	step==2
    505          **				DIM-- 	step==1
    506          ****** 			DLL.current_level< setpoint		dim++ every 200ms
    507          ****** 			DLL.current_level> setpoint(1+20%)	dim-- every 20s
    508          ****** 			DLL.current_level> setpoint(1+40%)	dim-- every 40s
    509          ****** 			DLL.current_level> setpoint(1+40%)	and dim-- == 0, send "OFF"
    510          ******************************************************************************/

   \                                 In  segment CODE, align 2, keep-with-next
    511          void Dimmer_regulation(void)												
   \                     Dimmer_regulation:
    512          {
   \   00000000   ........           CALL    ?PROLOGUE4_L09
    513          	//unsigned char buffer[2];
    514            if( DLL.start_regulation == 1 )
   \   00000004   ....               LDI     R26, LOW(DLL)
   \   00000006   ....               LDI     R27, (DLL) >> 8
   \   00000008   01FD               MOVW    R31:R30, R27:R26
   \   0000000A   A906               LDD     R16, Z+54
   \   0000000C   FF00               SBRS    R16, 0
   \   0000000E   C108               RJMP    ??Dimmer_regulation_0
   \   00000010   9100....           LDS     R16, (KO_conf + 23)
   \   00000014   2300               TST     R16
   \   00000016   F009               BREQ    $+2+2
   \   00000018   C09D               RJMP    ??Dimmer_regulation_1
    515          	{
    516          			if(KO_conf.TypeLoop == 0)           								// in close loop
    517          			{
    518          				if(DLL.current_level < set_point)														// < setpoint		dim++ every 200ms
   \   0000001A   8900               LDD     R16, Z+16
   \   0000001C   8911               LDD     R17, Z+17
   \   0000001E   9120....           LDS     R18, set_point
   \   00000022   9130....           LDS     R19, (set_point + 1)
   \   00000026   1702               CP      R16, R18
   \   00000028   0713               CPC     R17, R19
   \   0000002A   F570               BRCC    ??Dimmer_regulation_2
    519          				{
    520          					Time_delay.Dim_inc_enable = 1;
   \   0000002C   ....               LDI     R30, LOW(Time_delay)
   \   0000002E   ....               LDI     R31, (Time_delay) >> 8
   \   00000030   8106               LDD     R16, Z+6
   \   00000032   6100               ORI     R16, 0x10
   \   00000034   8306               STD     Z+6, R16
    521          					if(Time_delay.Dim_inc_count > Regulation_200ms)
   \   00000036   8505               LDD     R16, Z+13
   \   00000038   8516               LDD     R17, Z+14
   \   0000003A   3901               CPI     R16, 145
   \   0000003C   E021               LDI     R18, 1
   \   0000003E   0712               CPC     R17, R18
   \   00000040   F408               BRCC    $+2+2
   \   00000042   C0EE               RJMP    ??Dimmer_regulation_0
    522          					{
    523          						Time_delay.Dim_inc_count = 0;
   \   00000044   E010               LDI     R17, 0
   \   00000046   8715               STD     Z+13, R17
   \   00000048   8716               STD     Z+14, R17
    524          						Time_delay.Dim_inc_enable = 0;
   \   0000004A   8106               LDD     R16, Z+6
   \   0000004C   7E0F               ANDI    R16, 0xEF
   \   0000004E   8306               STD     Z+6, R16
    525          						//if(SCS_received.P2P_dimmer_full != 1)
    526          						if(KO_conf.status[1] != 0x64)
   \   00000050   9100....           LDS     R16, (KO_conf + 46)
   \   00000054   3604               CPI     R16, 100
   \   00000056   F029               BREQ    ??Dimmer_regulation_3
    527          						{
    528          							//Mode_frame_P2P('1','2','3','0','2','F','F');					// DIM++ 	step==2
    529          							dimmer_command(DIM_UP,0);
   \   00000058   E00A               LDI     R16, 10
   \                     ??Dimmer_regulation_4:
   \   0000005A   ....               RCALL   dimmer_command
    530          							regulation_timer_initial();
   \   0000005C   ........           CALL    regulation_timer_initial
   \   00000060   C0DF               RJMP    ??Dimmer_regulation_0
    531          							//SCS_received.P2P_dimmer_zero = 0;											// if DIM++ frame is sent, the flag SCS_received.P2P_dimmer_zero should be cleared
    532          						}
    533          						else
    534          						{
    535          							if(flags.dimmer_ON_sended == 0)
   \                     ??Dimmer_regulation_3:
   \   00000062   ....               LDI     R30, LOW(flags)
   \   00000064   ....               LDI     R31, (flags) >> 8
   \   00000066   8504               LDD     R16, Z+12
   \   00000068   8515               LDD     R17, Z+13
   \   0000006A   FD03               SBRC    R16, 3
   \   0000006C   C0D9               RJMP    ??Dimmer_regulation_0
    536          							{	
    537          								dimmer_command(ON,0);
   \   0000006E   E010               LDI     R17, 0
   \   00000070   E001               LDI     R16, 1
   \   00000072   ....               RCALL   dimmer_command
    538          								regulation_timer_initial();
   \   00000074   ........           CALL    regulation_timer_initial
    539          								flags.dimmer_ON_sended = 1;
   \   00000078   ....               LDI     R30, LOW(flags)
   \   0000007A   ....               LDI     R31, (flags) >> 8
   \   0000007C   8504               LDD     R16, Z+12
   \   0000007E   8515               LDD     R17, Z+13
   \   00000080   6008               ORI     R16, 0x08
   \   00000082   8715               STD     Z+13, R17
   \   00000084   8704               STD     Z+12, R16
   \   00000086   C0CC               RJMP    ??Dimmer_regulation_0
    540          							}
    541          						}
    542          					}
    543          				}
    544          				else if (DLL.current_level > (set_point + set_point/2))			// > setpoint(1+40%)	dim-- every 40s
   \                     ??Dimmer_regulation_2:
   \   00000088   9100....           LDS     R16, set_point
   \   0000008C   9110....           LDS     R17, (set_point + 1)
   \   00000090   9120....           LDS     R18, set_point
   \   00000094   9130....           LDS     R19, (set_point + 1)
   \   00000098   9536               LSR     R19
   \   0000009A   9527               ROR     R18
   \   0000009C   0F02               ADD     R16, R18
   \   0000009E   1F13               ADC     R17, R19
   \   000000A0   8920               LDD     R18, Z+16
   \   000000A2   8931               LDD     R19, Z+17
   \   000000A4   1702               CP      R16, R18
   \   000000A6   0713               CPC     R17, R19
   \   000000A8   F538               BRCC    ??Dimmer_regulation_5
    545          				{
    546          						flags.dimmer_ON_sended = 0;
   \   000000AA   ....               LDI     R30, LOW(flags)
   \   000000AC   ....               LDI     R31, (flags) >> 8
   \   000000AE   8504               LDD     R16, Z+12
   \   000000B0   8515               LDD     R17, Z+13
   \   000000B2   7F07               ANDI    R16, 0xF7
   \   000000B4   8715               STD     Z+13, R17
   \   000000B6   8704               STD     Z+12, R16
    547          						Time_delay.Dim_dec_enable = 1;
   \   000000B8   ....               LDI     R30, LOW(Time_delay)
   \   000000BA   ....               LDI     R31, (Time_delay) >> 8
   \   000000BC   8106               LDD     R16, Z+6
   \   000000BE   6200               ORI     R16, 0x20
   \   000000C0   8306               STD     Z+6, R16
    548          						//if(Time_delay.Dim_dec_count > Regulation_600ms)
    549          						if(Time_delay.Dim_dec_count > Reg_dim_20s)
   \   000000C2   8507               LDD     R16, Z+15
   \   000000C4   8910               LDD     R17, Z+16
   \   000000C6   3D01               CPI     R16, 209
   \   000000C8   E027               LDI     R18, 7
   \   000000CA   0712               CPC     R17, R18
   \   000000CC   F408               BRCC    $+2+2
   \   000000CE   C0A8               RJMP    ??Dimmer_regulation_0
    550          						{
    551          							Time_delay.Dim_dec_count = 0;
   \   000000D0   E010               LDI     R17, 0
   \   000000D2   8717               STD     Z+15, R17
   \   000000D4   8B10               STD     Z+16, R17
    552          							Time_delay.Dim_dec_enable = 0;
   \   000000D6   8106               LDD     R16, Z+6
   \   000000D8   7D0F               ANDI    R16, 0xDF
   \   000000DA   8306               STD     Z+6, R16
    553          							if (KO_conf.status[1] == 1)
   \   000000DC   9100....           LDS     R16, (KO_conf + 46)
   \   000000E0   3001               CPI     R16, 1
   \   000000E2   F419               BRNE    ??Dimmer_regulation_6
    554          							{
    555          								//Mode_frame_P2P('1','2','1','0','0','0','0'); //  OFF
    556          								dimmer_command(OFF,0);
   \                     ??Dimmer_regulation_7:
   \   000000E4   E010               LDI     R17, 0
   \   000000E6   E002               LDI     R16, 2
   \   000000E8   C09A               RJMP    ??Dimmer_regulation_8
    557          								//regulation_timer_initial();
    558          							}
    559          							else
    560          							{
    561          								if( KO_conf.status[1] != Status_OFF ) //Reyno 0626
   \                     ??Dimmer_regulation_6:
   \   000000EA   9100....           LDS     R16, (KO_conf + 46)
   \   000000EE   2300               TST     R16
   \   000000F0   F409               BRNE    $+2+2
   \   000000F2   C096               RJMP    ??Dimmer_regulation_0
    562          								{
    563          									//Mode_frame_P2P('1','2','4','0','1','F','F'); // DIM-- step==1
    564          									dimmer_command(DIM_DOWN,0);
   \                     ??Dimmer_regulation_9:
   \   000000F4   E00B               LDI     R16, 11
   \   000000F6   CFB1               RJMP    ??Dimmer_regulation_4
    565          									regulation_timer_initial();
    566          								}
    567          							}
    568          						}
    569          				}
    570          				else if(DLL.current_level > (set_point + set_point/5))			// > setpoint(1+20%)	dim-- every 20s
   \                     ??Dimmer_regulation_5:
   \   000000F8   9180....           LDS     R24, set_point
   \   000000FC   9190....           LDS     R25, (set_point + 1)
   \   00000100   E045               LDI     R20, 5
   \   00000102   E050               LDI     R21, 0
   \   00000104   9100....           LDS     R16, set_point
   \   00000108   9110....           LDS     R17, (set_point + 1)
   \   0000010C   ........           CALL    ?US_DIVMOD_L02
   \   00000110   0F80               ADD     R24, R16
   \   00000112   1F91               ADC     R25, R17
   \   00000114   01FD               MOVW    R31:R30, R27:R26
   \   00000116   8900               LDD     R16, Z+16
   \   00000118   8911               LDD     R17, Z+17
   \   0000011A   1780               CP      R24, R16
   \   0000011C   0791               CPC     R25, R17
   \   0000011E   F008               BRCS    $+2+2
   \   00000120   C07F               RJMP    ??Dimmer_regulation_0
    571          				{
    572          						Time_delay.Dim_dec_enable = 1;
   \   00000122   ....               LDI     R30, LOW(Time_delay)
   \   00000124   ....               LDI     R31, (Time_delay) >> 8
   \   00000126   8106               LDD     R16, Z+6
   \   00000128   6200               ORI     R16, 0x20
   \   0000012A   8306               STD     Z+6, R16
    573          						//if(Time_delay.Dim_dec_count > Regulation_200ms)
    574          						if(Time_delay.Dim_dec_count > Reg_dim_60s)
   \   0000012C   8507               LDD     R16, Z+15
   \   0000012E   8910               LDD     R17, Z+16
   \   00000130   3101               CPI     R16, 17
   \   00000132   E227               LDI     R18, 39
   \   00000134   0712               CPC     R17, R18
   \   00000136   F408               BRCC    $+2+2
   \   00000138   C073               RJMP    ??Dimmer_regulation_0
    575          						{
    576          							Time_delay.Dim_dec_count = 0;
   \   0000013A   E000               LDI     R16, 0
   \   0000013C   E010               LDI     R17, 0
   \   0000013E   8707               STD     Z+15, R16
   \   00000140   8B00               STD     Z+16, R16
    577          							Time_delay.Dim_dec_enable = 0;
   \   00000142   8106               LDD     R16, Z+6
   \   00000144   7D0F               ANDI    R16, 0xDF
   \   00000146   8306               STD     Z+6, R16
    578          							if (KO_conf.status[1] > 1)
   \   00000148   9100....           LDS     R16, (KO_conf + 46)
   \   0000014C   3002               CPI     R16, 2
   \   0000014E   F408               BRCC    $+2+2
   \   00000150   C067               RJMP    ??Dimmer_regulation_0
   \   00000152   CFD0               RJMP    ??Dimmer_regulation_9
    579          							{
    580          								//Mode_frame_P2P('1','2','4','0','1','F','F'); // DIM-- step==1
    581          								dimmer_command(DIM_DOWN,0);
    582          								regulation_timer_initial();
    583          							}
    584          						}
    585          				}
    586          			}
    587          			else if((KO_conf.TypeLoop == 1)&&(SCS_received.Daylight_lux ==1))   // in open loop
   \                     ??Dimmer_regulation_1:
   \   00000154   9100....           LDS     R16, (KO_conf + 23)
   \   00000158   3001               CPI     R16, 1
   \   0000015A   F009               BREQ    $+2+2
   \   0000015C   C061               RJMP    ??Dimmer_regulation_0
   \   0000015E   ....               LDI     R30, LOW(SCS_received)
   \   00000160   ....               LDI     R31, (SCS_received) >> 8
   \   00000162   8103               LDD     R16, Z+3
   \   00000164   FF07               SBRS    R16, 7
   \   00000166   C05C               RJMP    ??Dimmer_regulation_0
    588          			{
    589          				// For a ballast 0-10V
    590          					SCS_received.Daylight_lux = 0;
   \   00000168   8103               LDD     R16, Z+3
   \   0000016A   770F               ANDI    R16, 0x7F
   \   0000016C   8303               STD     Z+3, R16
    591          					DLL.open_lightlevel = (DLL.open_lightlux & 0x000FFFFF)/5;
   \   0000016E   01FD               MOVW    R31:R30, R27:R26
   \   00000170   A100               LDD     R16, Z+32
   \   00000172   A111               LDD     R17, Z+33
   \   00000174   A122               LDD     R18, Z+34
   \   00000176   A133               LDD     R19, Z+35
   \   00000178   702F               ANDI    R18, 0x0F
   \   0000017A   E030               LDI     R19, 0
   \   0000017C   E045               LDI     R20, 5
   \   0000017E   E050               LDI     R21, 0
   \   00000180   E060               LDI     R22, 0
   \   00000182   E070               LDI     R23, 0
   \   00000184   ........           CALL    ?UL_DIVMOD_L03
   \   00000188   01FD               MOVW    R31:R30, R27:R26
   \   0000018A   A304               STD     Z+36, R16
   \   0000018C   A315               STD     Z+37, R17
    592          				// (lux sent by daylight sensor) / (daylight level set by user)
    593          				if((KO_conf.DF ==0)&&(DLL.DF ==0))												//close loopopen loopDF
   \   0000018E   9100....           LDS     R16, (KO_conf + 22)
   \   00000192   2300               TST     R16
   \   00000194   F499               BRNE    ??Dimmer_regulation_10
   \   00000196   8D06               LDD     R16, Z+30
   \   00000198   8D17               LDD     R17, Z+31
   \   0000019A   2B01               OR      R16, R17
   \   0000019C   F479               BRNE    ??Dimmer_regulation_10
    594          				{
    595          					DLL.DF = DLL.open_lightlevel / KO_conf.DaylightLev;			// calculate the D.F in the openloop
   \   0000019E   A104               LDD     R16, Z+36
   \   000001A0   A115               LDD     R17, Z+37
   \   000001A2   9140....           LDS     R20, (KO_conf + 27)
   \   000001A6   E050               LDI     R21, 0
   \   000001A8   ........           CALL    ?US_DIVMOD_L02
   \   000001AC   01FD               MOVW    R31:R30, R27:R26
   \   000001AE   8F06               STD     Z+30, R16
   \   000001B0   8F17               STD     Z+31, R17
    596          					KO_conf.DF = DLL.DF;
   \   000001B2   8D06               LDD     R16, Z+30
   \   000001B4   8D17               LDD     R17, Z+31
   \   000001B6   9300....           STS     (KO_conf + 22), R16
   \   000001BA   C032               RJMP    ??Dimmer_regulation_0
    597          					// should load this parameter into eep
    598          					//write_ee_KO(22,KO_conf.DF);														// write_ee_KO(unsigned char index,unsigned char data);
    599          				}
    600          				else
    601          				{
    602          					DLL.open_actualevel = DLL.open_lightlevel / DLL.DF;			// calculate the actuallevel in the motion sensor area
   \                     ??Dimmer_regulation_10:
   \   000001BC   A104               LDD     R16, Z+36
   \   000001BE   A115               LDD     R17, Z+37
   \   000001C0   8D46               LDD     R20, Z+30
   \   000001C2   8D57               LDD     R21, Z+31
   \   000001C4   ........           CALL    ?US_DIVMOD_L02
   \   000001C8   01FD               MOVW    R31:R30, R27:R26
   \   000001CA   A306               STD     Z+38, R16
   \   000001CC   A317               STD     Z+39, R17
    603          					if(DLL.open_actualevel*5 > set_point)
   \   000001CE   9120....           LDS     R18, set_point
   \   000001D2   9130....           LDS     R19, (set_point + 1)
   \   000001D6   A146               LDD     R20, Z+38
   \   000001D8   A157               LDD     R21, Z+39
   \   000001DA   E005               LDI     R16, 5
   \   000001DC   E010               LDI     R17, 0
   \   000001DE   ........           CALL    ?S_EC_MUL_L02
   \   000001E2   1720               CP      R18, R16
   \   000001E4   0731               CPC     R19, R17
   \   000001E6   F408               BRCC    $+2+2
   \   000001E8   CF7D               RJMP    ??Dimmer_regulation_7
    604          					{
    605          						//Mode_frame_P2P('1','2','1','0','0','0','0');					//  frame OFF
    606          						dimmer_command(OFF,0);
    607          					}
    608          					else
    609          					{
    610          						DLL.open_offset = factor_divcalc((set_point - DLL.open_actualevel*5), DLL.load_provision*5);
   \   000001EA   8546               LDD     R20, Z+14
   \   000001EC   8557               LDD     R21, Z+15
   \   000001EE   E005               LDI     R16, 5
   \   000001F0   E010               LDI     R17, 0
   \   000001F2   ........           CALL    ?S_EC_MUL_L02
   \   000001F6   0198               MOVW    R19:R18, R17:R16
   \   000001F8   9160....           LDS     R22, set_point
   \   000001FC   9170....           LDS     R23, (set_point + 1)
   \   00000200   A146               LDD     R20, Z+38
   \   00000202   A157               LDD     R21, Z+39
   \   00000204   E005               LDI     R16, 5
   \   00000206   E010               LDI     R17, 0
   \   00000208   ........           CALL    ?S_EC_MUL_L02
   \   0000020C   1B60               SUB     R22, R16
   \   0000020E   0B71               SBC     R23, R17
   \   00000210   018B               MOVW    R17:R16, R23:R22
   \   00000212   ....               RCALL   factor_divcalc
   \   00000214   9300....           STS     (DLL + 40), R16
    611          						//CharToStr(DLL.open_offset ,buffer);
    612          						//Mode_frame_P2P('1','2','D',buffer[0],buffer[1],'F','F');// Set level for dimmer
    613          						dimmer_command(LEVEL,DLL.open_offset);
   \   00000218   9110....           LDS     R17, (DLL + 40)
   \   0000021C   E00C               LDI     R16, 12
   \                     ??Dimmer_regulation_8:
   \   0000021E   ....               RCALL   dimmer_command
    614          					}
    615          				}
    616          			}
    617          	}
    618          }
   \                     ??Dimmer_regulation_0:
   \   00000220   E0E4               LDI     R30, 4
   \   00000222   ........           JMP     ?EPILOGUE_B4_L09
    619          
    620          //******************************************************************************
    621          //				send the frame dimmer--	,	step==1
    622          //******************************************************************************

   \                                 In  segment CODE, align 2, keep-with-next
    623          void Dimmer_dec(void)
   \                     Dimmer_dec:
    624          {
    625          	if(SCS_received.P2P_dimmer_zero != 1)						
   \   00000000   ....               LDI     R30, LOW(SCS_received)
   \   00000002   ....               LDI     R31, (SCS_received) >> 8
   \   00000004   8102               LDD     R16, Z+2
   \   00000006   FD03               SBRC    R16, 3
   \   00000008   C011               RJMP    ??Dimmer_dec_0
    626          	{
    627            	Time_delay.Dim_dec_count = 0;
   \   0000000A   E010               LDI     R17, 0
   \   0000000C   9310....           STS     (Time_delay + 15), R17
   \   00000010   9310....           STS     (Time_delay + 16), R17
    628          		Time_delay.Dim_dec_enable = 0;
   \   00000014   ....               LDI     R30, LOW(Time_delay)
   \   00000016   ....               LDI     R31, (Time_delay) >> 8
   \   00000018   8106               LDD     R16, Z+6
   \   0000001A   7D0F               ANDI    R16, 0xDF
   \   0000001C   8306               STD     Z+6, R16
    629          		//Mode_frame_P2P('1','2','4','0','1','F','F');				// DIM--	step==1
    630          		dimmer_command(DIM_DOWN,0);
   \   0000001E   E00B               LDI     R16, 11
   \   00000020   ....               RCALL   dimmer_command
    631          		SCS_received.P2P_dimmer_full = 0;							// if DIM-- frame is sent, the flag SCS_received.P2P_dimmer_full should be cleared
   \   00000022   ....               LDI     R30, LOW(SCS_received)
   \   00000024   ....               LDI     R31, (SCS_received) >> 8
   \   00000026   8102               LDD     R16, Z+2
   \   00000028   7F0B               ANDI    R16, 0xFB
   \   0000002A   8302               STD     Z+2, R16
    632          	}
    633          }
   \                     ??Dimmer_dec_0:
   \   0000002C   9508               RET
    634          	
    635          //******************************************************************************
    636          //				regulation for actuator or dimmer
    637          // 		after (Lightreg is enabled)&&(load is on)&&(calibrate finished)
    638          //		first judge the dimmer or actuator, then stsrt regulation
    639          //******************************************************************************

   \                                 In  segment CODE, align 2, keep-with-next
    640          void Light_regulation(void)
   \                     Light_regulation:
    641          {	
    642          	if( KO_conf.LightReg == 1 )		// setpoint and provision had been calculated
   \   00000000   9100....           LDS     R16, (KO_conf + 28)
   \   00000004   3001               CPI     R16, 1
   \   00000006   F451               BRNE    ??Light_regulation_0
    643          	{
    644          		if (SCS_received.P2P_actuator_flag  == 1)	
   \   00000008   ....               LDI     R30, LOW(SCS_received)
   \   0000000A   ....               LDI     R31, (SCS_received) >> 8
   \   0000000C   8102               LDD     R16, Z+2
   \   0000000E   FF00               SBRS    R16, 0
   \   00000010   C002               RJMP    ??Light_regulation_1
    645          				Actuator_regulation(); //reyno 0604	       						// sensor control a actuator
   \   00000012   ....               RCALL   Actuator_regulation
   \   00000014   9508               RET
    646          		else if(SCS_received.P2P_dimmer_flag == 1)		
   \                     ??Light_regulation_1:
   \   00000016   8102               LDD     R16, Z+2
   \   00000018   FD01               SBRC    R16, 1
    647          				Dimmer_regulation(); //reyno 0604	        						// sensor control a dimmer	
   \   0000001A   ....               RCALL   Dimmer_regulation
    648          	}
    649          }
   \                     ??Light_regulation_0:
   \   0000001C   9508               RET
    650          
    651          //******************************************************************************
    652          //			update the dyalight level after calibration
    653          //******************************************************************************

   \                                 In  segment CODE, align 2, keep-with-next
    654          void daylight_set_init(void)
   \                     daylight_set_init:
    655          {
   \   00000000   93BA               ST      -Y, R27
   \   00000002   93AA               ST      -Y, R26
    656          	DLL.setpoint_H = eep_setpoint[3];
   \   00000004   ....               LDI     R26, LOW(DLL)
   \   00000006   ....               LDI     R27, (DLL) >> 8
   \   00000008   ....               LDI     R20, ((eep_setpoint + 6) & 0xff) & 0xFF
   \   0000000A   ....               LDI     R21, (((eep_setpoint + 6) >> 8) & 0xff) & 0xFF
   \   0000000C   ........           CALL    __eeget16_16
   \   00000010   9658               ADIW    R27:R26, 24
   \   00000012   930D               ST      X+, R16
   \   00000014   931C               ST      X, R17
   \   00000016   9759               SBIW    R27:R26, 25
    657          	//DLL.setpoint_M = eep_setpoint[2]; //reyno 0602
    658          	DLL.setpoint_L = eep_setpoint[1];
   \   00000018   ....               LDI     R20, ((eep_setpoint + 2) & 0xff) & 0xFF
   \   0000001A   ....               LDI     R21, (((eep_setpoint + 2) >> 8) & 0xff) & 0xFF
   \   0000001C   ........           CALL    __eeget16_16
   \   00000020   965A               ADIW    R27:R26, 26
   \   00000022   930D               ST      X+, R16
   \   00000024   931C               ST      X, R17
   \   00000026   975B               SBIW    R27:R26, 27
    659          	
    660          	if(DLL.setpoint_H > 0)    DLL.setpoint_H = factor_divcalc(2400, DLL.setpoint_H);     	// 600LUX
   \   00000028   9658               ADIW    R27:R26, 24
   \   0000002A   910D               LD      R16, X+
   \   0000002C   911C               LD      R17, X
   \   0000002E   9759               SBIW    R27:R26, 25
   \   00000030   2B01               OR      R16, R17
   \   00000032   F059               BREQ    ??daylight_set_init_0
   \   00000034   9658               ADIW    R27:R26, 24
   \   00000036   912D               LD      R18, X+
   \   00000038   913C               LD      R19, X
   \   0000003A   9759               SBIW    R27:R26, 25
   \   0000003C   E600               LDI     R16, 96
   \   0000003E   E019               LDI     R17, 9
   \   00000040   ....               RCALL   factor_divcalc
   \   00000042   9658               ADIW    R27:R26, 24
   \   00000044   930D               ST      X+, R16
   \   00000046   931C               ST      X, R17
   \   00000048   9759               SBIW    R27:R26, 25
    661           // if(DLL.setpoint_M > 0)    DLL.setpoint_M = factor_divcalc(800, DLL.setpoint_M);     	// 200LUX
    662          	if(DLL.setpoint_L > 0)    DLL.setpoint_L = factor_divcalc(1200,  DLL.setpoint_L);     	// 300LUX
   \                     ??daylight_set_init_0:
   \   0000004A   965A               ADIW    R27:R26, 26
   \   0000004C   910D               LD      R16, X+
   \   0000004E   911C               LD      R17, X
   \   00000050   975B               SBIW    R27:R26, 27
   \   00000052   2B01               OR      R16, R17
   \   00000054   F051               BREQ    ??daylight_set_init_1
   \   00000056   965A               ADIW    R27:R26, 26
   \   00000058   912D               LD      R18, X+
   \   0000005A   913C               LD      R19, X
   \   0000005C   975B               SBIW    R27:R26, 27
   \   0000005E   EB00               LDI     R16, 176
   \   00000060   E014               LDI     R17, 4
   \   00000062   ....               RCALL   factor_divcalc
   \   00000064   965A               ADIW    R27:R26, 26
   \   00000066   930D               ST      X+, R16
   \   00000068   931C               ST      X, R17
    663          
    664                 // if((DLL.setpoint_H>0)&&(DLL.setpoint_L>0))      DLL.setpoint_calibrate = 1;     		// calibrate finish
    665          		//if(DLL.setpoint_M > 0)	 DLL.setpoint_calibrate = 1;     								// flag calibrate finish
    666          }
   \                     ??daylight_set_init_1:
   \   0000006A   91A9               LD      R26, Y+
   \   0000006C   91B9               LD      R27, Y+
   \   0000006E   9508               RET
    667          
    668          
    669          //******************************************************************************
    670          //				calibrate the real daylight level
    671          // DLL.day_level is the daylight level detect by sensor in the housing
    672          // DLL.current_level is the daylight level of the outside calculated by sensor
    673          // DLL.calc_level used for D.F set via IR tools
    674          // DLL.current_level
    675          // DLL.day_levelsensor
    676          //DLL.setpoint_MLUXADC10
    677          //DLL.day_levelADC
    678          //******************************************************************************
    679          
    680          /*
    681          void real_daylight_calc(void)
    682          {
    683          	//DLL.calc_level unit is lux
    684               DLL.calc_level = (DLL.setpoint_M * DLL.day_level)/10;									// calculate the daylight level (LUX)around the sensor
    685          	
    686          		 DLL.current_level = DLL.calc_level;
    687          		
    688          	   if((KO_conf.TypeLoop ==0)&&(KO_conf.DF !=0))														// default :KO_conf.DF=5(ceiling sensor),KO_conf.DF=1(wall sensor)
    689          				//DLL.current_level = factor_mulcalc(DLL.current_level, DLL.DF);   	// calitrate real value and value measured by ambient light sensor
    690          		 {
    691          		
    692          		 		if((Sensor_mode.power_on_flag == 1)&&(DLL.calc_OK_flag == 1))					// 0609
    693          		 		{
    694          		 				DLL.current_level = DLL.calc_level + (DLL.load_provision/KO_conf.DF)*(KO_conf.DF - 1);
    695          		 		}
    696          				else
    697          				{
    698          					DLL.current_level = DLL.current_level*KO_conf.DF;	//DLL.current_level*KO_conf.DF/10;
    699          				}
    700          		 }
    701          
    702          }
    703          */
    704          

   \                                 In  segment CODE, align 2, keep-with-next
    705          void PofL_calc(void)
   \                     PofL_calc:
    706          {
   \   00000000   01BD               MOVW    R23:R22, R27:R26
    707          	unsigned int V1,V2,V3;
    708          	V1 = DLL.loadoff_level;
   \   00000002   ....               LDI     R26, LOW(DLL)
   \   00000004   ....               LDI     R27, (DLL) >> 8
   \   00000006   961A               ADIW    R27:R26, 10
   \   00000008   910D               LD      R16, X+
   \   0000000A   911C               LD      R17, X
   \   0000000C   971B               SBIW    R27:R26, 11
    709          	V2 = DLL.PLv_5s - V1;
   \   0000000E   969E               ADIW    R27:R26, 46
   \   00000010   912D               LD      R18, X+
   \   00000012   913C               LD      R19, X
   \   00000014   979F               SBIW    R27:R26, 47
   \   00000016   1B20               SUB     R18, R16
   \   00000018   0B31               SBC     R19, R17
    710          	V3 = DLL.PLv_5min - V1;
   \   0000001A   96D0               ADIW    R27:R26, 48
   \   0000001C   914D               LD      R20, X+
   \   0000001E   915C               LD      R21, X
   \   00000020   97D1               SBIW    R27:R26, 49
   \   00000022   1B40               SUB     R20, R16
   \   00000024   0B51               SBC     R21, R17
    711          	if(V3 < V2 + V2/2)
   \   00000026   0189               MOVW    R17:R16, R19:R18
   \   00000028   9516               LSR     R17
   \   0000002A   9507               ROR     R16
   \   0000002C   0F20               ADD     R18, R16
   \   0000002E   1F31               ADC     R19, R17
   \   00000030   1742               CP      R20, R18
   \   00000032   0753               CPC     R21, R19
   \   00000034   F420               BRCC    ??PofL_calc_0
    712          		DLL.load_provision = V3;
   \   00000036   961E               ADIW    R27:R26, 14
   \   00000038   934D               ST      X+, R20
   \   0000003A   935C               ST      X, R21
   \   0000003C   C003               RJMP    ??PofL_calc_1
    713          	else
    714          		DLL.load_provision = V2 + V2/2;
   \                     ??PofL_calc_0:
   \   0000003E   961E               ADIW    R27:R26, 14
   \   00000040   932D               ST      X+, R18
   \   00000042   933C               ST      X, R19
   \                     ??PofL_calc_1:
   \   00000044   971F               SBIW    R27:R26, 15
   \   00000046   961E               ADIW    R27:R26, 14
   \   00000048   910D               LD      R16, X+
   \   0000004A   911C               LD      R17, X
   \   0000004C   971F               SBIW    R27:R26, 15
   \   0000004E   9140....           LDS     R20, (KO_conf + 22)
   \   00000052   E050               LDI     R21, 0
   \   00000054   ........           CALL    ?S_EC_MUL_L02
   \   00000058   E04A               LDI     R20, 10
   \   0000005A   ........           CALL    ?US_DIVMOD_L02
   \   0000005E   961E               ADIW    R27:R26, 14
   \   00000060   930D               ST      X+, R16
   \   00000062   931C               ST      X, R17
   \   00000064   971F               SBIW    R27:R26, 15
    715          
    716          	DLL.load_provision = (DLL.load_provision*KO_conf.DF)/10;
    717          	
    718          	if(DLL.load_provision/5 > 0xFF)
   \   00000066   961E               ADIW    R27:R26, 14
   \   00000068   910D               LD      R16, X+
   \   0000006A   911C               LD      R17, X
   \   0000006C   971F               SBIW    R27:R26, 15
   \   0000006E   E045               LDI     R20, 5
   \   00000070   E050               LDI     R21, 0
   \   00000072   ........           CALL    ?US_DIVMOD_L02
   \   00000076   3000               CPI     R16, 0
   \   00000078   E021               LDI     R18, 1
   \   0000007A   0712               CPC     R17, R18
   \   0000007C   F018               BRCS    ??PofL_calc_2
    719          		KO_conf.PofL = 0xFF;
   \   0000007E   93E0....           STS     (KO_conf + 26), R30
   \   00000082   C009               RJMP    ??PofL_calc_3
    720          	else
    721          		KO_conf.PofL = DLL.load_provision/5;						// does it need to wtite into eep?
   \                     ??PofL_calc_2:
   \   00000084   961E               ADIW    R27:R26, 14
   \   00000086   910D               LD      R16, X+
   \   00000088   911C               LD      R17, X
   \   0000008A   E045               LDI     R20, 5
   \   0000008C   E050               LDI     R21, 0
   \   0000008E   ........           CALL    ?US_DIVMOD_L02
   \   00000092   9300....           STS     (KO_conf + 26), R16
    722          }
   \                     ??PofL_calc_3:
   \   00000096   01DB               MOVW    R27:R26, R23:R22
   \   00000098   9508               RET
    723          
    724          //******************************************************************************
    725          //		function: get the value of  provision and setpoint OFF
    726          //			Procedure to calculate the provision of light:
    727          //		1)	the sensor stored the daylight value (V1) before light on
    728          //		2)	After 5s, the sensor stored the max value (V2)
    729          //		3)	After 5mn, the sensor stored an another max value (V3)
    730          //		4)	The provision of light (P_l) is :
    731          //			P_l = V3 if V3 < (V2-V1)*(1+50%)
    732          //			Or P_L = (V2-V1)*(1+50%) if V3 >= (V2-V1)*(1+50%)
    733          //******************************************************************************

   \                                 In  segment CODE, align 2, keep-with-next
    734          void daylight_service(void)
   \                     daylight_service:
    735          {
   \   00000000   ........           CALL    ?PROLOGUE8_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004   9100....           LDS     R16, (KO_conf + 23)
   \   00000008   2300               TST     R16
   \   0000000A   F009               BREQ    $+2+2
   \   0000000C   C0D9               RJMP    ??daylight_service_0
    736          	if(KO_conf.TypeLoop == 0)           						// in close loop	
    737          	{
    738            		get_dl_level();
   \   0000000E   ....               RCALL   get_dl_level
    739          
    740                if(Sensor_mode.power_on_flag == 0)                    	// count the loadoff value when load is powerd down 5s
   \   00000010   ....               LDI     R26, LOW(DLL)
   \   00000012   ....               LDI     R27, (DLL) >> 8
   \   00000014   ....               LDI     R30, LOW(Sensor_mode)
   \   00000016   ....               LDI     R31, (Sensor_mode) >> 8
   \   00000018   8107               LDD     R16, Z+7
   \   0000001A   FD05               SBRC    R16, 5
   \   0000001C   C015               RJMP    ??daylight_service_1
    741                {
    742                    DLL.loadoff_level = DLL.calc_level;
   \   0000001E   01FD               MOVW    R31:R30, R27:R26
   \   00000020   8902               LDD     R16, Z+18
   \   00000022   8913               LDD     R17, Z+19
   \   00000024   8702               STD     Z+10, R16
   \   00000026   8713               STD     Z+11, R17
    743          					DLL.PLv_5s = DLL.calc_level;
   \   00000028   8902               LDD     R16, Z+18
   \   0000002A   8913               LDD     R17, Z+19
   \   0000002C   A706               STD     Z+46, R16
   \   0000002E   A717               STD     Z+47, R17
    744          					DLL.lightness_load = T_5min5s;					// 5s
   \   00000030   E301               LDI     R16, 49
   \   00000032   E011               LDI     R17, 1
   \   00000034   A704               STD     Z+44, R16
   \   00000036   A715               STD     Z+45, R17
    745          					DLL.PLv_5min = DLL.calc_level;
   \   00000038   8902               LDD     R16, Z+18
   \   0000003A   8913               LDD     R17, Z+19
   \   0000003C   AB00               STD     Z+48, R16
   \   0000003E   AB11               STD     Z+49, R17
    746          					DLL.calc_OK_flag = 0;
   \   00000040   E000               LDI     R16, 0
   \                     ??daylight_service_2:
   \   00000042   9300....           STS     (DLL + 23), R16
   \   00000046   C0E3               RJMP    ??daylight_service_3
    747                }
    748               	else  if(DLL.calc_OK_flag != 1 && KO_conf.status[1] != 0)							// if the load is light on and load provision have not calibrated yet
   \                     ??daylight_service_1:
   \   00000048   9100....           LDS     R16, (DLL + 23)
   \   0000004C   3001               CPI     R16, 1
   \   0000004E   F409               BRNE    $+2+2
   \   00000050   C0DE               RJMP    ??daylight_service_3
   \   00000052   9100....           LDS     R16, (KO_conf + 46)
   \   00000056   2300               TST     R16
   \   00000058   F409               BRNE    $+2+2
   \   0000005A   C0D9               RJMP    ??daylight_service_3
    749                {																						// the provision of load is constant, no need to cablibrate every light on
    750          				if(KO_conf.flag_PofL_Forced == 0)
   \   0000005C   ....               LDI     R30, LOW(KO_conf)
   \   0000005E   ....               LDI     R31, (KO_conf) >> 8
   \   00000060   A901               LDD     R16, Z+49
   \   00000062   FD00               SBRC    R16, 0
   \   00000064   C08E               RJMP    ??daylight_service_4
    751          				{
    752          					//if(DLL.lightness_load > T_5mins && DLL.lightness_load < T_5mins + 2)					// load turn on less than 5 senconds
    753          					if(DLL.lightness_load > T_5mins && DLL.lightness_load)
   \   00000066   01FD               MOVW    R31:R30, R27:R26
   \   00000068   A504               LDD     R16, Z+44
   \   0000006A   A515               LDD     R17, Z+45
   \   0000006C   320D               CPI     R16, 45
   \   0000006E   E021               LDI     R18, 1
   \   00000070   0712               CPC     R17, R18
   \   00000072   F408               BRCC    $+2+2
   \   00000074   C048               RJMP    ??daylight_service_5
   \   00000076   A504               LDD     R16, Z+44
   \   00000078   A515               LDD     R17, Z+45
   \   0000007A   2B01               OR      R16, R17
   \   0000007C   F409               BRNE    $+2+2
   \   0000007E   C043               RJMP    ??daylight_service_5
    754          					{
    755          						if( DLL.lightness_load < T_5mins + 2)
   \   00000080   A504               LDD     R16, Z+44
   \   00000082   A515               LDD     R17, Z+45
   \   00000084   320E               CPI     R16, 46
   \   00000086   0712               CPC     R17, R18
   \   00000088   F008               BRCS    $+2+2
   \   0000008A   C0C1               RJMP    ??daylight_service_3
    756          						{
    757          							//reyno 0610
    758          							//if(DLL.PLv_5s <= DLL.current_level)		DLL.PLv_5s = DLL.current_level;
    759          							if(DLL.PLv_5s < (((unsigned long)DLL.calc_level*100)/KO_conf.status[1]))
   \   0000008C   A446               LDD     R4, Z+46
   \   0000008E   A457               LDD     R5, Z+47
   \   00000090   2466               CLR     R6
   \   00000092   2477               CLR     R7
   \   00000094   8902               LDD     R16, Z+18
   \   00000096   8913               LDD     R17, Z+19
   \   00000098   E020               LDI     R18, 0
   \   0000009A   E030               LDI     R19, 0
   \   0000009C   E644               LDI     R20, 100
   \   0000009E   E050               LDI     R21, 0
   \   000000A0   E060               LDI     R22, 0
   \   000000A2   E070               LDI     R23, 0
   \   000000A4   ........           CALL    ?L_EC_MUL_L03
   \   000000A8   9140....           LDS     R20, (KO_conf + 46)
   \   000000AC   ........           CALL    ?UL_DIVMOD_L03
   \   000000B0   1640               CP      R4, R16
   \   000000B2   0651               CPC     R5, R17
   \   000000B4   0662               CPC     R6, R18
   \   000000B6   0673               CPC     R7, R19
   \   000000B8   F008               BRCS    $+2+2
   \   000000BA   C0A9               RJMP    ??daylight_service_3
    760          							{
    761          								DLL.PLv_5s = ((unsigned long)DLL.calc_level*100)/KO_conf.status[1];
   \   000000BC   01FD               MOVW    R31:R30, R27:R26
   \   000000BE   8902               LDD     R16, Z+18
   \   000000C0   8913               LDD     R17, Z+19
   \   000000C2   E020               LDI     R18, 0
   \   000000C4   E030               LDI     R19, 0
   \   000000C6   E644               LDI     R20, 100
   \   000000C8   E050               LDI     R21, 0
   \   000000CA   E060               LDI     R22, 0
   \   000000CC   E070               LDI     R23, 0
   \   000000CE   ........           CALL    ?L_EC_MUL_L03
   \   000000D2   9140....           LDS     R20, (KO_conf + 46)
   \   000000D6   ........           CALL    ?UL_DIVMOD_L03
   \   000000DA   01FD               MOVW    R31:R30, R27:R26
   \   000000DC   A706               STD     Z+46, R16
   \   000000DE   A717               STD     Z+47, R17
    762          								DLL.PLv_5min = ((unsigned long)DLL.calc_level*100)/KO_conf.status[1];
   \                     ??daylight_service_6:
   \   000000E0   8902               LDD     R16, Z+18
   \   000000E2   8913               LDD     R17, Z+19
   \   000000E4   E020               LDI     R18, 0
   \   000000E6   E030               LDI     R19, 0
   \   000000E8   E644               LDI     R20, 100
   \   000000EA   E050               LDI     R21, 0
   \   000000EC   E060               LDI     R22, 0
   \   000000EE   E070               LDI     R23, 0
   \   000000F0   ........           CALL    ?L_EC_MUL_L03
   \   000000F4   9140....           LDS     R20, (KO_conf + 46)
   \   000000F8   ........           CALL    ?UL_DIVMOD_L03
   \   000000FC   01FD               MOVW    R31:R30, R27:R26
   \   000000FE   AB00               STD     Z+48, R16
   \   00000100   AB11               STD     Z+49, R17
    763          								PofL_calc();
   \   00000102   ....               RCALL   PofL_calc
   \   00000104   C084               RJMP    ??daylight_service_3
    764          							}
    765          						}
    766          					}
    767          					else if(DLL.lightness_load > 1)						// load turn on less than 5 minutes
   \                     ??daylight_service_5:
   \   00000106   A584               LDD     R24, Z+44
   \   00000108   A595               LDD     R25, Z+45
   \   0000010A   3082               CPI     R24, 2
   \   0000010C   4090               SBCI    R25, 0
   \   0000010E   F0D0               BRCS    ??daylight_service_7
    768          					{
    769          							if(DLL.PLv_5min < (((unsigned long)DLL.calc_level*100)/KO_conf.status[1]))
   \   00000110   A840               LDD     R4, Z+48
   \   00000112   A851               LDD     R5, Z+49
   \   00000114   2466               CLR     R6
   \   00000116   2477               CLR     R7
   \   00000118   8902               LDD     R16, Z+18
   \   0000011A   8913               LDD     R17, Z+19
   \   0000011C   E020               LDI     R18, 0
   \   0000011E   E030               LDI     R19, 0
   \   00000120   E644               LDI     R20, 100
   \   00000122   E050               LDI     R21, 0
   \   00000124   E060               LDI     R22, 0
   \   00000126   E070               LDI     R23, 0
   \   00000128   ........           CALL    ?L_EC_MUL_L03
   \   0000012C   9140....           LDS     R20, (KO_conf + 46)
   \   00000130   ........           CALL    ?UL_DIVMOD_L03
   \   00000134   1640               CP      R4, R16
   \   00000136   0651               CPC     R5, R17
   \   00000138   0662               CPC     R6, R18
   \   0000013A   0673               CPC     R7, R19
   \   0000013C   F008               BRCS    $+2+2
   \   0000013E   C067               RJMP    ??daylight_service_3
    770          							{
    771          								DLL.PLv_5min = ((unsigned long)DLL.calc_level*100)/KO_conf.status[1];
   \   00000140   01FD               MOVW    R31:R30, R27:R26
   \   00000142   CFCE               RJMP    ??daylight_service_6
    772          								PofL_calc();
    773          							}
    774          					}
    775          					else if(DLL.lightness_load == 1 || DLL.lightness_load == 0)					// load on 5min, start to calibrate the provision of load
   \                     ??daylight_service_7:
   \   00000144   A504               LDD     R16, Z+44
   \   00000146   A515               LDD     R17, Z+45
   \   00000148   3001               CPI     R16, 1
   \   0000014A   E020               LDI     R18, 0
   \   0000014C   0712               CPC     R17, R18
   \   0000014E   F029               BREQ    ??daylight_service_8
   \   00000150   A504               LDD     R16, Z+44
   \   00000152   A515               LDD     R17, Z+45
   \   00000154   2B01               OR      R16, R17
   \   00000156   F009               BREQ    $+2+2
   \   00000158   C05A               RJMP    ??daylight_service_3
    776          					{
    777          						/*
    778          						unsigned int V1,V2,V3;
    779          						V1 = DLL.loadoff_level;
    780          						V2 = DLL.PLv_5s - V1;
    781          						V3 = DLL.PLv_5min - V1;
    782          						if(V3 < V2 + V2/2)
    783          							DLL.load_provision = V3;
    784          						else
    785          							DLL.load_provision = V2 + V2/2;
    786          					
    787          						DLL.load_provision = (DLL.load_provision*KO_conf.DF)/10;
    788          						DLL.setpoint_OFF = set_point + DLL.load_provision + DLL.load_provision/2;							//set_point + DLL.load_provision(1+k);
    789          						
    790          						if(DLL.load_provision/5 > 0xFF)
    791          							KO_conf.PofL = 0xFF;
    792          						else
    793          							KO_conf.PofL = DLL.load_provision/5;						// does it need to wtite into eep?
    794          						*/
    795          						PofL_calc();
   \                     ??daylight_service_8:
   \   0000015A   ....               RCALL   PofL_calc
    796          						DLL.setpoint_OFF = set_point + DLL.load_provision + DLL.load_provision/2;							//set_point + DLL.load_provision(1+k);
   \   0000015C   9100....           LDS     R16, set_point
   \   00000160   9110....           LDS     R17, (set_point + 1)
   \   00000164   01FD               MOVW    R31:R30, R27:R26
   \   00000166   8526               LDD     R18, Z+14
   \   00000168   8537               LDD     R19, Z+15
   \   0000016A   0F02               ADD     R16, R18
   \   0000016C   1F13               ADC     R17, R19
   \   0000016E   8526               LDD     R18, Z+14
   \   00000170   8537               LDD     R19, Z+15
   \   00000172   9536               LSR     R19
   \   00000174   9527               ROR     R18
   \   00000176   0F02               ADD     R16, R18
   \   00000178   1F13               ADC     R17, R19
   \   0000017A   8B04               STD     Z+20, R16
   \   0000017C   8B15               STD     Z+21, R17
    797          						
    798          						DLL.calc_OK_flag = 1; //provision of light calculate OK
   \   0000017E   E001               LDI     R16, 1
   \   00000180   CF60               RJMP    ??daylight_service_2
    799          					}
    800          				}
    801          				else
    802          				{
    803          					DLL.calc_OK_flag = 1;
   \                     ??daylight_service_4:
   \   00000182   E001               LDI     R16, 1
   \   00000184   9300....           STS     (DLL + 23), R16
    804          					DLL.setpoint_OFF = set_point + KO_conf.PofL * 5 + (KO_conf.PofL * 5) / 2;
   \   00000188   9180....           LDS     R24, set_point
   \   0000018C   9190....           LDS     R25, (set_point + 1)
   \   00000190   9140....           LDS     R20, (KO_conf + 26)
   \   00000194   E050               LDI     R21, 0
   \   00000196   E005               LDI     R16, 5
   \   00000198   E010               LDI     R17, 0
   \   0000019A   ........           CALL    ?S_EC_MUL_L02
   \   0000019E   0F80               ADD     R24, R16
   \   000001A0   1F91               ADC     R25, R17
   \   000001A2   9140....           LDS     R20, (KO_conf + 26)
   \   000001A6   E005               LDI     R16, 5
   \   000001A8   E010               LDI     R17, 0
   \   000001AA   ........           CALL    ?S_EC_MUL_L02
   \   000001AE   E042               LDI     R20, 2
   \   000001B0   ........           CALL    ?SS_DIVMOD_L02
   \   000001B4   0F80               ADD     R24, R16
   \   000001B6   1F91               ADC     R25, R17
   \   000001B8   01FD               MOVW    R31:R30, R27:R26
   \   000001BA   8B84               STD     Z+20, R24
   \   000001BC   8B95               STD     Z+21, R25
   \   000001BE   C027               RJMP    ??daylight_service_3
    805          				}
    806          			}
    807          	}
    808          	else if(KO_conf.TypeLoop == 1)       									// in open loop
   \                     ??daylight_service_0:
   \   000001C0   9100....           LDS     R16, (KO_conf + 23)
   \   000001C4   3001               CPI     R16, 1
   \   000001C6   F519               BRNE    ??daylight_service_3
    809          	{
    810          		DLL.calc_OK_flag = 1;																// close loop
   \   000001C8   E001               LDI     R16, 1
   \   000001CA   9300....           STS     (DLL + 23), R16
    811          		//DLL.load_provision = KO_conf.PofL;								// set by user
    812          		//DLL.loadoff_level  = KO_conf.DaylightLev;					// set by user
    813          		DLL.loadoff_level = KO_conf.DayLightLevLux[0];
   \   000001CE   9100....           LDS     R16, (KO_conf + 35)
   \   000001D2   E010               LDI     R17, 0
   \   000001D4   ....               LDI     R30, LOW(DLL)
   \   000001D6   ....               LDI     R31, (DLL) >> 8
   \   000001D8   8702               STD     Z+10, R16
   \   000001DA   8713               STD     Z+11, R17
    814          		DLL.loadoff_level = DLL.loadoff_level<<8;
   \   000001DC   8502               LDD     R16, Z+10
   \   000001DE   8513               LDD     R17, Z+11
   \   000001E0   2F10               MOV     R17, R16
   \   000001E2   E000               LDI     R16, 0
   \   000001E4   8702               STD     Z+10, R16
   \   000001E6   8713               STD     Z+11, R17
    815          		DLL.loadoff_level = KO_conf.DayLightLevLux[1];
   \   000001E8   9100....           LDS     R16, (KO_conf + 36)
   \   000001EC   E010               LDI     R17, 0
   \   000001EE   8702               STD     Z+10, R16
   \   000001F0   8713               STD     Z+11, R17
    816          		DLL.current_level  = DLL.open_actualevel;						// (lux sent by daylight) / D.F
   \   000001F2   A106               LDD     R16, Z+38
   \   000001F4   A117               LDD     R17, Z+39
   \   000001F6   8B00               STD     Z+16, R16
   \   000001F8   8B11               STD     Z+17, R17
    817          		DLL.setpoint_OFF   = DLL.load_provision + set_point;		
   \   000001FA   8506               LDD     R16, Z+14
   \   000001FC   8517               LDD     R17, Z+15
   \   000001FE   9120....           LDS     R18, set_point
   \   00000202   9130....           LDS     R19, (set_point + 1)
   \   00000206   0F02               ADD     R16, R18
   \   00000208   1F13               ADC     R17, R19
   \   0000020A   8B04               STD     Z+20, R16
   \   0000020C   8B15               STD     Z+21, R17
    818          	}
    819          }
   \                     ??daylight_service_3:
   \   0000020E   E0E8               LDI     R30, 8
   \   00000210   ........           JMP     ?EPILOGUE_B8_L09
    820          
    821          
    822          
    823          //******************************************************************************
    824          //		get the value of  provision and setpoint OFF
    825          //		flag__________>>>	DLL.setpoint_calibrate: calibration in the factory via SCS
    826          //				|
    827          //				|____>>>>	KO_conf.DF :calibration by user via IR
    828          //******************************************************************************
    829          /*
    830          void get_dl_level(void)
    831          {
    832          	DLL.getlevel_finish = 0;
    833          	DLL.read_daylightSample = read_adc ( daylight_channel );
    834          	DLL.daylight_SampleValue = DLL.daylight_SampleValue + (unsigned int) DLL.read_daylightSample;
    835          	DLL.daylight_SampleCount++;
    836          	if(DLL.daylight_SampleCount >= 10)				
    837          	{
    838          		
    839          		DLL.daylight_SampleCount = 0;
    840          		DLL.day_level = DLL.daylight_SampleValue / 10;		// ADC value
    841          		DLL.daylight_SampleValue = 0;
    842          		DLL.getlevel_finish = 1;		
    843          		if(DLL.setpoint_calibrate == 1)   							// flag of factory calibrate finished
    844          		  	real_daylight_calc();
    845              else      							
    846          			DLL.current_level = DLL.day_level;
    847          		
    848          		KO_conf.DayLightLevLux[0] = (DLL.current_level/5)&0x00FF;		//  0515
    849          		KO_conf.DayLightLevLux[1] = (DLL.current_level/5)>>8;				//  0515
    850          	}
    851          }
    852          */
    853          

   \                                 In  segment CODE, align 2, keep-with-next
    854          void get_dl_level(void)
   \                     get_dl_level:
    855          {
   \   00000000   93BA               ST      -Y, R27
   \   00000002   93AA               ST      -Y, R26
    856          	DLL.getlevel_finish = 0;
   \   00000004   ....               LDI     R26, LOW(DLL)
   \   00000006   ....               LDI     R27, (DLL) >> 8
   \   00000008   E000               LDI     R16, 0
   \   0000000A   9300....           STS     DLL, R16
    857          	DLL.read_daylightSample = read_adc10bit ( daylight_channel );
   \   0000000E   E003               LDI     R16, 3
   \   00000010   ........           CALL    read_adc10bit
   \   00000014   9614               ADIW    R27:R26, 4
   \   00000016   930D               ST      X+, R16
   \   00000018   931C               ST      X, R17
   \   0000001A   9715               SBIW    R27:R26, 5
    858          	DLL.daylight_SampleValue = DLL.daylight_SampleValue + (unsigned int) DLL.read_daylightSample;
   \   0000001C   9614               ADIW    R27:R26, 4
   \   0000001E   910D               LD      R16, X+
   \   00000020   911C               LD      R17, X
   \   00000022   9715               SBIW    R27:R26, 5
   \   00000024   9612               ADIW    R27:R26, 2
   \   00000026   912D               LD      R18, X+
   \   00000028   913C               LD      R19, X
   \   0000002A   0F20               ADD     R18, R16
   \   0000002C   1F31               ADC     R19, R17
   \   0000002E   933C               ST      X, R19
   \   00000030   932E               ST      -X, R18
   \   00000032   9712               SBIW    R27:R26, 2
    859          	DLL.daylight_SampleCount++;
   \   00000034   9611               ADIW    R27:R26, 1
   \   00000036   910C               LD      R16, X
   \   00000038   9503               INC     R16
   \   0000003A   930C               ST      X, R16
   \   0000003C   9711               SBIW    R27:R26, 1
    860          	if(DLL.daylight_SampleCount >= 10)				
   \   0000003E   9100....           LDS     R16, (DLL + 1)
   \   00000042   300A               CPI     R16, 10
   \   00000044   F158               BRCS    ??get_dl_level_0
    861          	{
    862          #ifdef DEMOBOARD
    863          		not_bit(&PORTB,0);
    864          #endif
    865          		DLL.daylight_SampleCount = 0;
   \   00000046   E000               LDI     R16, 0
   \   00000048   9300....           STS     (DLL + 1), R16
    866          		DLL.day_level = DLL.daylight_SampleValue / 10;		// ADC value
   \   0000004C   9612               ADIW    R27:R26, 2
   \   0000004E   910D               LD      R16, X+
   \   00000050   911C               LD      R17, X
   \   00000052   9713               SBIW    R27:R26, 3
   \   00000054   E04A               LDI     R20, 10
   \   00000056   E050               LDI     R21, 0
   \   00000058   ........           CALL    ?US_DIVMOD_L02
   \   0000005C   9616               ADIW    R27:R26, 6
   \   0000005E   930D               ST      X+, R16
   \   00000060   931C               ST      X, R17
   \   00000062   9717               SBIW    R27:R26, 7
    867          		DLL.daylight_SampleValue = 0;
   \   00000064   E000               LDI     R16, 0
   \   00000066   9612               ADIW    R27:R26, 2
   \   00000068   930D               ST      X+, R16
   \   0000006A   930C               ST      X, R16
   \   0000006C   9713               SBIW    R27:R26, 3
    868          		DLL.getlevel_finish = 1;		
   \   0000006E   E001               LDI     R16, 1
   \   00000070   9300....           STS     DLL, R16
    869          		real_daylight_calc();
   \   00000074   ....               RCALL   real_daylight_calc
    870          		//	DLL.day_level is ADC value
    871          		//  DLL.calc_level is the un-corrected value
    872          		// DLL.current_level is the real value
    873          
    874          		KO_conf.DayLightLevLux[0] = (DLL.current_level/5)&0x00FF;		//  low byte
   \   00000076   9650               ADIW    R27:R26, 16
   \   00000078   910D               LD      R16, X+
   \   0000007A   911C               LD      R17, X
   \   0000007C   9751               SBIW    R27:R26, 17
   \   0000007E   E045               LDI     R20, 5
   \   00000080   E050               LDI     R21, 0
   \   00000082   ........           CALL    ?US_DIVMOD_L02
   \   00000086   9300....           STS     (KO_conf + 35), R16
    875          		KO_conf.DayLightLevLux[1] = (DLL.current_level/5)>>8;				//  higt byte
   \   0000008A   9650               ADIW    R27:R26, 16
   \   0000008C   910D               LD      R16, X+
   \   0000008E   911C               LD      R17, X
   \   00000090   E045               LDI     R20, 5
   \   00000092   E050               LDI     R21, 0
   \   00000094   ........           CALL    ?US_DIVMOD_L02
   \   00000098   9310....           STS     (KO_conf + 36), R17
    876          	}
    877          }
   \                     ??get_dl_level_0:
   \   0000009C   91A9               LD      R26, Y+
   \   0000009E   91B9               LD      R27, Y+
   \   000000A0   9508               RET
    878          
    879          //		(un-corrected value * D.F - PfL*ratio) / D.F + PfL*ratio
    880          //		un-corrected value + PfL(D.F - 1)
    881          
    882          //		(un-corrected value * D.F - PfL) / D.F + PfL
    883          //		un-corrected value - PfL / D.F + PfL

   \                                 In  segment CODE, align 2, keep-with-next
    884          void real_daylight_calc(void)
   \                     real_daylight_calc:
    885          {
   \   00000000   ........           CALL    ?PROLOGUE6_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
    886          	//DLL.calc_level unit is lux
    887          #ifdef SMT
    888          	DLL.read_lux = exp10(5 * (double)(DLL.day_level)/1024 * 100000 / RES_VALUE);
    889          	DLL.calc_level = (unsigned int)DLL.read_lux ;
    890          #else
    891          	//DLL.calc_level = (CONST_DAYLIGHT * (unsigned long)DLL.day_level)/100;									// calculate the daylight level (LUX)around the sensor
    892          	DLL.calc_level = (unsigned int)(g_slope * (double)DLL.day_level);
   \   00000004   ....               LDI     R26, LOW(DLL)
   \   00000006   ....               LDI     R27, (DLL) >> 8
   \   00000008   01FD               MOVW    R31:R30, R27:R26
   \   0000000A   8106               LDD     R16, Z+6
   \   0000000C   8117               LDD     R17, Z+7
   \   0000000E   E020               LDI     R18, 0
   \   00000010   E030               LDI     R19, 0
   \   00000012   ........           CALL    ?UL2F_L04
   \   00000016   01A8               MOVW    R21:R20, R17:R16
   \   00000018   01B9               MOVW    R23:R22, R19:R18
   \   0000001A   ....               LDI     R30, LOW(g_slope)
   \   0000001C   ....               LDI     R31, (g_slope) >> 8
   \   0000001E   8100               LD      R16, Z
   \   00000020   8111               LDD     R17, Z+1
   \   00000022   8122               LDD     R18, Z+2
   \   00000024   8133               LDD     R19, Z+3
   \   00000026   ........           CALL    ?F_MUL_L04
   \   0000002A   ........           CALL    ?F2SL_L04
   \   0000002E   01FD               MOVW    R31:R30, R27:R26
   \   00000030   8B02               STD     Z+18, R16
   \   00000032   8B13               STD     Z+19, R17
   \   00000034   9100....           LDS     R16, (KO_conf + 23)
   \   00000038   2300               TST     R16
   \   0000003A   F009               BREQ    $+2+2
   \   0000003C   C057               RJMP    ??real_daylight_calc_0
   \   0000003E   9100....           LDS     R16, (KO_conf + 22)
   \   00000042   2300               TST     R16
   \   00000044   F409               BRNE    $+2+2
   \   00000046   C052               RJMP    ??real_daylight_calc_0
    893          #endif
    894          //     DLL.calc_level = (DLL.setpoint_M * DLL.day_level)/10;									// calculate the daylight level (LUX)around the sensor
    895          	
    896          //		DLL.current_level = DLL.calc_level;
    897          	if((KO_conf.TypeLoop == 0)&&(KO_conf.DF !=0))														// default :KO_conf.DF=5(ceiling sensor),KO_conf.DF=1(wall sensor)
    898          	{
    899          		if((Sensor_mode.power_on_flag == 1)&&(DLL.calc_OK_flag == 1))					// 0609
   \   00000048   ....               LDI     R30, LOW(Sensor_mode)
   \   0000004A   ....               LDI     R31, (Sensor_mode) >> 8
   \   0000004C   8107               LDD     R16, Z+7
   \   0000004E   FF05               SBRS    R16, 5
   \   00000050   C03F               RJMP    ??real_daylight_calc_1
   \   00000052   9100....           LDS     R16, (DLL + 23)
   \   00000056   3001               CPI     R16, 1
   \   00000058   F5D9               BRNE    ??real_daylight_calc_1
    900          		{
    901          			if(KO_conf.DF > KO_conf.NF)
   \   0000005A   9100....           LDS     R16, (KO_conf + 24)
   \   0000005E   9110....           LDS     R17, (KO_conf + 22)
   \   00000062   1701               CP      R16, R17
   \   00000064   01FD               MOVW    R31:R30, R27:R26
   \   00000066   8902               LDD     R16, Z+18
   \   00000068   8913               LDD     R17, Z+19
   \   0000006A   9140....           LDS     R20, (KO_conf + 24)
   \   0000006E   E050               LDI     R21, 0
   \   00000070   F5A8               BRCC    ??real_daylight_calc_2
    902          				DLL.current_level = DLL.calc_level*KO_conf.NF/10 + (((unsigned long)DLL.load_provision * KO_conf.status[1])/100) * ((KO_conf.DF - KO_conf.NF) / KO_conf.DF);
   \   00000072   ........           CALL    ?S_EC_MUL_L02
   \   00000076   E04A               LDI     R20, 10
   \   00000078   ........           CALL    ?US_DIVMOD_L02
   \   0000007C   01C8               MOVW    R25:R24, R17:R16
   \   0000007E   01FD               MOVW    R31:R30, R27:R26
   \   00000080   8566               LDD     R22, Z+14
   \   00000082   8577               LDD     R23, Z+15
   \   00000084   9140....           LDS     R20, (KO_conf + 46)
   \   00000088   E050               LDI     R21, 0
   \   0000008A   9F75               MUL     R23, R21
   \   0000008C   0190               MOVW    R19:R18, R1:R0
   \   0000008E   9F64               MUL     R22, R20
   \   00000090   0180               MOVW    R17:R16, R1:R0
   \   00000092   9F74               MUL     R23, R20
   \   00000094   0D10               ADD     R17, R0
   \   00000096   1D21               ADC     R18, R1
   \   00000098   1F35               ADC     R19, R21
   \   0000009A   E644               LDI     R20, 100
   \   0000009C   E060               LDI     R22, 0
   \   0000009E   E070               LDI     R23, 0
   \   000000A0   ........           CALL    ?UL_DIVMOD_L03
   \   000000A4   0128               MOVW    R5:R4, R17:R16
   \   000000A6   9100....           LDS     R16, (KO_conf + 22)
   \   000000AA   E010               LDI     R17, 0
   \   000000AC   9120....           LDS     R18, (KO_conf + 24)
   \   000000B0   1B02               SUB     R16, R18
   \   000000B2   4010               SBCI    R17, 0
   \   000000B4   9140....           LDS     R20, (KO_conf + 22)
   \   000000B8   E050               LDI     R21, 0
   \   000000BA   ........           CALL    ?SS_DIVMOD_L02
   \   000000BE   01A2               MOVW    R21:R20, R5:R4
   \   000000C0   ........           CALL    ?S_EC_MUL_L02
   \   000000C4   0F80               ADD     R24, R16
   \   000000C6   1F91               ADC     R25, R17
   \   000000C8   01FD               MOVW    R31:R30, R27:R26
   \   000000CA   8B80               STD     Z+16, R24
   \   000000CC   8B91               STD     Z+17, R25
   \   000000CE   C00E               RJMP    ??real_daylight_calc_0
    903          			else
    904          				DLL.current_level = DLL.calc_level * KO_conf.NF / 10;
    905          			//DLL.current_level = DLL.calc_level - ((((unsigned long)DLL.load_provision)*KO_conf.status[1])/100)*KO_conf.DF / 10; //Reyno 0722
    906          			//DLL.current_level = DLL.calc_level;	//DLL.current_level*KO_conf.DF/10;    //Reyno 0722		
    907          		}
    908          		else
    909          		{
    910          			DLL.current_level = DLL.calc_level * KO_conf.NF / 10;	//DLL.current_level*KO_conf.DF/10;
   \                     ??real_daylight_calc_1:
   \   000000D0   01FD               MOVW    R31:R30, R27:R26
   \   000000D2   8902               LDD     R16, Z+18
   \   000000D4   8913               LDD     R17, Z+19
   \   000000D6   9140....           LDS     R20, (KO_conf + 24)
   \   000000DA   E050               LDI     R21, 0
   \                     ??real_daylight_calc_2:
   \   000000DC   ........           CALL    ?S_EC_MUL_L02
   \   000000E0   E04A               LDI     R20, 10
   \   000000E2   ........           CALL    ?US_DIVMOD_L02
   \   000000E6   01FD               MOVW    R31:R30, R27:R26
   \   000000E8   8B00               STD     Z+16, R16
   \   000000EA   8B11               STD     Z+17, R17
    911          		}
    912          		//DLL.current_level = DLL.calc_level * KO_conf.DF / 10;	//DLL.current_level*KO_conf.DF/10;
    913          	}
    914          }
   \                     ??real_daylight_calc_0:
   \   000000EC   E0E6               LDI     R30, 6
   \   000000EE   ........           JMP     ?EPILOGUE_B6_L09
    915          //******************************************************************************
    916          //			timer for Pir and US cycle
    917          //			200us each interupt
    918          //******************************************************************************

   \                                 In  segment CODE, align 2, keep-with-next
    919          void timer0_enable(void)
   \                     timer0_enable:
    920          {
    921          	ASSR = 0x00;
   \   00000000   E000               LDI     R16, 0
   \   00000002   9300....           STS     _A_ASSR, R16
    922          	TCCR0A = 0x00;
   \   00000006   BD04               OUT     0x24, R16
    923          	TCCR0B = 0x03;
   \   00000008   E003               LDI     R16, 3
   \   0000000A   BD05               OUT     0x25, R16
    924          	TCNT0 = 0x8D;
   \   0000000C   E80D               LDI     R16, 141
   \   0000000E   BD06               OUT     0x26, R16
    925          	OCR0A = 0x00;
   \   00000010   E000               LDI     R16, 0
   \   00000012   BD07               OUT     0x27, R16
    926          	OCR0B = 0x00;
   \   00000014   BD08               OUT     0x28, R16
    927          	SetBit(TIMSK0,TOIE0);
   \   00000016   9100006E           LDS     R16, 110
   \   0000001A   6001               ORI     R16, 0x01
   \   0000001C   9300006E           STS     110, R16
    928          }
   \   00000020   9508               RET
   \   00000022                      REQUIRE _A_ASSR
   \   00000022                      REQUIRE _A_TIMSK0
   \   00000022                      REQUIRE _A_OCR0B
   \   00000022                      REQUIRE _A_OCR0A
   \   00000022                      REQUIRE _A_TCNT0
   \   00000022                      REQUIRE _A_TCCR0B
   \   00000022                      REQUIRE _A_TCCR0A
    929          
    930          //******************************************************************************
    931          //			timer for time delay, 1ms
    932          //******************************************************************************

   \                                 In  segment CODE, align 2, keep-with-next
    933          void timer2_enable(void)
   \                     timer2_enable:
    934          {
    935          	/*
    936          	TCCR0A = (1<<COM0A1)|(0<<COM0A0)|(1<<WGM01)|(0<<WGM00);	// match on clear
    937          	TCCR0B = (0<<WGM02)|(0<<CS02)|(1<<CS01)|(1<<CS00);			// CLOCK/64
    938          	TIMSK0 = (1<<OCIE0A);				        										// enable COMPARE MATCH A interrupt
    939          	TIFR0 = (1<<OCF0A);
    940          	OCR0A = 21;																							//200us each interupt
    941          	*/
    942          	// Timer/Counter 0 initialization
    943          	// Clock source: System Clock
    944          	// Clock value: 7372.800 kHz
    945          	// Mode: Normal top=FFh
    946          	// OC0A output: Disconnected
    947          	// OC0B output: Disconnected
    948          	
    949          	/*
    950          	TCCR2A=0x00;
    951          	TCCR2B=0x01;
    952          	TCNT2=0x00;
    953          	OCR2A=0x00;
    954          	OCR2B=0x00;
    955          	TIMSK2=0x01;
    956          	*/
    957          	
    958          	/*
    959          	ASSR=0x00;
    960          TCCR2A=0xF0;
    961          TCCR2B=0x01;
    962          TCNT2=0x00;
    963          OCR2A=0xB8;
    964          OCR2B=0x5C;
    965          	*/
    966          	TCCR2A=0xC1;          //0x43
   \   00000000   EC01               LDI     R16, 193
   \   00000002   9300....           STS     _A_TCCR2A, R16
    967          	TCCR2B = 0xC1;      //0x19
   \   00000006   9300....           STS     _A_TCCR2B, R16
    968          	//TCNT2=0x50;
    969          	OCR2A=ee_back_light_duty;
   \   0000000A   ....               LDI     R20, LOW(ee_back_light_duty)
   \   0000000C   ....               LDI     R21, (ee_back_light_duty) >> 8
   \   0000000E   ........           CALL    __eeget8_16
   \   00000012   9300....           STS     _A_OCR2A, R16
    970          	//OCR2B = 0x40;
    971          }
   \   00000016   9508               RET
   \   00000018                      REQUIRE _A_OCR2A
   \   00000018                      REQUIRE _A_TCCR2B
   \   00000018                      REQUIRE _A_TCCR2A
    972          
    973          /*
    974          unsigned char motion_detect(unsigned char mode)      // add by alan on 20090409
    975          {
    976          		switch(mode)
    977                {
    978                      case 1:
    979          								if(PIR_detection_en ==1)	return 1;
    980          								else return 0;
    981                      case 2:
    982          								if(US_detection_en ==1)	return 1;
    983          								else return 0;
    984                      case 3:
    985                          if((PIR_detection_en ==1)&&(US_detection_en ==1))
    986          									return 1;
    987                          else
    988          									return 0;
    989                      case 4:
    990                          if((PIR_detection_en ==1)||(US_detection_en ==1))
    991          									return 1;
    992                          else
    993          									return 0;
    994                      default:  return 0;
    995                }
    996          }
    997          */
    998          

   \                                 In  segment CODE, align 2, keep-with-next
    999          unsigned char motion_detect(unsigned char mode)
   \                     motion_detect:
   1000          {
   \   00000000   938A               ST      -Y, R24
   1001          	unsigned char temp = 0;
   1002          	switch(mode)
   \   00000002   5001               SUBI    R16, 1
   \   00000004   F039               BREQ    ??motion_detect_0
   \   00000006   950A               DEC     R16
   \   00000008   F071               BREQ    ??motion_detect_1
   \   0000000A   950A               DEC     R16
   \   0000000C   F089               BREQ    ??motion_detect_2
   \   0000000E   950A               DEC     R16
   \   00000010   F0E1               BREQ    ??motion_detect_3
   \   00000012   C027               RJMP    ??motion_detect_4
   1003          	{
   1004          		case 1:				//PIR only
   1005          			US_OFF;
   \                     ??motion_detect_0:
   \   00000014   9A42               SBI     0x08, 0x02
   1006          			temp = PIR_detect();
   \   00000016   ........           CALL    PIR_detect
   \   0000001A   2F80               MOV     R24, R16
   1007          			//PIR_detect();
   1008          			asm("nop");
   \   0000001C   0000               nop
   1009          			if(temp)
   \   0000001E   2388               TST     R24
   \   00000020   F109               BREQ    ??motion_detect_5
   1010          				asm("nop");
   \   00000022   0000               nop
   1011          			return temp;
   \   00000024   C01F               RJMP    ??motion_detect_5
   1012          			
   1013          		case 2:				//US only
   1014          			US_ON;
   \                     ??motion_detect_1:
   \   00000026   9842               CBI     0x08, 0x02
   1015          			get_us();
   \   00000028   ....               RCALL   get_us
   1016          			return US_detection_en;
   \   0000002A   9100....           LDS     R16, US_detection_en
   \   0000002E   C01A               RJMP    ??motion_detect_5
   1017          
   1018          		case 3:				//PIR and US
   1019          			US_ON;
   \                     ??motion_detect_2:
   \   00000030   9842               CBI     0x08, 0x02
   1020          			temp = PIR_detect();
   \   00000032   ........           CALL    PIR_detect
   \   00000036   2F80               MOV     R24, R16
   1021          			//PIR_detect();
   1022          			get_us();
   \   00000038   ....               RCALL   get_us
   1023          			if(US_detection_en && temp)
   \   0000003A   9100....           LDS     R16, US_detection_en
   \   0000003E   2300               TST     R16
   \   00000040   F021               BREQ    ??motion_detect_3
   \   00000042   2388               TST     R24
   \   00000044   F011               BREQ    ??motion_detect_3
   1024          				return 1;
   \                     ??motion_detect_6:
   \   00000046   E001               LDI     R16, 1
   \   00000048   C00D               RJMP    ??motion_detect_5
   1025          
   1026          		case 4:				//PIR or US
   1027          			US_ON;
   \                     ??motion_detect_3:
   \   0000004A   9842               CBI     0x08, 0x02
   1028          			get_us();
   \   0000004C   ....               RCALL   get_us
   1029          			PIR_detect();
   \   0000004E   ........           CALL    PIR_detect
   1030          			if(US_detection_en || PIR_detect())
   \   00000052   9100....           LDS     R16, US_detection_en
   \   00000056   2300               TST     R16
   \   00000058   F7B1               BRNE    ??motion_detect_6
   \   0000005A   ........           CALL    PIR_detect
   \   0000005E   2300               TST     R16
   \   00000060   F791               BRNE    ??motion_detect_6
   1031          				return 1;
   1032          
   1033          		default:
   1034          			return 0;				
   \                     ??motion_detect_4:
   \   00000062   E000               LDI     R16, 0
   \                     ??motion_detect_5:
   \   00000064   9189               LD      R24, Y+
   \   00000066   9508               RET
   \   00000068                      REQUIRE _A_PORTC
   1035          	}
   1036          }
   1037          
   1038          
   1039          /******************************************************************************
   1040          *	USIR tools		// alan 0604
   1041          ******************************************************************************/

   \                                 In  segment CODE, align 2, keep-with-next
   1042          unsigned char get_us(void)
   \                     get_us:
   1043          {
   \   00000000   938A               ST      -Y, R24
   1044          	unsigned char i;
   1045          	if(Time_delay.IR.time_out)
   \   00000002   9100....           LDS     R16, (Time_delay + 234)
   \   00000006   2300               TST     R16
   \   00000008   F0A1               BREQ    ??get_us_0
   1046          	{
   1047          		US_detection_en = 0;
   \   0000000A   E000               LDI     R16, 0
   \   0000000C   9300....           STS     US_detection_en, R16
   1048          		for(i=0;i<10;i++)
   \   00000010   E080               LDI     R24, 0
   \   00000012   C001               RJMP    ??get_us_1
   \                     ??get_us_2:
   \   00000014   9583               INC     R24
   \                     ??get_us_1:
   \   00000016   308A               CPI     R24, 10
   \   00000018   F460               BRCC    ??get_us_0
   1049          		{
   1050          			us_detection();
   \   0000001A   ........           CALL    us_detection
   1051          			delay_us(100);
   \   0000001E   E604               LDI     R16, 100
   \   00000020   E010               LDI     R17, 0
   \   00000022   ........           CALL    delay_us
   1052          			if(US_detection_en == 1)
   \   00000026   9100....           LDS     R16, US_detection_en
   \   0000002A   3001               CPI     R16, 1
   \   0000002C   F799               BRNE    ??get_us_2
   1053          				return 1;
   \   0000002E   E001               LDI     R16, 1
   \   00000030   C001               RJMP    ??get_us_3
   1054          			//else
   1055          			//	return 0;
   1056          		}
   1057          	}
   1058          	return 0;
   \                     ??get_us_0:
   \   00000032   E000               LDI     R16, 0
   \                     ??get_us_3:
   \   00000034   9189               LD      R24, Y+
   \   00000036   9508               RET
   1059          }
   1060          

   \                                 In  segment CODE, align 2, keep-with-next
   1061          void load_update(unsigned char status)
   \                     load_update:
   1062          {
   \   00000000   938A               ST      -Y, R24
   \   00000002   97A0               SBIW    R29:R28, 32
   \   00000004   2F80               MOV     R24, R16
   1063            unsigned char buffer_short[9] = "00001200";
   \   00000006   019E               MOVW    R19:R18, R29:R28
   \   00000008   5F2D               SUBI    R18, 253
   \   0000000A   4F3F               SBCI    R19, 255
   \   0000000C   0189               MOVW    R17:R16, R19:R18
   \   0000000E   ....               LDI     R30, LOW(`?<Constant "00001200">`)
   \   00000010   ....               LDI     R31, (`?<Constant "00001200">`) >> 8
   \   00000012   E049               LDI     R20, 9
   \   00000014   E050               LDI     R21, 0
   \   00000016   ........           CALL    ?ML_FLASH_SRAM_16EC_16_L07
   1064            unsigned char buffer_tx[17] = "D10001420D000000";
   \   0000001A   019E               MOVW    R19:R18, R29:R28
   \   0000001C   5F21               SUBI    R18, 241
   \   0000001E   4F3F               SBCI    R19, 255
   \   00000020   0189               MOVW    R17:R16, R19:R18
   \   00000022   E141               LDI     R20, 17
   \   00000024   ........           CALL    ?ML_FLASH_SRAM_16EC_16_L07
   1065            unsigned char buffer[3];
   1066            unsigned char buffer_add[3];
   1067          
   1068            buffer[2] = 0;
   \   00000028   834A               STD     Y+2, R20
   \   0000002A   019E               MOVW    R19:R18, R29:R28
   \   0000002C   5F24               SUBI    R18, 244
   \   0000002E   4F3F               SBCI    R19, 255
   \   00000030   9100....           LDS     R16, (KO_conf + 2)
   1069          
   1070            CharToStr(KO_conf.DesAdd,buffer_add);
   \   00000034   ........           CALL    CharToStr
   1071          
   1072            switch (KO_conf.AddressType)
   \   00000038   9100....           LDS     R16, (KO_conf + 1)
   \   0000003C   5000               SUBI    R16, 0
   \   0000003E   F041               BREQ    ??load_update_0
   \   00000040   950A               DEC     R16
   \   00000042   F171               BREQ    ??load_update_1
   \   00000044   950A               DEC     R16
   \   00000046   F1D1               BREQ    ??load_update_2
   \   00000048   950A               DEC     R16
   \   0000004A   F409               BRNE    $+2+2
   \   0000004C   C045               RJMP    ??load_update_3
   \   0000004E   C057               RJMP    ??load_update_4
   1073            {
   1074              case 0x00://p to p
   1075                  CharToStr(KO_conf.DesAdd,buffer);
   \                     ??load_update_0:
   \   00000050   019E               MOVW    R19:R18, R29:R28
   \   00000052   9100....           LDS     R16, (KO_conf + 2)
   \   00000056   ........           CALL    CharToStr
   1076          				buffer_short[0] = buffer[0];
   \   0000005A   8108               LD      R16, Y
   \   0000005C   830B               STD     Y+3, R16
   1077          				buffer_short[1] = buffer[1];
   \   0000005E   8109               LDD     R16, Y+1
   \   00000060   830C               STD     Y+4, R16
   1078                  CharToStr(status,buffer);
   \   00000062   019E               MOVW    R19:R18, R29:R28
   \   00000064   2F08               MOV     R16, R24
   \   00000066   ........           CALL    CharToStr
   1079                  buffer_short[6] = buffer[0];
   \   0000006A   8108               LD      R16, Y
   \   0000006C   8709               STD     Y+9, R16
   1080                  buffer_short[7] = buffer[1];
   \   0000006E   8109               LDD     R16, Y+1
   \   00000070   870A               STD     Y+10, R16
   1081          				send_frame_pp_broad(buffer_short,TRANS_DELAY); //0707
   \   00000072   E322               LDI     R18, 50
   \   00000074   E030               LDI     R19, 0
   \   00000076   018E               MOVW    R17:R16, R29:R28
   \   00000078   5F0D               SUBI    R16, 253
   \   0000007A   4F1F               SBCI    R17, 255
   \   0000007C   ........           CALL    send_frame_pp_broad
   1082          
   1083                  CharToStr(status,buffer);
   \   00000080   019E               MOVW    R19:R18, R29:R28
   \   00000082   2F08               MOV     R16, R24
   \   00000084   ........           CALL    CharToStr
   1084                  buffer_tx[10] = buffer[0];
   \   00000088   8108               LD      R16, Y
   \   0000008A   8F09               STD     Y+25, R16
   1085                  buffer_tx[11] = buffer[1];
   \   0000008C   8109               LDD     R16, Y+1
   \   0000008E   8F0A               STD     Y+26, R16
   1086          				send_frame_pp_ext(buffer_tx,TRANS_DELAY);
   \   00000090   E322               LDI     R18, 50
   \   00000092   E030               LDI     R19, 0
   \   00000094   018E               MOVW    R17:R16, R29:R28
   \   00000096   5F01               SUBI    R16, 241
   \   00000098   4F1F               SBCI    R17, 255
   \   0000009A   ........           CALL    send_frame_pp_ext
   \   0000009E   C02F               RJMP    ??load_update_4
   1087              break;
   1088          
   1089              case 0x01://area
   1090                buffer_short[0] = 'B';
   \                     ??load_update_1:
   \   000000A0   E402               LDI     R16, 66
   \   000000A2   830B               STD     Y+3, R16
   1091          		  buffer_short[1] = '3';
   \   000000A4   E303               LDI     R16, 51
   \   000000A6   830C               STD     Y+4, R16
   1092                CharToStr(KO_conf.DesAdd,buffer);
   \   000000A8   019E               MOVW    R19:R18, R29:R28
   \   000000AA   9100....           LDS     R16, (KO_conf + 2)
   \   000000AE   ........           CALL    CharToStr
   1093          			buffer_short[2] = buffer[0];
   \   000000B2   8108               LD      R16, Y
   \   000000B4   830D               STD     Y+5, R16
   1094          			buffer_short[3] = buffer[1];
   \   000000B6   8109               LDD     R16, Y+1
   \   000000B8   830E               STD     Y+6, R16
   1095                CharToStr(status,buffer);
   \   000000BA   C012               RJMP    ??load_update_5
   1096                buffer_short[6] = buffer[0];
   1097                buffer_short[7] = buffer[1];
   1098          			send_frame_pp_broad(buffer_short,TRANS_DELAY); //0707
   1099              break;
   1100          
   1101              case 0x02://group
   1102                buffer_short[0] = 'B';
   \                     ??load_update_2:
   \   000000BC   E402               LDI     R16, 66
   \   000000BE   830B               STD     Y+3, R16
   1103          		  buffer_short[1] = '5';
   \   000000C0   E305               LDI     R16, 53
   \   000000C2   830C               STD     Y+4, R16
   1104          		  CharToStr(KO_conf.GR,buffer);
   \   000000C4   019E               MOVW    R19:R18, R29:R28
   \   000000C6   9100....           LDS     R16, (KO_conf + 6)
   \   000000CA   ........           CALL    CharToStr
   1105          		  buffer_short[2] = buffer[0];
   \   000000CE   8108               LD      R16, Y
   \   000000D0   830D               STD     Y+5, R16
   1106          		  buffer_short[3] = buffer[1];
   \   000000D2   8109               LDD     R16, Y+1
   \   000000D4   830E               STD     Y+6, R16
   1107          		  send_frame_pp_broad(buffer_short,TRANS_DELAY);
   \   000000D6   C00C               RJMP    ??load_update_6
   1108              break;
   1109          
   1110              case 0x03://general
   1111                buffer_short[0] = 'B';
   \                     ??load_update_3:
   \   000000D8   E402               LDI     R16, 66
   \   000000DA   830B               STD     Y+3, R16
   1112          			buffer_short[1] = '1';
   \   000000DC   E301               LDI     R16, 49
   \   000000DE   830C               STD     Y+4, R16
   1113                CharToStr(status,buffer);
   \                     ??load_update_5:
   \   000000E0   019E               MOVW    R19:R18, R29:R28
   \   000000E2   2F08               MOV     R16, R24
   \   000000E4   ........           CALL    CharToStr
   1114                buffer_short[6] = buffer[0];
   \   000000E8   8108               LD      R16, Y
   \   000000EA   8709               STD     Y+9, R16
   1115                buffer_short[7] = buffer[1];
   \   000000EC   8109               LDD     R16, Y+1
   \   000000EE   870A               STD     Y+10, R16
   1116          			send_frame_pp_broad(buffer_short,TRANS_DELAY); //0707
   \                     ??load_update_6:
   \   000000F0   E322               LDI     R18, 50
   \   000000F2   E030               LDI     R19, 0
   \   000000F4   018E               MOVW    R17:R16, R29:R28
   \   000000F6   5F0D               SUBI    R16, 253
   \   000000F8   4F1F               SBCI    R17, 255
   \   000000FA   ........           CALL    send_frame_pp_broad
   1117              break;
   1118          
   1119              default:break;
   1120            }
   1121          }
   \                     ??load_update_4:
   \   000000FE   96A0               ADIW    R29:R28, 32
   \   00000100   9189               LD      R24, Y+
   \   00000102   9508               RET
   1122          

   \                                 In  segment CODE, align 2, keep-with-next
   1123          void button_press_detect(void)
   \                     button_press_detect:
   1124          {
   1125          	if(!get_key())
   \   00000000   ........           CALL    get_key
   \   00000004   2300               TST     R16
   \   00000006   F5B9               BRNE    ??button_press_detect_0
   1126          	{
   1127          		if(Time_delay.LPB.enabled == 1)
   \   00000008   9100....           LDS     R16, (Time_delay + 125)
   \   0000000C   3001               CPI     R16, 1
   \   0000000E   F549               BRNE    ??button_press_detect_1
   1128          		{
   1129          			if(Time_delay.LPB.count != 0)
   \   00000010   ....               LDI     R30, LOW((Time_delay + 116))
   \   00000012   ....               LDI     R31, HIGH((Time_delay + 116))
   \   00000014   8100               LD      R16, Z
   \   00000016   8111               LDD     R17, Z+1
   \   00000018   8122               LDD     R18, Z+2
   \   0000001A   8133               LDD     R19, Z+3
   \   0000001C   2B01               OR      R16, R17
   \   0000001E   2B02               OR      R16, R18
   \   00000020   2B03               OR      R16, R19
   \   00000022   F0F9               BREQ    ??button_press_detect_1
   1130          			{
   1131          				if( Time_delay.LPB.count < 1000 )
   \   00000024   8100               LD      R16, Z
   \   00000026   8111               LDD     R17, Z+1
   \   00000028   8122               LDD     R18, Z+2
   \   0000002A   8133               LDD     R19, Z+3
   \   0000002C   3E08               CPI     R16, 232
   \   0000002E   E043               LDI     R20, 3
   \   00000030   0714               CPC     R17, R20
   \   00000032   E040               LDI     R20, 0
   \   00000034   0724               CPC     R18, R20
   \   00000036   0734               CPC     R19, R20
   \   00000038   F420               BRCC    ??button_press_detect_2
   1132          				{
   1133          					key_result.short_pressed = 1;
   \   0000003A   E001               LDI     R16, 1
   \   0000003C   9300....           STS     key_result, R16
   \   00000040   C00E               RJMP    ??button_press_detect_3
   1134          					//buzzer_ms(100);					//20090211
   1135          				}
   1136          				else if( Time_delay.LPB.count > 3000 )
   \                     ??button_press_detect_2:
   \   00000042   8100               LD      R16, Z
   \   00000044   8111               LDD     R17, Z+1
   \   00000046   8122               LDD     R18, Z+2
   \   00000048   8133               LDD     R19, Z+3
   \   0000004A   3B09               CPI     R16, 185
   \   0000004C   E04B               LDI     R20, 11
   \   0000004E   0714               CPC     R17, R20
   \   00000050   E040               LDI     R20, 0
   \   00000052   0724               CPC     R18, R20
   \   00000054   0734               CPC     R19, R20
   \   00000056   F018               BRCS    ??button_press_detect_3
   1137          				{
   1138          					key_result.long_pressed = 1;
   \   00000058   E001               LDI     R16, 1
   \   0000005A   9300....           STS     (key_result + 1), R16
   1139          					//buzzer_ms(200);					//20090211
   1140          				}
   1141          				key_time_clear();
   \                     ??button_press_detect_3:
   \   0000005E   ........           CALL    key_time_clear
   1142          			}
   1143          		}
   1144          
   1145          		Time_delay.LPB.count = 0;
   \                     ??button_press_detect_1:
   \   00000062   E000               LDI     R16, 0
   \   00000064   ....               LDI     R30, LOW((Time_delay + 116))
   \   00000066   ....               LDI     R31, HIGH((Time_delay + 116))
   \   00000068   8300               ST      Z, R16
   \   0000006A   8301               STD     Z+1, R16
   \   0000006C   8302               STD     Z+2, R16
   \   0000006E   8303               STD     Z+3, R16
   1146          		Time_delay.LPB.enabled = 0;
   \   00000070   9300....           STS     (Time_delay + 125), R16
   \   00000074   9508               RET
   1147          	}
   1148          	else if(get_key())
   \                     ??button_press_detect_0:
   \   00000076   ........           CALL    get_key
   \   0000007A   2300               TST     R16
   \   0000007C   F019               BREQ    ??button_press_detect_4
   1149          	{
   1150          		Time_delay.LPB.enabled = 1;
   \   0000007E   E001               LDI     R16, 1
   \   00000080   9300....           STS     (Time_delay + 125), R16
   1151          	}
   1152          }
   \                     ??button_press_detect_4:
   \   00000084   9508               RET
   1153          

   \                                 In  segment CODE, align 2, keep-with-next
   1154          void button_release_detect(void)
   \                     button_release_detect:
   1155          {
   1156          	if(!get_key())
   \   00000000   ........           CALL    get_key
   \   00000004   2300               TST     R16
   \   00000006   F449               BRNE    ??button_release_detect_0
   1157          	{
   1158          		Time_delay.LPB.count = 0;
   \   00000008   E000               LDI     R16, 0
   \   0000000A   ....               LDI     R30, LOW((Time_delay + 116))
   \   0000000C   ....               LDI     R31, HIGH((Time_delay + 116))
   \   0000000E   8300               ST      Z, R16
   \   00000010   8301               STD     Z+1, R16
   \   00000012   8302               STD     Z+2, R16
   \   00000014   8303               STD     Z+3, R16
   1159          		Time_delay.LPB.enabled = 0;
   \   00000016   9300....           STS     (Time_delay + 125), R16
   1160          	}
   1161          }
   \                     ??button_release_detect_0:
   \   0000001A   9508               RET
   1162          

   \                                 In  segment CODE, align 2, keep-with-next
   1163          unsigned char scs_pnl_advance_master(void)
   \                     scs_pnl_advance_master:
   1164          {
   \   00000000   9764               SBIW    R29:R28, 20
   1165          	char buffer_tx[17] = "D20001428C220940";
   \   00000002   019E               MOVW    R19:R18, R29:R28
   \   00000004   5F2D               SUBI    R18, 253
   \   00000006   4F3F               SBCI    R19, 255
   \   00000008   0189               MOVW    R17:R16, R19:R18
   \   0000000A   ....               LDI     R30, LOW(`?<Constant "D20001428C220940">`)
   \   0000000C   ....               LDI     R31, (`?<Constant "D20001428C220940">`) >> 8
   \   0000000E   E141               LDI     R20, 17
   \   00000010   E050               LDI     R21, 0
   \   00000012   ........           CALL    ?ML_FLASH_SRAM_16EC_16_L07
   1166          	char buffer[3];
   1167          
   1168            buffer[2] = 0;
   \   00000016   834A               STD     Y+2, R20
   1169          
   1170          	static struct
   1171          	{
   1172          		unsigned char A;
   1173          		unsigned char PL;
   1174          		unsigned char flag;
   1175          		unsigned char group_create_flag;
   1176          	}ptop;
   1177          
   1178          	static unsigned char conf_3s;
   1179          	//KO_conf.GR = 1;
   1180          	if( state.main_state == STATE_NORMAL )
   \   00000018   9100....           LDS     R16, (state + 2)
   \   0000001C   9110....           LDS     R17, (state + 3)
   \   00000020   2B01               OR      R16, R17
   \   00000022   F4D9               BRNE    ??scs_pnl_advance_master_0
   \   00000024   9100....           LDS     R16, key_result
   \   00000028   3001               CPI     R16, 1
   \   0000002A   F4B9               BRNE    ??scs_pnl_advance_master_0
   1181          	{
   1182          		if(key_result.short_pressed == 1)
   1183          		{
   1184          			key_result.short_pressed = 0;
   \   0000002C   9340....           STS     key_result, R20
   1185          			state.main_state = PNL_AD_CONFED_STEP1;
   \   00000030   E007               LDI     R16, 7
   \   00000032   E910               LDI     R17, 144
   \   00000034   9300....           STS     (state + 2), R16
   \   00000038   9310....           STS     (state + 3), R17
   1186          			led_blinking(1000,1000);
   \   0000003C   EE48               LDI     R20, 232
   \   0000003E   E053               LDI     R21, 3
   \   00000040   E060               LDI     R22, 0
   \   00000042   E070               LDI     R23, 0
   \   00000044   EE08               LDI     R16, 232
   \   00000046   E013               LDI     R17, 3
   \   00000048   E020               LDI     R18, 0
   \   0000004A   E030               LDI     R19, 0
   \   0000004C   ....               RCALL   led_blinking
   1187                timer_flex_initial(60000);
   \   0000004E   E600               LDI     R16, 96
   \   00000050   EE1A               LDI     R17, 234
   \   00000052   E020               LDI     R18, 0
   \   00000054   E030               LDI     R19, 0
   \   00000056   ........           CALL    timer_flex_initial
   1188          		}
   1189          	}
   1190          
   1191          	if( state.main_state == PNL_AD_CONFED_STEP1 )
   \                     ??scs_pnl_advance_master_0:
   \   0000005A   9100....           LDS     R16, (state + 2)
   \   0000005E   9110....           LDS     R17, (state + 3)
   \   00000062   3007               CPI     R16, 7
   \   00000064   E920               LDI     R18, 144
   \   00000066   0712               CPC     R17, R18
   \   00000068   F009               BREQ    $+2+2
   \   0000006A   C078               RJMP    ??scs_pnl_advance_master_1
   1192          	{
   1193          		if(Time_delay.timer_flex.time_out == 1)
   \   0000006C   9100....           LDS     R16, (Time_delay + 157)
   \   00000070   3001               CPI     R16, 1
   \   00000072   F449               BRNE    ??scs_pnl_advance_master_2
   1194          		{
   1195          			led_blinking_disable(0);
   \                     ??scs_pnl_advance_master_3:
   \   00000074   E000               LDI     R16, 0
   \   00000076   ........           CALL    led_blinking_disable
   1196          			state.main_state = STATE_NORMAL;
   \   0000007A   E000               LDI     R16, 0
   \   0000007C   9300....           STS     (state + 2), R16
   \   00000080   9300....           STS     (state + 3), R16
   1197          			return 0;
   \   00000084   C296               RJMP    ??scs_pnl_advance_master_4
   1198          		}
   \                     ??scs_pnl_advance_master_2:
   \   00000086   9100....           LDS     R16, key_result
   \   0000008A   3001               CPI     R16, 1
   \   0000008C   F009               BREQ    $+2+2
   \   0000008E   C042               RJMP    ??scs_pnl_advance_master_5
   1199          		else if( key_result.short_pressed == 1 )
   1200          		{
   1201          			key_result.short_pressed = 0;
   \   00000090   E000               LDI     R16, 0
   \   00000092   9300....           STS     key_result, R16
   1202          			state.main_state = PNL_AD_CONFED_STEP2;
   \   00000096   E008               LDI     R16, 8
   \   00000098   9300....           STS     (state + 2), R16
   \   0000009C   9320....           STS     (state + 3), R18
   1203          			timer_flex_initial(600000);
   \   000000A0   EC00               LDI     R16, 192
   \   000000A2   E217               LDI     R17, 39
   \   000000A4   E029               LDI     R18, 9
   \   000000A6   E030               LDI     R19, 0
   \   000000A8   ....               RCALL   timer_flex_initial
   1204          			led_blinking_stage2_initial(600000);
   \   000000AA   EC00               LDI     R16, 192
   \   000000AC   E217               LDI     R17, 39
   \   000000AE   E029               LDI     R18, 9
   \   000000B0   E030               LDI     R19, 0
   \   000000B2   ........           CALL    led_blinking_stage2_initial
   1205          			led_blinking(250,250);
   \   000000B6   EF4A               LDI     R20, 250
   \   000000B8   E050               LDI     R21, 0
   \   000000BA   E060               LDI     R22, 0
   \   000000BC   E070               LDI     R23, 0
   \   000000BE   EF0A               LDI     R16, 250
   \   000000C0   E010               LDI     R17, 0
   \   000000C2   E020               LDI     R18, 0
   \   000000C4   E030               LDI     R19, 0
   \   000000C6   ....               RCALL   led_blinking
   1206          			send_frame_pp_broad("B0009900",TRANS_DELAY);
   \   000000C8   E322               LDI     R18, 50
   \   000000CA   E030               LDI     R19, 0
   \   000000CC   ....               LDI     R16, LOW(`?<Constant "B0009900">`)
   \   000000CE   ....               LDI     R17, (`?<Constant "B0009900">`) >> 8
   \   000000D0   ........           CALL    send_frame_pp_broad
   \   000000D4   9100....           LDS     R16, (KO_conf + 6)
   \   000000D8   2300               TST     R16
   \   000000DA   F089               BREQ    ??scs_pnl_advance_master_6
   1207          
   1208          			if(KO_conf.GR != 0)
   1209          			{
   1210          				CharToStr(KO_conf.GR,buffer);
   \   000000DC   019E               MOVW    R19:R18, R29:R28
   \   000000DE   9100....           LDS     R16, (KO_conf + 6)
   \   000000E2   ........           CALL    CharToStr
   1211          				buffer_tx[10] = buffer[0];
   \   000000E6   8108               LD      R16, Y
   \   000000E8   870D               STD     Y+13, R16
   1212          				buffer_tx[11] = buffer[1];
   \   000000EA   8109               LDD     R16, Y+1
   \   000000EC   870E               STD     Y+14, R16
   1213          				send_frame_pp_ext_broad(buffer_tx,TRANS_DELAY);
   \   000000EE   E322               LDI     R18, 50
   \   000000F0   E030               LDI     R19, 0
   \   000000F2   018E               MOVW    R17:R16, R29:R28
   \   000000F4   5F0D               SUBI    R16, 253
   \   000000F6   4F1F               SBCI    R17, 255
   \                     ??scs_pnl_advance_master_7:
   \   000000F8   ........           CALL    send_frame_pp_ext_broad
   \   000000FC   C02F               RJMP    ??scs_pnl_advance_master_1
   1214          			}
   1215          			else
   1216          			{
   1217          				state.main_state = PNL_AD_CONFED_STEP8;
   \                     ??scs_pnl_advance_master_6:
   \   000000FE   E00E               LDI     R16, 14
   \   00000100   E910               LDI     R17, 144
   \   00000102   9300....           STS     (state + 2), R16
   \   00000106   9310....           STS     (state + 3), R17
   1218          				send_frame_pp_ext_broad("D20001428C000940",TRANS_DELAY);
   \   0000010A   E322               LDI     R18, 50
   \   0000010C   E030               LDI     R19, 0
   \   0000010E   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 9))
   \   00000110   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 9))
   \   00000112   CFF2               RJMP    ??scs_pnl_advance_master_7
   1219          			}
   1220          		}			
   1221          		else if(Time_delay.LPB.count > 10000)				// group initial
   \                     ??scs_pnl_advance_master_5:
   \   00000114   ....               LDI     R30, LOW((Time_delay + 116))
   \   00000116   ....               LDI     R31, HIGH((Time_delay + 116))
   \   00000118   8100               LD      R16, Z
   \   0000011A   8111               LDD     R17, Z+1
   \   0000011C   8122               LDD     R18, Z+2
   \   0000011E   8133               LDD     R19, Z+3
   \   00000120   3101               CPI     R16, 17
   \   00000122   E247               LDI     R20, 39
   \   00000124   0714               CPC     R17, R20
   \   00000126   E040               LDI     R20, 0
   \   00000128   0724               CPC     R18, R20
   \   0000012A   0734               CPC     R19, R20
   \   0000012C   F0B8               BRCS    ??scs_pnl_advance_master_1
   1222          		{
   1223                Time_delay.LPB.count = 0;
   \   0000012E   8340               ST      Z, R20
   \   00000130   8341               STD     Z+1, R20
   \   00000132   8342               STD     Z+2, R20
   \   00000134   8343               STD     Z+3, R20
   1224                ee_flags.manual_initialize = 1;
   \   00000136   ....               LDI     R20, LOW(ee_flags)
   \   00000138   ....               LDI     R21, (ee_flags) >> 8
   \   0000013A   ........           CALL    __eeget16_16
   \   0000013E   6001               ORI     R16, 0x01
   \   00000140   ....               LDI     R20, LOW(ee_flags)
   \   00000142   ....               LDI     R21, (ee_flags) >> 8
   \   00000144   ........           CALL    __eeput16_16
   1225          			send_group_pnl_frame(SET,KO_conf.GR,GROUP_RELEASE);
   \   00000148   E327               LDI     R18, 55
   \   0000014A   9110....           LDS     R17, (KO_conf + 6)
   \   0000014E   E302               LDI     R16, 50
   \   00000150   ........           CALL    send_group_pnl_frame
   1226                factory_default();
   \   00000154   ........           CALL    factory_default
   1227          			system_reset();
   \   00000158   ........           CALL    system_reset
   1228          		}
   1229          	}
   1230          
   1231          	if( state.main_state == PNL_AD_CONFED_STEP2 )      //group remove
   \                     ??scs_pnl_advance_master_1:
   \   0000015C   9100....           LDS     R16, (state + 2)
   \   00000160   9110....           LDS     R17, (state + 3)
   \   00000164   3008               CPI     R16, 8
   \   00000166   E920               LDI     R18, 144
   \   00000168   0712               CPC     R17, R18
   \   0000016A   F009               BREQ    $+2+2
   \   0000016C   C090               RJMP    ??scs_pnl_advance_master_8
   \   0000016E   9100....           LDS     R16, key_result
   \   00000172   3001               CPI     R16, 1
   \   00000174   F5A1               BRNE    ??scs_pnl_advance_master_9
   1232          	{
   1233          		if(key_result.short_pressed == 1)								//state 6 is here
   1234          		{
   1235          			key_result.short_pressed = 0;
   \   00000176   E000               LDI     R16, 0
   \   00000178   9300....           STS     key_result, R16
   1236          			led_blinking_disable(0);
   \   0000017C   ....               RCALL   led_blinking_disable
   1237                timer_flex_initial(100);    //for close the procedure
   \   0000017E   E604               LDI     R16, 100
   \   00000180   E010               LDI     R17, 0
   \   00000182   E020               LDI     R18, 0
   \   00000184   E030               LDI     R19, 0
   \   00000186   ....               RCALL   timer_flex_initial
   \   00000188   9100....           LDS     R16, (KO_conf + 5)
   \   0000018C   2300               TST     R16
   \   0000018E   F509               BRNE    ??scs_pnl_advance_master_10
   1238          			if(KO_conf.Reference == 0)
   1239          			{
   1240          				strncpy(buffer_tx,"B5001500",17);
   \   00000190   E141               LDI     R20, 17
   \   00000192   E050               LDI     R21, 0
   \   00000194   ....               LDI     R18, LOW((`?<Constant "B0009900">` + 26))
   \   00000196   ....               LDI     R19, HIGH((`?<Constant "B0009900">` + 26))
   \   00000198   018E               MOVW    R17:R16, R29:R28
   \   0000019A   5F0D               SUBI    R16, 253
   \   0000019C   4F1F               SBCI    R17, 255
   \   0000019E   ........           CALL    strncpy
   1241          				CharToStr(KO_conf.GR,buffer);
   \   000001A2   019E               MOVW    R19:R18, R29:R28
   \   000001A4   9100....           LDS     R16, (KO_conf + 6)
   \   000001A8   ........           CALL    CharToStr
   1242          				buffer_tx[2] = buffer[0];
   \   000001AC   8108               LD      R16, Y
   \   000001AE   830D               STD     Y+5, R16
   1243          				buffer_tx[3] = buffer[1];
   \   000001B0   8109               LDD     R16, Y+1
   \   000001B2   830E               STD     Y+6, R16
   1244          				send_frame_pp_broad(buffer_tx,TRANS_DELAY);
   \   000001B4   E322               LDI     R18, 50
   \   000001B6   E030               LDI     R19, 0
   \   000001B8   018E               MOVW    R17:R16, R29:R28
   \   000001BA   5F0D               SUBI    R16, 253
   \   000001BC   4F1F               SBCI    R17, 255
   \   000001BE   ........           CALL    send_frame_pp_broad
   1245                  timer_flex_initial(3000);
   \   000001C2   EB08               LDI     R16, 184
   \   000001C4   E01B               LDI     R17, 11
   \   000001C6   E020               LDI     R18, 0
   \   000001C8   E030               LDI     R19, 0
   \   000001CA   ....               RCALL   timer_flex_initial
   1246          				conf_3s = 1;
   \   000001CC   E001               LDI     R16, 1
   \   000001CE   9300....           STS     (??ptop + 4), R16
   1247          			}
   1248          			state.main_state = PNL_AD_CONFED_STEP6;
   \                     ??scs_pnl_advance_master_10:
   \   000001D2   E00C               LDI     R16, 12
   \   000001D4   E910               LDI     R17, 144
   \   000001D6   9300....           STS     (state + 2), R16
   \   000001DA   9310....           STS     (state + 3), R17
   1249          		}
   1250          
   1251          		if(Time_delay.LPB.count > 10000)
   \                     ??scs_pnl_advance_master_9:
   \   000001DE   ....               LDI     R30, LOW((Time_delay + 116))
   \   000001E0   ....               LDI     R31, HIGH((Time_delay + 116))
   \   000001E2   8100               LD      R16, Z
   \   000001E4   8111               LDD     R17, Z+1
   \   000001E6   8122               LDD     R18, Z+2
   \   000001E8   8133               LDD     R19, Z+3
   \   000001EA   3101               CPI     R16, 17
   \   000001EC   E247               LDI     R20, 39
   \   000001EE   0714               CPC     R17, R20
   \   000001F0   E040               LDI     R20, 0
   \   000001F2   0724               CPC     R18, R20
   \   000001F4   0734               CPC     R19, R20
   \   000001F6   F408               BRCC    $+2+2
   \   000001F8   C04A               RJMP    ??scs_pnl_advance_master_8
   1252          		{
   1253                key_result.short_pressed = 0;
   \   000001FA   9340....           STS     key_result, R20
   1254          			key_result.long_pressed = 0;
   \   000001FE   9340....           STS     (key_result + 1), R20
   \   00000202   9100....           LDS     R16, (KO_conf + 5)
   \   00000206   2300               TST     R16
   \   00000208   F031               BREQ    ??scs_pnl_advance_master_11
   1255          
   1256          			if(KO_conf.Reference != 0)
   1257          				send_group_pnl_frame(SET,KO_conf.Reference,REF_TRANS);
   \   0000020A   E323               LDI     R18, 51
   \   0000020C   9110....           LDS     R17, (KO_conf + 5)
   \   00000210   E302               LDI     R16, 50
   \   00000212   ........           CALL    send_group_pnl_frame
   \                     ??scs_pnl_advance_master_11:
   \   00000216   ....               LDI     R20, LOW(ee_flags)
   \   00000218   ....               LDI     R21, (ee_flags) >> 8
   \   0000021A   ........           CALL    __eeget16_16
   \   0000021E   7002               ANDI    R16, 0x02
   \   00000220   F059               BREQ    ??scs_pnl_advance_master_12
   1258          			
   1259          			if(ee_flags.PnG_confed)
   1260          			{
   1261          				KO_conf.Reference = ee_variable.Reference;
   \   00000222   ....               LDI     R20, LOW((ee_variable + 1))
   \   00000224   ....               LDI     R21, HIGH((ee_variable + 1))
   \   00000226   ........           CALL    __eeget8_16
   \   0000022A   9300....           STS     (KO_conf + 5), R16
   1262          				ee_KO_conf.Reference = ee_variable.Reference;
   \   0000022E   ....               LDI     R20, LOW((ee_variable + 1))
   \   00000230   ....               LDI     R21, HIGH((ee_variable + 1))
   \   00000232   ........           CALL    __eeget8_16
   \   00000236   C003               RJMP    ??scs_pnl_advance_master_13
   1263          			}
   1264          			else
   1265          			{
   1266          				KO_conf.Reference = 0;
   \                     ??scs_pnl_advance_master_12:
   \   00000238   E000               LDI     R16, 0
   \   0000023A   9300....           STS     (KO_conf + 5), R16
   1267          				ee_KO_conf.Reference = 0;
   \                     ??scs_pnl_advance_master_13:
   \   0000023E   ....               LDI     R20, LOW((ee_KO_conf + 5))
   \   00000240   ....               LDI     R21, HIGH((ee_KO_conf + 5))
   \   00000242   ........           CALL    __eeput8_16
   1268          			}
   1269          			
   1270          			send_group_pnl_frame(SET,KO_conf.GR,GROUP_END_PNL);
   \   00000246   E426               LDI     R18, 70
   \   00000248   9110....           LDS     R17, (KO_conf + 6)
   \   0000024C   E302               LDI     R16, 50
   \   0000024E   ........           CALL    send_group_pnl_frame
   1271          			send_frame_pp_broad("B000990F",TRANS_DELAY);
   \   00000252   E322               LDI     R18, 50
   \   00000254   E030               LDI     R19, 0
   \   00000256   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 35))
   \   00000258   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 35))
   \   0000025A   ........           CALL    send_frame_pp_broad
   1272          			send_group_pnl_frame(SET,KO_conf.GR,GROUP_ERASE);
   \   0000025E   E324               LDI     R18, 52
   \   00000260   9110....           LDS     R17, (KO_conf + 6)
   \   00000264   E302               LDI     R16, 50
   \   00000266   ........           CALL    send_group_pnl_frame
   1273          			led_blinking(60,200);
   \   0000026A   EC48               LDI     R20, 200
   \   0000026C   E050               LDI     R21, 0
   \   0000026E   E060               LDI     R22, 0
   \   00000270   E070               LDI     R23, 0
   \   00000272   E30C               LDI     R16, 60
   \   00000274   E010               LDI     R17, 0
   \   00000276   E020               LDI     R18, 0
   \   00000278   E030               LDI     R19, 0
   \   0000027A   ....               RCALL   led_blinking
   1274                delay_ms(5000);
   \   0000027C   E808               LDI     R16, 136
   \   0000027E   E113               LDI     R17, 19
   \   00000280   ........           CALL    delay_ms
   1275                state.main_state = NORMAL;
   \   00000284   E000               LDI     R16, 0
   \   00000286   9300....           STS     (state + 2), R16
   \   0000028A   9300....           STS     (state + 3), R16
   \                     ??scs_pnl_advance_master_8:
   \   0000028E   9100....           LDS     R16, (g_asc_reception_buffer + 6)
   \   00000292   3009               CPI     R16, 9
   \   00000294   F491               BRNE    ??scs_pnl_advance_master_14
   \   00000296   9100....           LDS     R16, (g_asc_reception_buffer + 7)
   \   0000029A   3201               CPI     R16, 33
   \   0000029C   F471               BRNE    ??scs_pnl_advance_master_14
   \   0000029E   9100....           LDS     R16, (KO_conf + 5)
   \   000002A2   2300               TST     R16
   \   000002A4   F451               BRNE    ??scs_pnl_advance_master_14
   1276          		}
   1277          	}
   1278          
   1279          	if((g_asc_reception_buffer[6] == 0x09) && (g_asc_reception_buffer[7] == 0x21))
   1280          	{
   1281          		if(KO_conf.Reference == 0)
   1282          		{
   1283          			KO_conf.Reference = g_asc_reception_buffer[1];
   \   000002A6   9100....           LDS     R16, (g_asc_reception_buffer + 1)
   \   000002AA   9300....           STS     (KO_conf + 5), R16
   1284          			ee_KO_conf.Reference = g_asc_reception_buffer[1];
   \   000002AE   9100....           LDS     R16, (g_asc_reception_buffer + 1)
   \   000002B2   ....               LDI     R20, LOW((ee_KO_conf + 5))
   \   000002B4   ....               LDI     R21, HIGH((ee_KO_conf + 5))
   \   000002B6   ........           CALL    __eeput8_16
   1285          		}
   1286          	}	
   1287          		
   1288          	if( state.main_state == PNL_AD_CONFED_STEP6)
   \                     ??scs_pnl_advance_master_14:
   \   000002BA   9100....           LDS     R16, (state + 2)
   \   000002BE   9110....           LDS     R17, (state + 3)
   \   000002C2   300C               CPI     R16, 12
   \   000002C4   E920               LDI     R18, 144
   \   000002C6   0712               CPC     R17, R18
   \   000002C8   F511               BRNE    ??scs_pnl_advance_master_15
   1289          	{
   1290          		if(conf_3s == 1)
   \   000002CA   ....               LDI     R30, LOW(??ptop)
   \   000002CC   ....               LDI     R31, (??ptop) >> 8
   \   000002CE   8104               LDD     R16, Z+4
   \   000002D0   3001               CPI     R16, 1
   \   000002D2   F4A1               BRNE    ??scs_pnl_advance_master_16
   1291          		{
   1292          			if((g_asc_reception_buffer[6] == 0x09) && (g_asc_reception_buffer[7] == 0x21))
   \   000002D4   9100....           LDS     R16, (g_asc_reception_buffer + 6)
   \   000002D8   3009               CPI     R16, 9
   \   000002DA   F481               BRNE    ??scs_pnl_advance_master_16
   \   000002DC   9100....           LDS     R16, (g_asc_reception_buffer + 7)
   \   000002E0   3201               CPI     R16, 33
   \   000002E2   F461               BRNE    ??scs_pnl_advance_master_16
   1293          			{
   1294          				conf_3s = 0;
   \   000002E4   E000               LDI     R16, 0
   \   000002E6   8304               STD     Z+4, R16
   \   000002E8   9100....           LDS     R16, (g_asc_reception_buffer + 1)
   \   000002EC   9300....           STS     (KO_conf + 5), R16
   1295          				KO_conf.Reference = g_asc_reception_buffer[1];
   1296          				ee_KO_conf.Reference = KO_conf.Reference;
   \   000002F0   9100....           LDS     R16, (KO_conf + 5)
   \   000002F4   ....               LDI     R20, LOW((ee_KO_conf + 5))
   \   000002F6   ....               LDI     R21, HIGH((ee_KO_conf + 5))
   \   000002F8   ........           CALL    __eeput8_16
   1297          			}
   1298          		}
   1299          
   1300          		if(Time_delay.timer_flex.time_out == 1)
   \                     ??scs_pnl_advance_master_16:
   \   000002FC   9100....           LDS     R16, (Time_delay + 157)
   \   00000300   3001               CPI     R16, 1
   \   00000302   F429               BRNE    ??scs_pnl_advance_master_15
   1301          		{
   1302          			state.main_state = PNL_AD_CONFED_STEP7;
   \   00000304   E00D               LDI     R16, 13
   \   00000306   9300....           STS     (state + 2), R16
   \   0000030A   9320....           STS     (state + 3), R18
   1303          		}
   1304          	}
   1305          
   1306          	if( state.main_state == PNL_AD_CONFED_STEP7)
   \                     ??scs_pnl_advance_master_15:
   \   0000030E   9100....           LDS     R16, (state + 2)
   \   00000312   9110....           LDS     R17, (state + 3)
   \   00000316   300D               CPI     R16, 13
   \   00000318   0712               CPC     R17, R18
   \   0000031A   F581               BRNE    ??scs_pnl_advance_master_17
   \   0000031C   9100....           LDS     R16, (KO_conf + 5)
   \   00000320   2300               TST     R16
   \   00000322   F031               BREQ    ??scs_pnl_advance_master_18
   1307          	{
   1308          		if(KO_conf.Reference != 0)
   1309          				send_group_pnl_frame(SET,KO_conf.Reference,REF_TRANS);
   \   00000324   E323               LDI     R18, 51
   \   00000326   9110....           LDS     R17, (KO_conf + 5)
   \   0000032A   E302               LDI     R16, 50
   \   0000032C   ........           CALL    send_group_pnl_frame
   1310          		
   1311          		strncpy(buffer_tx,"D20001428C22094F",17);
   \                     ??scs_pnl_advance_master_18:
   \   00000330   E141               LDI     R20, 17
   \   00000332   E050               LDI     R21, 0
   \   00000334   ....               LDI     R18, LOW((`?<Constant "B0009900">` + 44))
   \   00000336   ....               LDI     R19, HIGH((`?<Constant "B0009900">` + 44))
   \   00000338   018E               MOVW    R17:R16, R29:R28
   \   0000033A   5F0D               SUBI    R16, 253
   \   0000033C   4F1F               SBCI    R17, 255
   \   0000033E   ........           CALL    strncpy
   1312          		CharToStr(KO_conf.GR,buffer);
   \   00000342   019E               MOVW    R19:R18, R29:R28
   \   00000344   9100....           LDS     R16, (KO_conf + 6)
   \   00000348   ........           CALL    CharToStr
   1313          		buffer_tx[10] = buffer[0];
   \   0000034C   8108               LD      R16, Y
   \   0000034E   870D               STD     Y+13, R16
   1314          		buffer_tx[11] = buffer[1];
   \   00000350   8109               LDD     R16, Y+1
   \   00000352   870E               STD     Y+14, R16
   1315          		send_frame_pp_ext_broad(buffer_tx,TRANS_DELAY);
   \   00000354   E322               LDI     R18, 50
   \   00000356   E030               LDI     R19, 0
   \   00000358   018E               MOVW    R17:R16, R29:R28
   \   0000035A   5F0D               SUBI    R16, 253
   \   0000035C   4F1F               SBCI    R17, 255
   \   0000035E   ........           CALL    send_frame_pp_ext_broad
   1316          
   1317          		send_frame_pp_broad("B000990F",TRANS_DELAY);
   \   00000362   E322               LDI     R18, 50
   \   00000364   E030               LDI     R19, 0
   \   00000366   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 35))
   \   00000368   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 35))
   \   0000036A   ........           CALL    send_frame_pp_broad
   1318          
   1319          		led_blinking_disable(0);
   \   0000036E   E000               LDI     R16, 0
   \   00000370   ....               RCALL   led_blinking_disable
   1320          		state.main_state = STATE_NORMAL;
   \   00000372   E000               LDI     R16, 0
   \   00000374   9300....           STS     (state + 2), R16
   \   00000378   9300....           STS     (state + 3), R16
   1321          	}
   1322          
   1323          	if( state.main_state == PNL_AD_CONFED_STEP8 )
   \                     ??scs_pnl_advance_master_17:
   \   0000037C   9100....           LDS     R16, (state + 2)
   \   00000380   9110....           LDS     R17, (state + 3)
   \   00000384   300E               CPI     R16, 14
   \   00000386   E920               LDI     R18, 144
   \   00000388   0712               CPC     R17, R18
   \   0000038A   F5C9               BRNE    ??scs_pnl_advance_master_19
   1324          	{
   1325          		/////////////////////////////////////////////////
   1326          		///      for solve GR==0         ////////////////
   1327          		if( key_result.short_pressed )
   \   0000038C   9100....           LDS     R16, key_result
   \   00000390   2300               TST     R16
   \   00000392   F029               BREQ    ??scs_pnl_advance_master_20
   1328          		{
   1329          			state.main_state = PNL_AD_CONFED_STEP90;
   \   00000394   E101               LDI     R16, 17
   \   00000396   9300....           STS     (state + 2), R16
   \   0000039A   9320....           STS     (state + 3), R18
   1330          		}
   1331          		/////////////////////////////////////////////////
   1332          		if( (g_asc_short_buffer[0] == 0xB8) && (g_asc_short_buffer[2] == 0x12))
   \                     ??scs_pnl_advance_master_20:
   \   0000039E   9100....           LDS     R16, g_asc_short_buffer
   \   000003A2   3B08               CPI     R16, 184
   \   000003A4   F499               BRNE    ??scs_pnl_advance_master_21
   \   000003A6   9100....           LDS     R16, (g_asc_short_buffer + 2)
   \   000003AA   3102               CPI     R16, 18
   \   000003AC   F479               BRNE    ??scs_pnl_advance_master_21
   1333          		{
   1334          			ptop.A = g_short_buffer[2];
   \   000003AE   ....               LDI     R30, LOW(??ptop)
   \   000003B0   ....               LDI     R31, (??ptop) >> 8
   \   000003B2   9100....           LDS     R16, (g_short_buffer + 2)
   \   000003B6   8300               ST      Z, R16
   1335          			ptop.PL = g_short_buffer[3];
   \   000003B8   9100....           LDS     R16, (g_short_buffer + 3)
   \   000003BC   8301               STD     Z+1, R16
   1336          			ptop.flag = 1;
   \   000003BE   E001               LDI     R16, 1
   \   000003C0   8302               STD     Z+2, R16
   1337          			state.main_state = PNL_AD_CONFED_STEP81;			//ptop step 3
   \   000003C2   E00F               LDI     R16, 15
   \   000003C4   9300....           STS     (state + 2), R16
   \   000003C8   9320....           STS     (state + 3), R18
   1338          		}
   1339          		if((g_asc_reception_buffer[6] == 0x09) && (g_asc_reception_buffer[7] == 0x41))
   \                     ??scs_pnl_advance_master_21:
   \   000003CC   9100....           LDS     R16, (g_asc_reception_buffer + 6)
   \   000003D0   3009               CPI     R16, 9
   \   000003D2   F481               BRNE    ??scs_pnl_advance_master_22
   \   000003D4   9100....           LDS     R16, (g_asc_reception_buffer + 7)
   \   000003D8   3401               CPI     R16, 65
   \   000003DA   F461               BRNE    ??scs_pnl_advance_master_22
   1340          		{
   1341          			send_frame_pp_ext_broad("D20001428C000945",TRANS_DELAY);
   \   000003DC   E322               LDI     R18, 50
   \   000003DE   E030               LDI     R19, 0
   \   000003E0   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 61))
   \   000003E2   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 61))
   \   000003E4   ........           CALL    send_frame_pp_ext_broad
   1342          			state.main_state = PNL_AD_CONFED_STEP9;
   \   000003E8   E100               LDI     R16, 16
   \   000003EA   E910               LDI     R17, 144
   \   000003EC   9300....           STS     (state + 2), R16
   \   000003F0   9310....           STS     (state + 3), R17
   1343          		}
   1344          
   1345          		//add timeout
   1346          		if(Time_delay.timer_flex.time_out == 1)
   \                     ??scs_pnl_advance_master_22:
   \   000003F4   9100....           LDS     R16, (Time_delay + 157)
   \   000003F8   3001               CPI     R16, 1
   \   000003FA   F409               BRNE    $+2+2
   \   000003FC   CE3B               RJMP    ??scs_pnl_advance_master_3
   1347          		{
   1348          			led_blinking_disable(0);
   1349          			state.main_state = STATE_NORMAL;
   1350          			return 0;
   1351          		}
   1352          	}
   1353          
   1354          	if( state.main_state == PNL_AD_CONFED_STEP81 )
   \                     ??scs_pnl_advance_master_19:
   \   000003FE   9100....           LDS     R16, (state + 2)
   \   00000402   9110....           LDS     R17, (state + 3)
   \   00000406   300F               CPI     R16, 15
   \   00000408   E920               LDI     R18, 144
   \   0000040A   0712               CPC     R17, R18
   \   0000040C   F009               BREQ    $+2+2
   \   0000040E   C07C               RJMP    ??scs_pnl_advance_master_23
   \   00000410   9100....           LDS     R16, (key_result + 1)
   \   00000414   3001               CPI     R16, 1
   \   00000416   F539               BRNE    ??scs_pnl_advance_master_24
   1355          	{
   1356          		if( key_result.long_pressed == 1 )
   1357          		{
   1358          			key_result.long_pressed = 0;
   \   00000418   E000               LDI     R16, 0
   \   0000041A   9300....           STS     (key_result + 1), R16
   \   0000041E   ....               LDI     R16, LOW(??ptop)
   \   00000420   ....               LDI     R17, (??ptop) >> 8
   1359          
   1360          			KO_conf.Reference = StrToChar(&ptop.A);
   \   00000422   ........           CALL    StrToChar
   \   00000426   9300....           STS     (KO_conf + 5), R16
   1361          			ee_KO_conf.Reference = KO_conf.Reference;
   \   0000042A   9100....           LDS     R16, (KO_conf + 5)
   \   0000042E   ....               LDI     R20, LOW((ee_KO_conf + 5))
   \   00000430   ....               LDI     R21, HIGH((ee_KO_conf + 5))
   \   00000432   ........           CALL    __eeput8_16
   1362          			
   1363          			strncpy(buffer_tx,"D20001428C00094F",17);
   \   00000436   E141               LDI     R20, 17
   \   00000438   E050               LDI     R21, 0
   \   0000043A   ....               LDI     R18, LOW((`?<Constant "B0009900">` + 78))
   \   0000043C   ....               LDI     R19, HIGH((`?<Constant "B0009900">` + 78))
   \   0000043E   018E               MOVW    R17:R16, R29:R28
   \   00000440   5F0D               SUBI    R16, 253
   \   00000442   4F1F               SBCI    R17, 255
   \   00000444   ........           CALL    strncpy
   1364          			send_frame_pp_ext_broad(buffer_tx,TRANS_DELAY);
   \   00000448   E322               LDI     R18, 50
   \   0000044A   E030               LDI     R19, 0
   \   0000044C   018E               MOVW    R17:R16, R29:R28
   \   0000044E   5F0D               SUBI    R16, 253
   \   00000450   4F1F               SBCI    R17, 255
   \   00000452   ........           CALL    send_frame_pp_ext_broad
   1365          			led_blinking_disable(0);
   \   00000456   E000               LDI     R16, 0
   \   00000458   ....               RCALL   led_blinking_disable
   1366          			state.main_state = STATE_NORMAL;
   \   0000045A   E000               LDI     R16, 0
   \   0000045C   9300....           STS     (state + 2), R16
   \   00000460   9300....           STS     (state + 3), R16
   \   00000464   C018               RJMP    ??scs_pnl_advance_master_25
   1367          		}
   1368          		else if((g_asc_reception_buffer[6] == 0x09) && (g_asc_reception_buffer[7] == 0x21))
   \                     ??scs_pnl_advance_master_24:
   \   00000466   9100....           LDS     R16, (g_asc_reception_buffer + 6)
   \   0000046A   3009               CPI     R16, 9
   \   0000046C   F4A1               BRNE    ??scs_pnl_advance_master_25
   \   0000046E   9100....           LDS     R16, (g_asc_reception_buffer + 7)
   \   00000472   3201               CPI     R16, 33
   \   00000474   F481               BRNE    ??scs_pnl_advance_master_25
   \   00000476   9100....           LDS     R16, (g_asc_reception_buffer + 1)
   \   0000047A   9300....           STS     (KO_conf + 2), R16
   1369          		{
   1370          			//StrToChar();
   1371          			KO_conf.DesAdd = g_asc_reception_buffer[1];
   1372          			ee_KO_conf.DesAdd = KO_conf.DesAdd;
   \   0000047E   9100....           LDS     R16, (KO_conf + 2)
   \   00000482   ....               LDI     R20, LOW((ee_KO_conf + 2))
   \   00000484   ....               LDI     R21, HIGH((ee_KO_conf + 2))
   \   00000486   ........           CALL    __eeput8_16
   1373          			send_frame_pp_ext_broad("D20001428C000945",TRANS_DELAY);
   \   0000048A   E322               LDI     R18, 50
   \   0000048C   E030               LDI     R19, 0
   \   0000048E   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 61))
   \   00000490   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 61))
   \   00000492   ........           CALL    send_frame_pp_ext_broad
   1374          		}
   1375          
   1376          		if((g_asc_reception_buffer[6] == 0x09) && (g_asc_reception_buffer[7] == 0x06))
   \                     ??scs_pnl_advance_master_25:
   \   00000496   9100....           LDS     R16, (g_asc_reception_buffer + 6)
   \   0000049A   3009               CPI     R16, 9
   \   0000049C   F581               BRNE    ??scs_pnl_advance_master_26
   \   0000049E   9100....           LDS     R16, (g_asc_reception_buffer + 7)
   \   000004A2   3006               CPI     R16, 6
   \   000004A4   F561               BRNE    ??scs_pnl_advance_master_26
   \   000004A6   9100....           LDS     R16, (g_asc_reception_buffer + 1)
   \   000004AA   9300....           STS     (KO_conf + 2), R16
   \   000004AE   9100....           LDS     R16, (KO_conf + 2)
   \   000004B2   ....               LDI     R20, LOW((ee_KO_conf + 2))
   \   000004B4   ....               LDI     R21, HIGH((ee_KO_conf + 2))
   \   000004B6   ........           CALL    __eeput8_16
   1377          		{
   1378          			//StrToChar();
   1379          			KO_conf.DesAdd = g_asc_reception_buffer[1];
   1380          			ee_KO_conf.DesAdd = KO_conf.DesAdd;
   1381          
   1382          			KO_conf.GR = g_asc_reception_buffer[5];
   \   000004BA   9100....           LDS     R16, (g_asc_reception_buffer + 5)
   \   000004BE   9300....           STS     (KO_conf + 6), R16
   1383          			ee_KO_conf.GR = KO_conf.GR;
   \   000004C2   9100....           LDS     R16, (KO_conf + 6)
   \   000004C6   ....               LDI     R20, LOW((ee_KO_conf + 6))
   \   000004C8   ....               LDI     R21, HIGH((ee_KO_conf + 6))
   \   000004CA   ........           CALL    __eeput8_16
   1384          			
   1385          			CharToStr(KO_conf.GR,buffer);
   \   000004CE   019E               MOVW    R19:R18, R29:R28
   \   000004D0   9100....           LDS     R16, (KO_conf + 6)
   \   000004D4   ........           CALL    CharToStr
   1386          			buffer_tx[10] = buffer[0];
   \   000004D8   8108               LD      R16, Y
   \   000004DA   870D               STD     Y+13, R16
   1387          			buffer_tx[11] = buffer[1];
   \   000004DC   8109               LDD     R16, Y+1
   \   000004DE   870E               STD     Y+14, R16
   1388          			strncpy(buffer_tx,"D20001428C000940",17);
   \   000004E0   E141               LDI     R20, 17
   \   000004E2   E050               LDI     R21, 0
   \   000004E4   ....               LDI     R18, LOW((`?<Constant "B0009900">` + 9))
   \   000004E6   ....               LDI     R19, HIGH((`?<Constant "B0009900">` + 9))
   \   000004E8   018E               MOVW    R17:R16, R29:R28
   \   000004EA   5F0D               SUBI    R16, 253
   \   000004EC   4F1F               SBCI    R17, 255
   \   000004EE   ........           CALL    strncpy
   1389          			
   1390          			state.main_state = PNL_AD_CONFED_STEP2;
   \   000004F2   E008               LDI     R16, 8
   \   000004F4   E910               LDI     R17, 144
   \   000004F6   9300....           STS     (state + 2), R16
   \   000004FA   9310....           STS     (state + 3), R17
   1391          		}
   1392          
   1393          		//add timeout
   1394          		if(Time_delay.timer_flex.time_out == 1)
   \                     ??scs_pnl_advance_master_26:
   \   000004FE   9100....           LDS     R16, (Time_delay + 157)
   \   00000502   3001               CPI     R16, 1
   \   00000504   F409               BRNE    $+2+2
   \   00000506   CDB6               RJMP    ??scs_pnl_advance_master_3
   1395          		{
   1396          			led_blinking_disable(0);
   1397          			state.main_state = STATE_NORMAL;
   1398          			return 0;
   1399          		}
   1400          	}
   1401          
   1402          	if( state.main_state == PNL_AD_CONFED_STEP9 )
   \                     ??scs_pnl_advance_master_23:
   \   00000508   9100....           LDS     R16, (state + 2)
   \   0000050C   9110....           LDS     R17, (state + 3)
   \   00000510   3100               CPI     R16, 16
   \   00000512   E920               LDI     R18, 144
   \   00000514   0712               CPC     R17, R18
   \   00000516   F5B1               BRNE    ??scs_pnl_advance_master_27
   1403          	{
   1404          		if( (g_asc_reception_buffer[6] == 0x09) && (g_asc_reception_buffer[7] == 0x06))
   \   00000518   9100....           LDS     R16, (g_asc_reception_buffer + 6)
   \   0000051C   3009               CPI     R16, 9
   \   0000051E   F569               BRNE    ??scs_pnl_advance_master_28
   \   00000520   9100....           LDS     R16, (g_asc_reception_buffer + 7)
   \   00000524   3006               CPI     R16, 6
   \   00000526   F549               BRNE    ??scs_pnl_advance_master_28
   \   00000528   9100....           LDS     R16, (g_asc_reception_buffer + 5)
   \   0000052C   9300....           STS     (KO_conf + 6), R16
   1405          		{
   1406          			KO_conf.GR = g_asc_reception_buffer[5];
   1407          			ee_KO_conf.GR = KO_conf.GR;
   \   00000530   9100....           LDS     R16, (KO_conf + 6)
   \   00000534   ....               LDI     R20, LOW((ee_KO_conf + 6))
   \   00000536   ....               LDI     R21, HIGH((ee_KO_conf + 6))
   \   00000538   ........           CALL    __eeput8_16
   1408          			strncpy(buffer_tx,"D20001428C000940",17);
   \   0000053C   E141               LDI     R20, 17
   \   0000053E   E050               LDI     R21, 0
   \   00000540   ....               LDI     R18, LOW((`?<Constant "B0009900">` + 9))
   \   00000542   ....               LDI     R19, HIGH((`?<Constant "B0009900">` + 9))
   \   00000544   018E               MOVW    R17:R16, R29:R28
   \   00000546   5F0D               SUBI    R16, 253
   \   00000548   4F1F               SBCI    R17, 255
   \   0000054A   ........           CALL    strncpy
   1409          			CharToStr(KO_conf.GR,buffer);
   \   0000054E   019E               MOVW    R19:R18, R29:R28
   \   00000550   9100....           LDS     R16, (KO_conf + 6)
   \   00000554   ........           CALL    CharToStr
   1410          			buffer_tx[10] = buffer[0];
   \   00000558   8108               LD      R16, Y
   \   0000055A   870D               STD     Y+13, R16
   1411          			buffer_tx[11] = buffer[1];
   \   0000055C   8109               LDD     R16, Y+1
   \   0000055E   870E               STD     Y+14, R16
   1412          			send_frame_pp_ext_broad(buffer_tx,TRANS_DELAY);
   \   00000560   E322               LDI     R18, 50
   \   00000562   E030               LDI     R19, 0
   \   00000564   018E               MOVW    R17:R16, R29:R28
   \   00000566   5F0D               SUBI    R16, 253
   \   00000568   4F1F               SBCI    R17, 255
   \   0000056A   ........           CALL    send_frame_pp_ext_broad
   1413          			state.main_state = PNL_AD_CONFED_STEP90;
   \   0000056E   E101               LDI     R16, 17
   \   00000570   E910               LDI     R17, 144
   \   00000572   9300....           STS     (state + 2), R16
   \   00000576   9310....           STS     (state + 3), R17
   1414          		}
   1415          
   1416          		//add timeout
   1417          		if(Time_delay.timer_flex.time_out == 1)
   \                     ??scs_pnl_advance_master_28:
   \   0000057A   9100....           LDS     R16, (Time_delay + 157)
   \   0000057E   3001               CPI     R16, 1
   \   00000580   F409               BRNE    $+2+2
   \   00000582   CD78               RJMP    ??scs_pnl_advance_master_3
   1418          		{
   1419          			led_blinking_disable(0);
   1420          			state.main_state = STATE_NORMAL;
   1421          			return 0;
   1422          		}
   1423          	}
   1424          
   1425          	if( state.main_state == PNL_AD_CONFED_STEP90 )
   \                     ??scs_pnl_advance_master_27:
   \   00000584   9100....           LDS     R16, (state + 2)
   \   00000588   9110....           LDS     R17, (state + 3)
   \   0000058C   3101               CPI     R16, 17
   \   0000058E   E920               LDI     R18, 144
   \   00000590   0712               CPC     R17, R18
   \   00000592   F471               BRNE    ??scs_pnl_advance_master_29
   \   00000594   9100....           LDS     R16, key_result
   \   00000598   3001               CPI     R16, 1
   \   0000059A   F429               BRNE    ??scs_pnl_advance_master_30
   1426          	{
   1427          		if( key_result.short_pressed == 1 )
   1428          		{
   1429          			key_result.short_pressed = 0;
   \   0000059C   E000               LDI     R16, 0
   \   0000059E   9300....           STS     key_result, R16
   1430          			PnL_ad_end();
   \   000005A2   ........           CALL    PnL_ad_end
   1431          		}
   1432          
   1433          		//add timeout
   1434          		if(Time_delay.timer_flex.time_out == 1)
   \                     ??scs_pnl_advance_master_30:
   \   000005A6   9100....           LDS     R16, (Time_delay + 157)
   \   000005AA   3001               CPI     R16, 1
   \   000005AC   F409               BRNE    $+2+2
   \   000005AE   CD62               RJMP    ??scs_pnl_advance_master_3
   1435          		{
   1436          			led_blinking_disable(0);
   1437          			state.main_state = STATE_NORMAL;
   1438          			return 0;
   1439          		}
   1440          	}
   1441            return 0;
   \                     ??scs_pnl_advance_master_29:
   \   000005B0   E000               LDI     R16, 0
   \                     ??scs_pnl_advance_master_4:
   \   000005B2   9664               ADIW    R29:R28, 20
   \   000005B4   9508               RET
   1442          }

   \                                 In  segment NEAR_Z, align 1, keep-with-next
   \   00000000                      REQUIRE `?<Segment init: NEAR_Z>`
   \                     ??ptop:
   \   00000000                      DS8 4
   \   00000004                      DS8 1
   1443          

   \                                 In  segment CODE, align 2, keep-with-next
   1444          void scs_pnl_none_confed_master(void)
   \                     scs_pnl_none_confed_master:
   1445          {
   1446          	if(state.main_state == STATE_NORMAL)
   \   00000000   9100....           LDS     R16, (state + 2)
   \   00000004   9110....           LDS     R17, (state + 3)
   \   00000008   2B01               OR      R16, R17
   \   0000000A   F4D9               BRNE    ??scs_pnl_none_confed_master_0
   \   0000000C   9100....           LDS     R16, key_result
   \   00000010   3001               CPI     R16, 1
   \   00000012   F4B9               BRNE    ??scs_pnl_none_confed_master_0
   1447          	{
   1448          		if(key_result.short_pressed == 1)
   1449          		{
   1450          			key_result.short_pressed = 0;
   \   00000014   E000               LDI     R16, 0
   \   00000016   9300....           STS     key_result, R16
   1451          			state.main_state = PNL_NONE_CONFED_STEP1;
   \   0000001A   E001               LDI     R16, 1
   \   0000001C   E910               LDI     R17, 144
   \   0000001E   9300....           STS     (state + 2), R16
   \   00000022   9310....           STS     (state + 3), R17
   1452          			led_blinking(1000,1000);
   \   00000026   EE48               LDI     R20, 232
   \   00000028   E053               LDI     R21, 3
   \   0000002A   E060               LDI     R22, 0
   \   0000002C   E070               LDI     R23, 0
   \   0000002E   EE08               LDI     R16, 232
   \   00000030   E013               LDI     R17, 3
   \   00000032   E020               LDI     R18, 0
   \   00000034   E030               LDI     R19, 0
   \   00000036   ....               RCALL   led_blinking
   1453          			timer_flex_initial(60000);
   \   00000038   E600               LDI     R16, 96
   \   0000003A   EE1A               LDI     R17, 234
   \   0000003C   E020               LDI     R18, 0
   \   0000003E   E030               LDI     R19, 0
   \   00000040   ....               RCALL   timer_flex_initial
   1454          		}
   1455          	}
   1456          
   1457          	if(state.main_state == PNL_NONE_CONFED_STEP1)
   \                     ??scs_pnl_none_confed_master_0:
   \   00000042   9100....           LDS     R16, (state + 2)
   \   00000046   9110....           LDS     R17, (state + 3)
   \   0000004A   3001               CPI     R16, 1
   \   0000004C   E920               LDI     R18, 144
   \   0000004E   0712               CPC     R17, R18
   \   00000050   F009               BREQ    $+2+2
   \   00000052   C046               RJMP    ??scs_pnl_none_confed_master_1
   1458          	{
   1459          		if(Time_delay.timer_flex.time_out == 1)
   \   00000054   9100....           LDS     R16, (Time_delay + 157)
   \   00000058   3001               CPI     R16, 1
   \   0000005A   F441               BRNE    ??scs_pnl_none_confed_master_2
   1460          		{
   1461          			LLED_OFF;
   \   0000005C   9A5E               SBI     0x0B, 0x06
   1462          			led_blinking_disable(0);
   \   0000005E   E000               LDI     R16, 0
   \   00000060   ....               RCALL   led_blinking_disable
   1463          			state.main_state = STATE_NORMAL;
   \   00000062   E000               LDI     R16, 0
   \   00000064   9300....           STS     (state + 2), R16
   \   00000068   9300....           STS     (state + 3), R16
   \                     ??scs_pnl_none_confed_master_2:
   \   0000006C   9100....           LDS     R16, key_result
   \   00000070   3001               CPI     R16, 1
   \   00000072   F4E9               BRNE    ??scs_pnl_none_confed_master_3
   1464          		}
   1465          		
   1466          		if( key_result.short_pressed == 1 )
   1467          		{
   1468          			key_result.short_pressed = 0;
   \   00000074   E000               LDI     R16, 0
   \   00000076   9300....           STS     key_result, R16
   1469          			state.main_state = PNL_NONE_CONFED_STEP2;
   \   0000007A   E002               LDI     R16, 2
   \   0000007C   E910               LDI     R17, 144
   \   0000007E   9300....           STS     (state + 2), R16
   \   00000082   9310....           STS     (state + 3), R17
   1470          			frame_send_disable_automatic_control();
   \   00000086   ........           CALL    frame_send_disable_automatic_control
   1471          			frame_send_start_pnl_none_group_confed();
   \   0000008A   ........           CALL    frame_send_start_pnl_none_group_confed
   1472          			led_blinking(250,250);
   \   0000008E   EF4A               LDI     R20, 250
   \   00000090   E050               LDI     R21, 0
   \   00000092   E060               LDI     R22, 0
   \   00000094   E070               LDI     R23, 0
   \   00000096   EF0A               LDI     R16, 250
   \   00000098   E010               LDI     R17, 0
   \   0000009A   E020               LDI     R18, 0
   \   0000009C   E030               LDI     R19, 0
   \   0000009E   ....               RCALL   led_blinking
   1473          			//timer_flex_initial(600000);
   1474          			led_blinking_stage2_initial(600000);
   \   000000A0   EC00               LDI     R16, 192
   \   000000A2   E217               LDI     R17, 39
   \   000000A4   E029               LDI     R18, 9
   \   000000A6   E030               LDI     R19, 0
   \   000000A8   ........           CALL    led_blinking_stage2_initial
   \   000000AC   C019               RJMP    ??scs_pnl_none_confed_master_1
   1475          		}
   1476              else if(Time_delay.LPB.count > 10000)	
   \                     ??scs_pnl_none_confed_master_3:
   \   000000AE   ....               LDI     R30, LOW((Time_delay + 116))
   \   000000B0   ....               LDI     R31, HIGH((Time_delay + 116))
   \   000000B2   8100               LD      R16, Z
   \   000000B4   8111               LDD     R17, Z+1
   \   000000B6   8122               LDD     R18, Z+2
   \   000000B8   8133               LDD     R19, Z+3
   \   000000BA   3101               CPI     R16, 17
   \   000000BC   E247               LDI     R20, 39
   \   000000BE   0714               CPC     R17, R20
   \   000000C0   E040               LDI     R20, 0
   \   000000C2   0724               CPC     R18, R20
   \   000000C4   0734               CPC     R19, R20
   \   000000C6   F060               BRCS    ??scs_pnl_none_confed_master_1
   1477              {
   1478                factory_default();
   \   000000C8   ....               RCALL   factory_default
   1479                ee_flags.manual_initialize = 1;
   \   000000CA   ....               LDI     R20, LOW(ee_flags)
   \   000000CC   ....               LDI     R21, (ee_flags) >> 8
   \   000000CE   ........           CALL    __eeget16_16
   \   000000D2   6001               ORI     R16, 0x01
   \   000000D4   ....               LDI     R20, LOW(ee_flags)
   \   000000D6   ....               LDI     R21, (ee_flags) >> 8
   \   000000D8   ........           CALL    __eeput16_16
   1480          			system_reset();
   \   000000DC   ........           CALL    system_reset
   1481              }
   1482          	}
   1483          
   1484          	if(state.main_state == PNL_NONE_CONFED_STEP2)
   \                     ??scs_pnl_none_confed_master_1:
   \   000000E0   9100....           LDS     R16, (state + 2)
   \   000000E4   9110....           LDS     R17, (state + 3)
   \   000000E8   3002               CPI     R16, 2
   \   000000EA   E920               LDI     R18, 144
   \   000000EC   0712               CPC     R17, R18
   \   000000EE   F009               BREQ    $+2+2
   \   000000F0   C0D8               RJMP    ??scs_pnl_none_confed_master_4
   1485          	{
   1486          		if(Time_delay.pnl_stage2.time_out == 1)
   \   000000F2   9100....           LDS     R16, (Time_delay + 201)
   \   000000F6   3001               CPI     R16, 1
   \   000000F8   F429               BRNE    ??scs_pnl_none_confed_master_5
   1487          		{
   1488          			state.main_state = PNL_NONE_CONFED_STEP4;
   \   000000FA   E004               LDI     R16, 4
   \   000000FC   9300....           STS     (state + 2), R16
   \   00000100   9320....           STS     (state + 3), R18
   1489          		}
   1490          		
   1491              if(g_asc_short_buffer[0] == 0xB8 && g_asc_short_buffer[2] == 0x12)
   \                     ??scs_pnl_none_confed_master_5:
   \   00000104   ....               LDI     R30, LOW(g_asc_short_buffer)
   \   00000106   ....               LDI     R31, (g_asc_short_buffer) >> 8
   \   00000108   8100               LD      R16, Z
   \   0000010A   3B08               CPI     R16, 184
   \   0000010C   F469               BRNE    ??scs_pnl_none_confed_master_6
   \   0000010E   8102               LDD     R16, Z+2
   \   00000110   3102               CPI     R16, 18
   \   00000112   F451               BRNE    ??scs_pnl_none_confed_master_6
   1492              {
   1493          			//KO_conf.DesAdd = g_asc_short_buffer[1];
   1494          			//ee_KO_conf.DesAdd = g_asc_short_buffer[1];
   1495          			temp_variable.DesAdd = g_asc_short_buffer[1];
   \   00000114   8101               LDD     R16, Z+1
   \   00000116   9300....           STS     (temp_variable + 19), R16
   1496          			flags.pp_link = 1;
   \   0000011A   ....               LDI     R30, LOW(flags)
   \   0000011C   ....               LDI     R31, (flags) >> 8
   \   0000011E   8102               LDD     R16, Z+2
   \   00000120   8113               LDD     R17, Z+3
   \   00000122   6014               ORI     R17, 0x04
   \   00000124   8313               STD     Z+3, R17
   \   00000126   8302               STD     Z+2, R16
   \                     ??scs_pnl_none_confed_master_6:
   \   00000128   9100....           LDS     R16, key_result
   \   0000012C   3001               CPI     R16, 1
   \   0000012E   F579               BRNE    ??scs_pnl_none_confed_master_7
   1497          			//product_information.conf_type = ADVANCED;
   1498          			//ee_product_information.conf_type = ADVANCED;
   1499              }
   1500          
   1501          		if( key_result.short_pressed == 1 )
   1502          		{
   1503          			key_result.short_pressed = 0;
   \   00000130   E000               LDI     R16, 0
   \   00000132   9300....           STS     key_result, R16
   1504          			if(flags.pp_link)
   \   00000136   ....               LDI     R30, LOW(flags)
   \   00000138   ....               LDI     R31, (flags) >> 8
   \   0000013A   8102               LDD     R16, Z+2
   \   0000013C   8113               LDD     R17, Z+3
   \   0000013E   2F01               MOV     R16, R17
   \   00000140   FF02               SBRS    R16, 2
   \   00000142   C01F               RJMP    ??scs_pnl_none_confed_master_8
   1505          			{
   1506          				flags.pp_link = 0;
   \   00000144   8102               LDD     R16, Z+2
   \   00000146   8113               LDD     R17, Z+3
   \   00000148   7F1B               ANDI    R17, 0xFB
   \   0000014A   8313               STD     Z+3, R17
   \   0000014C   8302               STD     Z+2, R16
   1507          				load_default_advance_parameter();
   \   0000014E   ........           CALL    load_default_advance_parameter
   \   00000152   9100....           LDS     R16, (temp_variable + 19)
   \   00000156   9300....           STS     (KO_conf + 2), R16
   \   0000015A   9100....           LDS     R16, (temp_variable + 19)
   \   0000015E   ....               LDI     R20, LOW((ee_KO_conf + 2))
   \   00000160   ....               LDI     R21, HIGH((ee_KO_conf + 2))
   \   00000162   ........           CALL    __eeput8_16
   1508          				KO_conf.DesAdd = temp_variable.DesAdd;
   1509          				ee_KO_conf.DesAdd = temp_variable.DesAdd;
   1510          				product_information.conf_type = ADVANCED;
   \   00000166   E002               LDI     R16, 2
   \   00000168   9300....           STS     product_information, R16
   1511          				ee_product_information.conf_type = ADVANCED;
   \   0000016C   ....               LDI     R20, LOW(ee_product_information)
   \   0000016E   ....               LDI     R21, (ee_product_information) >> 8
   \   00000170   ........           CALL    __eeput8_16
   1512          				KO_conf.AddressType = PP;
   \   00000174   E000               LDI     R16, 0
   \   00000176   9300....           STS     (KO_conf + 1), R16
   1513          				ee_KO_conf.AddressType = PP;
   \   0000017A   ....               LDI     R20, LOW((ee_KO_conf + 1))
   \   0000017C   ....               LDI     R21, HIGH((ee_KO_conf + 1))
   \   0000017E   ........           CALL    __eeput8_16
   1514          			}
   1515          			state.main_state = PNL_NONE_CONFED_STEP4;
   \                     ??scs_pnl_none_confed_master_8:
   \   00000182   E004               LDI     R16, 4
   \   00000184   E910               LDI     R17, 144
   \   00000186   9300....           STS     (state + 2), R16
   \   0000018A   9310....           STS     (state + 3), R17
   \                     ??scs_pnl_none_confed_master_7:
   \   0000018E   9100....           LDS     R16, (g_asc_reception_buffer + 6)
   \   00000192   3009               CPI     R16, 9
   \   00000194   F4D9               BRNE    ??scs_pnl_none_confed_master_9
   \   00000196   9100....           LDS     R16, (g_asc_reception_buffer + 7)
   \   0000019A   3201               CPI     R16, 33
   \   0000019C   F4B9               BRNE    ??scs_pnl_none_confed_master_9
   1516          		}
   1517          		
   1518              if(g_asc_reception_buffer[6] == 0x09 && g_asc_reception_buffer[7] == 0x21)
   1519              {
   1520                KO_conf.Reference = g_asc_reception_buffer[1];
   \   0000019E   9100....           LDS     R16, (g_asc_reception_buffer + 1)
   \   000001A2   9300....           STS     (KO_conf + 5), R16
   1521          			ee_KO_conf.Reference = g_asc_reception_buffer[1];
   \   000001A6   9100....           LDS     R16, (g_asc_reception_buffer + 1)
   \   000001AA   ....               LDI     R20, LOW((ee_KO_conf + 5))
   \   000001AC   ....               LDI     R21, HIGH((ee_KO_conf + 5))
   \   000001AE   ........           CALL    __eeput8_16
   1522                frame_send_group_request();
   \   000001B2   ........           CALL    frame_send_group_request
   1523                timer_flex_initial(3000);
   \   000001B6   EB08               LDI     R16, 184
   \   000001B8   E01B               LDI     R17, 11
   \   000001BA   E020               LDI     R18, 0
   \   000001BC   E030               LDI     R19, 0
   \   000001BE   ....               RCALL   timer_flex_initial
   1524                state.main_state = PNL_NONE_CONFED_WAIT_FOR_GROUP_ASSIGN;
   \   000001C0   E003               LDI     R16, 3
   \   000001C2   E910               LDI     R17, 144
   \   000001C4   9300....           STS     (state + 2), R16
   \   000001C8   9310....           STS     (state + 3), R17
   1525              }
   1526          
   1527          		////////////////////////////////////////////////////////////////////////
   1528          		//////////////  for none confed group sensor   /////////////////////////
   1529          		if(g_asc_reception_buffer[6] == 0x09 && (g_asc_reception_buffer[7] == 0x06 || g_asc_reception_buffer[7] == 0xF6))
   \                     ??scs_pnl_none_confed_master_9:
   \   000001CC   9100....           LDS     R16, (g_asc_reception_buffer + 6)
   \   000001D0   3009               CPI     R16, 9
   \   000001D2   F569               BRNE    ??scs_pnl_none_confed_master_10
   \   000001D4   9100....           LDS     R16, (g_asc_reception_buffer + 7)
   \   000001D8   3006               CPI     R16, 6
   \   000001DA   F021               BREQ    ??scs_pnl_none_confed_master_11
   \   000001DC   9100....           LDS     R16, (g_asc_reception_buffer + 7)
   \   000001E0   3F06               CPI     R16, 246
   \   000001E2   F529               BRNE    ??scs_pnl_none_confed_master_10
   1530          		{
   1531          			load_default_advance_parameter();
   \                     ??scs_pnl_none_confed_master_11:
   \   000001E4   ........           CALL    load_default_advance_parameter
   \   000001E8   9100....           LDS     R16, (g_asc_reception_buffer + 5)
   \   000001EC   9300....           STS     (KO_conf + 6), R16
   \   000001F0   9100....           LDS     R16, (g_asc_reception_buffer + 5)
   \   000001F4   ....               LDI     R20, LOW((ee_KO_conf + 6))
   \   000001F6   ....               LDI     R21, HIGH((ee_KO_conf + 6))
   \   000001F8   ........           CALL    __eeput8_16
   1532          			KO_conf.GR = g_asc_reception_buffer[5];
   1533          			ee_KO_conf.GR = g_asc_reception_buffer[5];
   1534          			KO_conf.AddressType = GROUP;
   \   000001FC   E002               LDI     R16, 2
   \   000001FE   9300....           STS     (KO_conf + 1), R16
   1535          			ee_KO_conf.AddressType = GROUP;
   \   00000202   ....               LDI     R20, LOW((ee_KO_conf + 1))
   \   00000204   ....               LDI     R21, HIGH((ee_KO_conf + 1))
   \   00000206   ........           CALL    __eeput8_16
   1536          			product_information.conf_type = ADVANCED;
   \   0000020A   9300....           STS     product_information, R16
   1537                ee_product_information.conf_type = ADVANCED;
   \   0000020E   ....               LDI     R20, LOW(ee_product_information)
   \   00000210   ....               LDI     R21, (ee_product_information) >> 8
   \   00000212   ........           CALL    __eeput8_16
   1538          			send_group_pnl_frame(SET,KO_conf.GR,START_PNL);
   \   00000216   E320               LDI     R18, 48
   \   00000218   9110....           LDS     R17, (KO_conf + 6)
   \   0000021C   E302               LDI     R16, 50
   \   0000021E   ........           CALL    send_group_pnl_frame
   1539          			state.main_state = PNL_AD_CONFED_STEP2;
   \   00000222   E008               LDI     R16, 8
   \   00000224   E910               LDI     R17, 144
   \   00000226   9300....           STS     (state + 2), R16
   \   0000022A   9310....           STS     (state + 3), R17
   1540          		}
   1541          		
   1542          		if(Time_delay.LPB.count > 3000)				// group initial
   \                     ??scs_pnl_none_confed_master_10:
   \   0000022E   ....               LDI     R30, LOW((Time_delay + 116))
   \   00000230   ....               LDI     R31, HIGH((Time_delay + 116))
   \   00000232   8100               LD      R16, Z
   \   00000234   8111               LDD     R17, Z+1
   \   00000236   8122               LDD     R18, Z+2
   \   00000238   8133               LDD     R19, Z+3
   \   0000023A   3B09               CPI     R16, 185
   \   0000023C   E04B               LDI     R20, 11
   \   0000023E   0714               CPC     R17, R20
   \   00000240   E040               LDI     R20, 0
   \   00000242   0724               CPC     R18, R20
   \   00000244   0734               CPC     R19, R20
   \   00000246   F168               BRCS    ??scs_pnl_none_confed_master_4
   1543          		{
   1544          			key_result.short_pressed = 0;
   \   00000248   9340....           STS     key_result, R20
   1545          			key_result.long_pressed = 0;
   \   0000024C   9340....           STS     (key_result + 1), R20
   1546          			load_default_advance_parameter();
   \   00000250   ........           CALL    load_default_advance_parameter
   \   00000254   9100....           LDS     R16, (temp_variable + 19)
   \   00000258   9300....           STS     (KO_conf + 2), R16
   \   0000025C   9100....           LDS     R16, (temp_variable + 19)
   \   00000260   ....               LDI     R20, LOW((ee_KO_conf + 2))
   \   00000262   ....               LDI     R21, HIGH((ee_KO_conf + 2))
   \   00000264   ........           CALL    __eeput8_16
   1547          			KO_conf.DesAdd = temp_variable.DesAdd;
   1548          			ee_KO_conf.DesAdd = temp_variable.DesAdd;
   1549          			KO_conf.AddressType = PP;
   \   00000268   E000               LDI     R16, 0
   \   0000026A   9300....           STS     (KO_conf + 1), R16
   1550          			ee_KO_conf.AddressType = PP;
   \   0000026E   ....               LDI     R20, LOW((ee_KO_conf + 1))
   \   00000270   ....               LDI     R21, HIGH((ee_KO_conf + 1))
   \   00000272   ........           CALL    __eeput8_16
   1551          			product_information.conf_type = ADVANCED;
   \   00000276   E002               LDI     R16, 2
   \   00000278   9300....           STS     product_information, R16
   1552          			ee_product_information.conf_type = ADVANCED;
   \   0000027C   ....               LDI     R20, LOW(ee_product_information)
   \   0000027E   ....               LDI     R21, (ee_product_information) >> 8
   \   00000280   ........           CALL    __eeput8_16
   1553          			frame_send_end_pnl();
   \   00000284   ........           CALL    frame_send_end_pnl
   1554          			send_frame_pp_broad("B000990F",TRANS_DELAY);
   \   00000288   E322               LDI     R18, 50
   \   0000028A   E030               LDI     R19, 0
   \   0000028C   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 35))
   \   0000028E   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 35))
   \   00000290   ........           CALL    send_frame_pp_broad
   1555          			led_blinking_normal();
   \   00000294   ........           CALL    led_blinking_normal
   1556          			state.main_state = STATE_NORMAL;
   \   00000298   E000               LDI     R16, 0
   \   0000029A   9300....           STS     (state + 2), R16
   \   0000029E   9300....           STS     (state + 3), R16
   1557          		}
   1558          	}
   1559          
   1560            if(state.main_state == PNL_NONE_CONFED_WAIT_FOR_GROUP_ASSIGN)
   \                     ??scs_pnl_none_confed_master_4:
   \   000002A2   9100....           LDS     R16, (state + 2)
   \   000002A6   9110....           LDS     R17, (state + 3)
   \   000002AA   3003               CPI     R16, 3
   \   000002AC   E920               LDI     R18, 144
   \   000002AE   0712               CPC     R17, R18
   \   000002B0   F009               BREQ    $+2+2
   \   000002B2   C044               RJMP    ??scs_pnl_none_confed_master_12
   1561            {
   1562          		if(Time_delay.timer_flex2.time_out == 1)
   \   000002B4   9100....           LDS     R16, (Time_delay + 212)
   \   000002B8   3001               CPI     R16, 1
   \   000002BA   F429               BRNE    ??scs_pnl_none_confed_master_13
   1563          		{
   1564          			state.main_state = PNL_NONE_CONFED_STEP4;
   \   000002BC   E004               LDI     R16, 4
   \   000002BE   9300....           STS     (state + 2), R16
   \   000002C2   9320....           STS     (state + 3), R18
   1565          		}
   1566          		
   1567              if(Time_delay.timer_flex.time_out == 1)
   \                     ??scs_pnl_none_confed_master_13:
   \   000002C6   9100....           LDS     R16, (Time_delay + 157)
   \   000002CA   3001               CPI     R16, 1
   \   000002CC   F459               BRNE    ??scs_pnl_none_confed_master_14
   1568          		{
   1569                frame_send_enable_automatic_control();    //added by reyno
   \   000002CE   ........           CALL    frame_send_enable_automatic_control
   1570                frame_send_end_pnl(); //added by reyno
   \   000002D2   ........           CALL    frame_send_end_pnl
   1571          		  led_blinking_normal();
   \   000002D6   ........           CALL    led_blinking_normal
   1572          		  state.main_state = STATE_NORMAL;
   \   000002DA   E000               LDI     R16, 0
   \   000002DC   9300....           STS     (state + 2), R16
   \   000002E0   9300....           STS     (state + 3), R16
   1573          		}
   1574          
   1575              if(flags.group_assigned)
   \                     ??scs_pnl_none_confed_master_14:
   \   000002E4   ....               LDI     R30, LOW(flags)
   \   000002E6   ....               LDI     R31, (flags) >> 8
   \   000002E8   8102               LDD     R16, Z+2
   \   000002EA   8113               LDD     R17, Z+3
   \   000002EC   FF00               SBRS    R16, 0
   \   000002EE   C026               RJMP    ??scs_pnl_none_confed_master_12
   1576              {
   1577          			load_default_advance_parameter();
   \   000002F0   ........           CALL    load_default_advance_parameter
   \   000002F4   9100....           LDS     R16, (g_asc_reception_buffer + 5)
   \   000002F8   9300....           STS     (KO_conf + 6), R16
   \   000002FC   9100....           LDS     R16, (g_asc_reception_buffer + 5)
   \   00000300   ....               LDI     R20, LOW((ee_KO_conf + 6))
   \   00000302   ....               LDI     R21, HIGH((ee_KO_conf + 6))
   \   00000304   ........           CALL    __eeput8_16
   1578                KO_conf.GR = g_asc_reception_buffer[5];
   1579                ee_KO_conf.GR = g_asc_reception_buffer[5];
   1580          			KO_conf.AddressType = GROUP;
   \   00000308   E002               LDI     R16, 2
   \   0000030A   9300....           STS     (KO_conf + 1), R16
   1581          			ee_KO_conf.AddressType = GROUP;
   \   0000030E   ....               LDI     R20, LOW((ee_KO_conf + 1))
   \   00000310   ....               LDI     R21, HIGH((ee_KO_conf + 1))
   \   00000312   ........           CALL    __eeput8_16
   1582                product_information.conf_type = ADVANCED;
   \   00000316   9300....           STS     product_information, R16
   1583                ee_product_information.conf_type = ADVANCED;
   \   0000031A   ....               LDI     R20, LOW(ee_product_information)
   \   0000031C   ....               LDI     R21, (ee_product_information) >> 8
   \   0000031E   ........           CALL    __eeput8_16
   1584                frame_send_start_pnl_group_confed();
   \   00000322   ........           CALL    frame_send_start_pnl_group_confed
   \   00000326   E000               LDI     R16, 0
   \   00000328   9300....           STS     key_result, R16
   1585                key_result.short_pressed = 0;
   1586                key_result.long_pressed = 0;
   \   0000032C   9300....           STS     (key_result + 1), R16
   1587                state.main_state = PNL_AD_CONFED_STEP2;
   \   00000330   E008               LDI     R16, 8
   \   00000332   E910               LDI     R17, 144
   \   00000334   9300....           STS     (state + 2), R16
   \   00000338   9310....           STS     (state + 3), R17
   1588                //state.main_state = PNL_NONE_CONFED_STEP4;
   1589              }
   1590            }
   1591          
   1592            if(state.main_state == PNL_NONE_CONFED_STEP4)
   \                     ??scs_pnl_none_confed_master_12:
   \   0000033C   9100....           LDS     R16, (state + 2)
   \   00000340   9110....           LDS     R17, (state + 3)
   \   00000344   3004               CPI     R16, 4
   \   00000346   E920               LDI     R18, 144
   \   00000348   0712               CPC     R17, R18
   \   0000034A   F411               BRNE    ??scs_pnl_none_confed_master_15
   1593            {
   1594          		PnL_NONE_end();
   \   0000034C   ........           CALL    PnL_NONE_end
   1595            }
   1596          
   1597          }
   \                     ??scs_pnl_none_confed_master_15:
   \   00000350   9508               RET
   \   00000352                      REQUIRE _A_PORTD
   1598          

   \                                 In  segment CODE, align 2, keep-with-next
   1599          void scs_pnl_advance_slave(void)
   \                     scs_pnl_advance_slave:
   1600          {
   \   00000000   93BA               ST      -Y, R27
   \   00000002   93AA               ST      -Y, R26
   \   00000004   9764               SBIW    R29:R28, 20
   1601          	unsigned char buffer_tx[17] = "D20001348C000941";
   \   00000006   019E               MOVW    R19:R18, R29:R28
   \   00000008   5F2D               SUBI    R18, 253
   \   0000000A   4F3F               SBCI    R19, 255
   \   0000000C   0189               MOVW    R17:R16, R19:R18
   \   0000000E   ....               LDI     R30, LOW(`?<Constant "D20001348C000941">`)
   \   00000010   ....               LDI     R31, (`?<Constant "D20001348C000941">`) >> 8
   \   00000012   E141               LDI     R20, 17
   \   00000014   E050               LDI     R21, 0
   \   00000016   ........           CALL    ?ML_FLASH_SRAM_16EC_16_L07
   1602          	unsigned char buffer[3];
   1603          	
   1604          	if(state.main_state == NORMAL)
   \   0000001A   ....               LDI     R26, LOW(state)
   \   0000001C   ....               LDI     R27, (state) >> 8
   \   0000001E   01FD               MOVW    R31:R30, R27:R26
   \   00000020   8102               LDD     R16, Z+2
   \   00000022   8113               LDD     R17, Z+3
   \   00000024   2B01               OR      R16, R17
   \   00000026   F009               BREQ    $+2+2
   \   00000028   C069               RJMP    ??scs_pnl_advance_slave_0
   1605          	{
   1606          		if(state.pnl_slave == START_PNL_GROUP_SENSOR)
   \   0000002A   9100....           LDS     R16, (state + 4)
   \   0000002E   3001               CPI     R16, 1
   \   00000030   F009               BREQ    $+2+2
   \   00000032   C047               RJMP    ??scs_pnl_advance_slave_1
   1607          		{
   1608          			if(key_result.short_pressed)
   \   00000034   9100....           LDS     R16, key_result
   \   00000038   2300               TST     R16
   \   0000003A   F409               BRNE    $+2+2
   \   0000003C   C05F               RJMP    ??scs_pnl_advance_slave_0
   1609            	  {
   1610            	    key_result.short_pressed = 0;
   \   0000003E   9340....           STS     key_result, R20
   1611          				if(flags.wait_GS_remove == 1)
   \   00000042   ....               LDI     R30, LOW(flags)
   \   00000044   ....               LDI     R31, (flags) >> 8
   \   00000046   8102               LDD     R16, Z+2
   \   00000048   8113               LDD     R17, Z+3
   \   0000004A   2F01               MOV     R16, R17
   \   0000004C   FF01               SBRS    R16, 1
   \   0000004E   C029               RJMP    ??scs_pnl_advance_slave_2
   1612          				{
   1613          					flags.wait_GS_remove = 0;
   \   00000050   8102               LDD     R16, Z+2
   \   00000052   8113               LDD     R17, Z+3
   \   00000054   7F1D               ANDI    R17, 0xFD
   \   00000056   8313               STD     Z+3, R17
   \   00000058   8302               STD     Z+2, R16
   \   0000005A   9100....           LDS     R16, (KO_conf + 7)
   \   0000005E   9110....           LDS     R17, (temp_variable + 14)
   \   00000062   1701               CP      R16, R17
   \   00000064   E324               LDI     R18, 52
   \   00000066   F459               BRNE    ??scs_pnl_advance_slave_3
   1614          					if(KO_conf.GS1 == temp_variable.GR) //remove
   1615          					{
   1616          						send_group_pnl_frame(ANSWER,KO_conf.GS1,GROUP_ERASE);
   \   00000068   9110....           LDS     R17, (KO_conf + 7)
   \   0000006C   E304               LDI     R16, 52
   \   0000006E   ........           CALL    send_group_pnl_frame
   1617          						KO_conf.GS1 = 0;
   \   00000072   E000               LDI     R16, 0
   \   00000074   9300....           STS     (KO_conf + 7), R16
   1618          						ee_KO_conf.GS1 = 0;
   \   00000078   ....               LDI     R20, LOW((ee_KO_conf + 7))
   \   0000007A   ....               LDI     R21, HIGH((ee_KO_conf + 7))
   \   0000007C   C00A               RJMP    ??scs_pnl_advance_slave_4
   1619          					}
   1620          					else
   1621          					{
   1622          						send_group_pnl_frame(ANSWER,KO_conf.GS2,GROUP_ERASE);
   \                     ??scs_pnl_advance_slave_3:
   \   0000007E   9110....           LDS     R17, (KO_conf + 8)
   \   00000082   E304               LDI     R16, 52
   \   00000084   ........           CALL    send_group_pnl_frame
   1623          						KO_conf.GS2 = 0;
   \   00000088   E000               LDI     R16, 0
   \   0000008A   9300....           STS     (KO_conf + 8), R16
   1624          						ee_KO_conf.GS2 = 0;
   \   0000008E   ....               LDI     R20, LOW((ee_KO_conf + 8))
   \   00000090   ....               LDI     R21, HIGH((ee_KO_conf + 8))
   \                     ??scs_pnl_advance_slave_4:
   \   00000092   ........           CALL    __eeput8_16
   1625          					}
   1626          					led_blinking_disable(0);
   \   00000096   ....               RCALL   led_blinking_disable
   1627          					state.main_state = NORMAL;
   \   00000098   E000               LDI     R16, 0
   \   0000009A   01FD               MOVW    R31:R30, R27:R26
   \   0000009C   8302               STD     Z+2, R16
   \   0000009E   8303               STD     Z+3, R16
   \   000000A0   C02D               RJMP    ??scs_pnl_advance_slave_0
   1628          				}
   1629          				else
   1630          				{
   1631          					led_blinking(1000,1000);
   \                     ??scs_pnl_advance_slave_2:
   \   000000A2   EE48               LDI     R20, 232
   \   000000A4   E053               LDI     R21, 3
   \   000000A6   E060               LDI     R22, 0
   \   000000A8   E070               LDI     R23, 0
   \   000000AA   EE08               LDI     R16, 232
   \   000000AC   E013               LDI     R17, 3
   \   000000AE   E020               LDI     R18, 0
   \   000000B0   E030               LDI     R19, 0
   \   000000B2   ....               RCALL   led_blinking
   1632          					timer_flex_initial(60000);
   \   000000B4   E600               LDI     R16, 96
   \   000000B6   EE1A               LDI     R17, 234
   \   000000B8   E020               LDI     R18, 0
   \   000000BA   E030               LDI     R19, 0
   \   000000BC   ....               RCALL   timer_flex_initial
   1633          					state.main_state = SENSOR_GROUP_STEP4;
   \   000000BE   E109               LDI     R16, 25
   \   000000C0   C019               RJMP    ??scs_pnl_advance_slave_5
   1634          				}
   1635          			}
   1636            	}
   1637          		else if(state.pnl_slave == START_PNL_NONE_CONFED_GROUP_SENSOR)
   \                     ??scs_pnl_advance_slave_1:
   \   000000C2   9100....           LDS     R16, (state + 4)
   \   000000C6   3002               CPI     R16, 2
   \   000000C8   F4C9               BRNE    ??scs_pnl_advance_slave_0
   1638          		{
   1639          			if( key_result.short_pressed)
   \   000000CA   9100....           LDS     R16, key_result
   \   000000CE   2300               TST     R16
   \   000000D0   F0A9               BREQ    ??scs_pnl_advance_slave_0
   1640              	{
   1641                	key_result.short_pressed = 0;
   \   000000D2   9340....           STS     key_result, R20
   1642                	led_blinking(1000,1000);
   \   000000D6   EE48               LDI     R20, 232
   \   000000D8   E053               LDI     R21, 3
   \   000000DA   E060               LDI     R22, 0
   \   000000DC   E070               LDI     R23, 0
   \   000000DE   EE08               LDI     R16, 232
   \   000000E0   E013               LDI     R17, 3
   \   000000E2   E020               LDI     R18, 0
   \   000000E4   E030               LDI     R19, 0
   \   000000E6   ....               RCALL   led_blinking
   1643          				timer_flex_initial(60000);
   \   000000E8   E600               LDI     R16, 96
   \   000000EA   EE1A               LDI     R17, 234
   \   000000EC   E020               LDI     R18, 0
   \   000000EE   E030               LDI     R19, 0
   \   000000F0   ....               RCALL   timer_flex_initial
   1644          				state.main_state = NONE_TO_AD_STEP1;
   \   000000F2   E200               LDI     R16, 32
   \                     ??scs_pnl_advance_slave_5:
   \   000000F4   E910               LDI     R17, 144
   \   000000F6   01FD               MOVW    R31:R30, R27:R26
   \   000000F8   8302               STD     Z+2, R16
   \   000000FA   8313               STD     Z+3, R17
   1645              	}
   1646          		}
   1647          	}
   1648          	
   1649          	if(state.main_state == SENSOR_GROUP_STEP4)
   \                     ??scs_pnl_advance_slave_0:
   \   000000FC   8102               LDD     R16, Z+2
   \   000000FE   8113               LDD     R17, Z+3
   \   00000100   3109               CPI     R16, 25
   \   00000102   E920               LDI     R18, 144
   \   00000104   0712               CPC     R17, R18
   \   00000106   F009               BREQ    $+2+2
   \   00000108   C069               RJMP    ??scs_pnl_advance_slave_6
   1650          	{
   1651          		if(Time_delay.timer_flex.time_out == 1)
   \   0000010A   9100....           LDS     R16, (Time_delay + 157)
   \   0000010E   3001               CPI     R16, 1
   \   00000110   F429               BRNE    ??scs_pnl_advance_slave_7
   1652          		{
   1653          		  led_blinking_normal();
   \   00000112   ....               RCALL   led_blinking_normal
   1654          		  state.main_state = STATE_NORMAL;
   \   00000114   E000               LDI     R16, 0
   \   00000116   01FD               MOVW    R31:R30, R27:R26
   \   00000118   8302               STD     Z+2, R16
   \   0000011A   8303               STD     Z+3, R16
   1655          		}
   1656          		
   1657          		if(key_result.short_pressed)
   \                     ??scs_pnl_advance_slave_7:
   \   0000011C   9100....           LDS     R16, key_result
   \   00000120   2300               TST     R16
   \   00000122   F409               BRNE    $+2+2
   \   00000124   C05B               RJMP    ??scs_pnl_advance_slave_6
   1658          		{
   1659          			key_result.short_pressed = 0;
   \   00000126   E000               LDI     R16, 0
   \   00000128   9300....           STS     key_result, R16
   1660          			if(KO_conf.GS1 == 0 || KO_conf.GS1 == temp_variable.GR)
   \   0000012C   9100....           LDS     R16, (temp_variable + 14)
   \   00000130   9110....           LDS     R17, (KO_conf + 7)
   \   00000134   2311               TST     R17
   \   00000136   F021               BREQ    ??scs_pnl_advance_slave_8
   \   00000138   9110....           LDS     R17, (KO_conf + 7)
   \   0000013C   1710               CP      R17, R16
   \   0000013E   F539               BRNE    ??scs_pnl_advance_slave_9
   1661          			{
   1662          				KO_conf.GS1 = temp_variable.GR;
   \                     ??scs_pnl_advance_slave_8:
   \   00000140   9300....           STS     (KO_conf + 7), R16
   1663          				ee_KO_conf.GS1 = temp_variable.GR;
   \   00000144   9100....           LDS     R16, (temp_variable + 14)
   \   00000148   ....               LDI     R20, LOW((ee_KO_conf + 7))
   \   0000014A   ....               LDI     R21, HIGH((ee_KO_conf + 7))
   \   0000014C   ........           CALL    __eeput8_16
   1664          				CharToStr(KO_conf.GS1,buffer);
   \   00000150   019E               MOVW    R19:R18, R29:R28
   \   00000152   9100....           LDS     R16, (KO_conf + 7)
   \                     ??scs_pnl_advance_slave_10:
   \   00000156   ........           CALL    CharToStr
   1665          				buffer_tx[10] = buffer[0];
   \   0000015A   8108               LD      R16, Y
   \   0000015C   870D               STD     Y+13, R16
   1666          				buffer_tx[11] = buffer[1];
   \   0000015E   8109               LDD     R16, Y+1
   \   00000160   870E               STD     Y+14, R16
   1667          				send_frame_pp_ext_broad(buffer_tx,TRANS_DELAY);
   \   00000162   E322               LDI     R18, 50
   \   00000164   E030               LDI     R19, 0
   \   00000166   018E               MOVW    R17:R16, R29:R28
   \   00000168   5F0D               SUBI    R16, 253
   \   0000016A   4F1F               SBCI    R17, 255
   \   0000016C   ........           CALL    send_frame_pp_ext_broad
   1668          				led_blinking(250,250);
   \   00000170   EF4A               LDI     R20, 250
   \   00000172   E050               LDI     R21, 0
   \   00000174   E060               LDI     R22, 0
   \   00000176   E070               LDI     R23, 0
   \   00000178   EF0A               LDI     R16, 250
   \   0000017A   E010               LDI     R17, 0
   \   0000017C   E020               LDI     R18, 0
   \   0000017E   E030               LDI     R19, 0
   \   00000180   ....               RCALL   led_blinking
   1669          				state.main_state = ADD_THEN_REMOVE;
   \   00000182   E300               LDI     R16, 48
   \   00000184   E910               LDI     R17, 144
   \   00000186   01FD               MOVW    R31:R30, R27:R26
   \   00000188   8302               STD     Z+2, R16
   \   0000018A   8313               STD     Z+3, R17
   \   0000018C   C027               RJMP    ??scs_pnl_advance_slave_6
   1670          			}
   1671          			else if(KO_conf.GS2 == 0 || KO_conf.GS2 == temp_variable.GR)
   \                     ??scs_pnl_advance_slave_9:
   \   0000018E   9110....           LDS     R17, (KO_conf + 8)
   \   00000192   2311               TST     R17
   \   00000194   F021               BREQ    ??scs_pnl_advance_slave_11
   \   00000196   9110....           LDS     R17, (KO_conf + 8)
   \   0000019A   1710               CP      R17, R16
   \   0000019C   F461               BRNE    ??scs_pnl_advance_slave_12
   1672          			{
   1673          				KO_conf.GS2 = temp_variable.GR;
   \                     ??scs_pnl_advance_slave_11:
   \   0000019E   9300....           STS     (KO_conf + 8), R16
   1674          				ee_KO_conf.GS2 = temp_variable.GR;
   \   000001A2   9100....           LDS     R16, (temp_variable + 14)
   \   000001A6   ....               LDI     R20, LOW((ee_KO_conf + 8))
   \   000001A8   ....               LDI     R21, HIGH((ee_KO_conf + 8))
   \   000001AA   ........           CALL    __eeput8_16
   1675          				CharToStr(KO_conf.GS2,buffer);
   \   000001AE   019E               MOVW    R19:R18, R29:R28
   \   000001B0   9100....           LDS     R16, (KO_conf + 8)
   \   000001B4   CFD0               RJMP    ??scs_pnl_advance_slave_10
   1676          				buffer_tx[10] = buffer[0];
   1677          				buffer_tx[11] = buffer[1];
   1678          				send_frame_pp_ext_broad(buffer_tx,TRANS_DELAY);
   1679          				led_blinking(250,250);
   1680          				state.main_state = ADD_THEN_REMOVE;
   1681          			}
   1682          			else
   1683          			{
   1684          				led_blinking(120,0);
   \                     ??scs_pnl_advance_slave_12:
   \   000001B6   E040               LDI     R20, 0
   \   000001B8   E050               LDI     R21, 0
   \   000001BA   E060               LDI     R22, 0
   \   000001BC   E070               LDI     R23, 0
   \   000001BE   E708               LDI     R16, 120
   \   000001C0   E010               LDI     R17, 0
   \   000001C2   E020               LDI     R18, 0
   \   000001C4   E030               LDI     R19, 0
   \   000001C6   ....               RCALL   led_blinking
   1685          				delay_ms(5000);
   \   000001C8   E808               LDI     R16, 136
   \   000001CA   E113               LDI     R17, 19
   \   000001CC   ........           CALL    delay_ms
   1686          				led_blinking_disable(0);
   \   000001D0   E000               LDI     R16, 0
   \   000001D2   ....               RCALL   led_blinking_disable
   1687          				state.main_state = NORMAL;
   \   000001D4   E000               LDI     R16, 0
   \   000001D6   01FD               MOVW    R31:R30, R27:R26
   \   000001D8   8302               STD     Z+2, R16
   \   000001DA   8303               STD     Z+3, R16
   1688          			}
   1689          		}
   1690          	}
   1691          	
   1692          	if(state.main_state == ADD_THEN_REMOVE)
   \                     ??scs_pnl_advance_slave_6:
   \   000001DC   8102               LDD     R16, Z+2
   \   000001DE   8113               LDD     R17, Z+3
   \   000001E0   3300               CPI     R16, 48
   \   000001E2   E920               LDI     R18, 144
   \   000001E4   0712               CPC     R17, R18
   \   000001E6   F551               BRNE    ??scs_pnl_advance_slave_13
   1693          	{
   1694          		if(key_result.short_pressed)
   \   000001E8   9100....           LDS     R16, key_result
   \   000001EC   2300               TST     R16
   \   000001EE   F131               BREQ    ??scs_pnl_advance_slave_13
   1695              {
   1696          			key_result.short_pressed = 0;
   \   000001F0   E000               LDI     R16, 0
   \   000001F2   9300....           STS     key_result, R16
   \   000001F6   9100....           LDS     R16, (KO_conf + 7)
   \   000001FA   9110....           LDS     R17, (temp_variable + 14)
   \   000001FE   1701               CP      R16, R17
   \   00000200   E324               LDI     R18, 52
   \   00000202   F459               BRNE    ??scs_pnl_advance_slave_14
   1697                if(KO_conf.GS1 == temp_variable.GR) //remove
   1698          			{
   1699          				send_group_pnl_frame(ANSWER,KO_conf.GS1,GROUP_ERASE);
   \   00000204   9110....           LDS     R17, (KO_conf + 7)
   \   00000208   E304               LDI     R16, 52
   \   0000020A   ........           CALL    send_group_pnl_frame
   1700          				KO_conf.GS1 = 0;
   \   0000020E   E000               LDI     R16, 0
   \   00000210   9300....           STS     (KO_conf + 7), R16
   1701          				ee_KO_conf.GS1 = 0;
   \   00000214   ....               LDI     R20, LOW((ee_KO_conf + 7))
   \   00000216   ....               LDI     R21, HIGH((ee_KO_conf + 7))
   \   00000218   C00A               RJMP    ??scs_pnl_advance_slave_15
   1702          			}
   1703          			else
   1704          			{
   1705          				send_group_pnl_frame(ANSWER,KO_conf.GS2,GROUP_ERASE);
   \                     ??scs_pnl_advance_slave_14:
   \   0000021A   9110....           LDS     R17, (KO_conf + 8)
   \   0000021E   E304               LDI     R16, 52
   \   00000220   ........           CALL    send_group_pnl_frame
   1706          				KO_conf.GS2 = 0;
   \   00000224   E000               LDI     R16, 0
   \   00000226   9300....           STS     (KO_conf + 8), R16
   1707          				ee_KO_conf.GS2 = 0;
   \   0000022A   ....               LDI     R20, LOW((ee_KO_conf + 8))
   \   0000022C   ....               LDI     R21, HIGH((ee_KO_conf + 8))
   \                     ??scs_pnl_advance_slave_15:
   \   0000022E   ........           CALL    __eeput8_16
   1708          			}
   1709          			led_blinking_disable(0);
   \   00000232   ....               RCALL   led_blinking_disable
   1710          			state.main_state = NORMAL;
   \   00000234   E000               LDI     R16, 0
   \   00000236   01FD               MOVW    R31:R30, R27:R26
   \   00000238   8302               STD     Z+2, R16
   \   0000023A   8303               STD     Z+3, R16
   1711          		}
   1712          	}
   1713          	
   1714          	if(state.main_state == NONE_TO_AD_STEP1)
   \                     ??scs_pnl_advance_slave_13:
   \   0000023C   8102               LDD     R16, Z+2
   \   0000023E   8113               LDD     R17, Z+3
   \   00000240   3200               CPI     R16, 32
   \   00000242   E920               LDI     R18, 144
   \   00000244   0712               CPC     R17, R18
   \   00000246   F009               BREQ    $+2+2
   \   00000248   C043               RJMP    ??scs_pnl_advance_slave_16
   1715          	{
   1716          		if( key_result.short_pressed)
   \   0000024A   9100....           LDS     R16, key_result
   \   0000024E   2300               TST     R16
   \   00000250   F1F9               BREQ    ??scs_pnl_advance_slave_16
   1717          		{
   1718          			key_result.short_pressed = 0;
   \   00000252   E000               LDI     R16, 0
   \   00000254   9300....           STS     key_result, R16
   \   00000258   9100....           LDS     R16, (KO_conf + 7)
   \   0000025C   2300               TST     R16
   \   0000025E   F031               BREQ    ??scs_pnl_advance_slave_17
   \   00000260   9100....           LDS     R16, (temp_variable + 14)
   \   00000264   9110....           LDS     R17, (KO_conf + 7)
   \   00000268   1710               CP      R17, R16
   \   0000026A   F479               BRNE    ??scs_pnl_advance_slave_18
   1719          			if(KO_conf.GS1 == 0 || KO_conf.GS1 == temp_variable.GR)
   1720          			{
   1721          				led_blinking(250,250);
   \                     ??scs_pnl_advance_slave_17:
   \   0000026C   EF4A               LDI     R20, 250
   \   0000026E   E050               LDI     R21, 0
   \   00000270   E060               LDI     R22, 0
   \   00000272   E070               LDI     R23, 0
   \   00000274   EF0A               LDI     R16, 250
   \   00000276   E010               LDI     R17, 0
   \   00000278   E020               LDI     R18, 0
   \   0000027A   E030               LDI     R19, 0
   \   0000027C   ....               RCALL   led_blinking
   1722          				state.main_state = NONE_TO_AD_STEP2;
   \   0000027E   E201               LDI     R16, 33
   \   00000280   E910               LDI     R17, 144
   \   00000282   01FD               MOVW    R31:R30, R27:R26
   \   00000284   8302               STD     Z+2, R16
   \   00000286   8313               STD     Z+3, R17
   \   00000288   C023               RJMP    ??scs_pnl_advance_slave_16
   1723          			}
   1724          			else if(KO_conf.GS2 == 0 || KO_conf.GS2 == temp_variable.GR)
   \                     ??scs_pnl_advance_slave_18:
   \   0000028A   9110....           LDS     R17, (KO_conf + 8)
   \   0000028E   2311               TST     R17
   \   00000290   F369               BREQ    ??scs_pnl_advance_slave_17
   \   00000292   9110....           LDS     R17, (KO_conf + 8)
   \   00000296   1710               CP      R17, R16
   \   00000298   F349               BREQ    ??scs_pnl_advance_slave_17
   1725          			{
   1726          				led_blinking(250,250);
   1727          				state.main_state = NONE_TO_AD_STEP2;
   1728          			}
   1729          			else
   1730          			{
   1731          				led_blinking(120,0);
   \   0000029A   E040               LDI     R20, 0
   \   0000029C   E050               LDI     R21, 0
   \   0000029E   E060               LDI     R22, 0
   \   000002A0   E070               LDI     R23, 0
   \   000002A2   E708               LDI     R16, 120
   \   000002A4   E010               LDI     R17, 0
   \   000002A6   E020               LDI     R18, 0
   \   000002A8   E030               LDI     R19, 0
   \   000002AA   ....               RCALL   led_blinking
   1732          				delay_ms(5000);
   \   000002AC   E808               LDI     R16, 136
   \   000002AE   E113               LDI     R17, 19
   \   000002B0   ........           CALL    delay_ms
   1733          				state.main_state = NORMAL;
   \   000002B4   E000               LDI     R16, 0
   \   000002B6   01FD               MOVW    R31:R30, R27:R26
   \   000002B8   8302               STD     Z+2, R16
   \   000002BA   8303               STD     Z+3, R16
   1734          				state.pnl_slave = NORMAL;
   \   000002BC   9300....           STS     (state + 4), R16
   1735          				flags.scs_pnl_group_sensor_starded = NORMAL;
   \   000002C0   ....               LDI     R30, LOW(flags)
   \   000002C2   ....               LDI     R31, (flags) >> 8
   \   000002C4   8102               LDD     R16, Z+2
   \   000002C6   8113               LDD     R17, Z+3
   \   000002C8   7F1E               ANDI    R17, 0xFE
   \   000002CA   8313               STD     Z+3, R17
   \   000002CC   8302               STD     Z+2, R16
   1736          				led_blinking_normal();
   \   000002CE   ....               RCALL   led_blinking_normal
   1737          			}
   1738          		}
   1739          	}
   1740          	
   1741          	if(state.main_state == NONE_TO_AD_STEP2)
   \                     ??scs_pnl_advance_slave_16:
   \   000002D0   01FD               MOVW    R31:R30, R27:R26
   \   000002D2   8102               LDD     R16, Z+2
   \   000002D4   8113               LDD     R17, Z+3
   \   000002D6   3201               CPI     R16, 33
   \   000002D8   E920               LDI     R18, 144
   \   000002DA   0712               CPC     R17, R18
   \   000002DC   F4A1               BRNE    ??scs_pnl_advance_slave_19
   1742          	{
   1743          		send_group_pnl_frame(ANSWER,0x00,GROUP_CONFIRM);
   \   000002DE   E321               LDI     R18, 49
   \   000002E0   E010               LDI     R17, 0
   \   000002E2   E304               LDI     R16, 52
   \   000002E4   ........           CALL    send_group_pnl_frame
   1744          		send_group_pnl_frame(SET,0x00,GROUP_REQUEST);
   \   000002E8   E325               LDI     R18, 53
   \   000002EA   E010               LDI     R17, 0
   \   000002EC   E302               LDI     R16, 50
   \   000002EE   ........           CALL    send_group_pnl_frame
   1745          		timer_flex2_initial(3000);
   \   000002F2   EB08               LDI     R16, 184
   \   000002F4   E01B               LDI     R17, 11
   \   000002F6   E020               LDI     R18, 0
   \   000002F8   E030               LDI     R19, 0
   \   000002FA   ....               RCALL   timer_flex2_initial
   1746          		state.main_state = NONE_TO_AD_STEP3;
   \   000002FC   E202               LDI     R16, 34
   \   000002FE   E910               LDI     R17, 144
   \   00000300   01FD               MOVW    R31:R30, R27:R26
   \   00000302   8302               STD     Z+2, R16
   \   00000304   8313               STD     Z+3, R17
   1747          	}
   1748          	
   1749          	if(state.main_state == NONE_TO_AD_STEP3)
   \                     ??scs_pnl_advance_slave_19:
   \   00000306   8102               LDD     R16, Z+2
   \   00000308   8113               LDD     R17, Z+3
   \   0000030A   3202               CPI     R16, 34
   \   0000030C   E920               LDI     R18, 144
   \   0000030E   0712               CPC     R17, R18
   \   00000310   F009               BREQ    $+2+2
   \   00000312   C04A               RJMP    ??scs_pnl_advance_slave_20
   1750          	{
   1751          		if(Time_delay.timer_flex2.time_out == 1)
   \   00000314   9100....           LDS     R16, (Time_delay + 212)
   \   00000318   3001               CPI     R16, 1
   \   0000031A   F499               BRNE    ??scs_pnl_advance_slave_21
   1752          		{
   1753          			send_group_pnl_frame(SET,0x00,GROUP_END_PNL);
   \   0000031C   E426               LDI     R18, 70
   \   0000031E   E010               LDI     R17, 0
   \   00000320   E302               LDI     R16, 50
   \   00000322   ........           CALL    send_group_pnl_frame
   1754          			send_frame_pp_broad("B000990F",TRANS_DELAY);
   \   00000326   E322               LDI     R18, 50
   \   00000328   E030               LDI     R19, 0
   \   0000032A   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 35))
   \   0000032C   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 35))
   \   0000032E   ........           CALL    send_frame_pp_broad
   1755          			led_blinking_normal();
   \   00000332   ....               RCALL   led_blinking_normal
   1756          			state.pnl_slave = NORMAL;
   \   00000334   E000               LDI     R16, 0
   \   00000336   9300....           STS     (state + 4), R16
   1757          	  	state.main_state = STATE_NORMAL;
   \   0000033A   01FD               MOVW    R31:R30, R27:R26
   \   0000033C   8302               STD     Z+2, R16
   \   0000033E   8303               STD     Z+3, R16
   \   00000340   C033               RJMP    ??scs_pnl_advance_slave_20
   1758          		}
   \                     ??scs_pnl_advance_slave_21:
   \   00000342   9100....           LDS     R16, (g_asc_reception_buffer + 3)
   \   00000346   3402               CPI     R16, 66
   \   00000348   F579               BRNE    ??scs_pnl_advance_slave_20
   \   0000034A   9100....           LDS     R16, (g_asc_reception_buffer + 4)
   \   0000034E   380C               CPI     R16, 140
   \   00000350   F559               BRNE    ??scs_pnl_advance_slave_20
   \   00000352   9100....           LDS     R16, (g_asc_reception_buffer + 6)
   \   00000356   3009               CPI     R16, 9
   \   00000358   F539               BRNE    ??scs_pnl_advance_slave_20
   \   0000035A   9100....           LDS     R16, (g_asc_reception_buffer + 7)
   \   0000035E   3400               CPI     R16, 64
   \   00000360   F519               BRNE    ??scs_pnl_advance_slave_20
   \   00000362   9100....           LDS     R16, (KO_conf + 7)
   \   00000366   2300               TST     R16
   \   00000368   F031               BREQ    ??scs_pnl_advance_slave_22
   \   0000036A   9100....           LDS     R16, (KO_conf + 7)
   \   0000036E   9110....           LDS     R17, (g_asc_reception_buffer + 5)
   \   00000372   1701               CP      R16, R17
   \   00000374   F421               BRNE    ??scs_pnl_advance_slave_23
   1759          		else
   1760          		{
   1761          			if(g_asc_reception_buffer[3] == 0x42 && g_asc_reception_buffer[4] == 0x8C && g_asc_reception_buffer[6] == 0x09 && g_asc_reception_buffer[7] == 0x40)
   1762          			{
   1763          				if(KO_conf.GS1 == 0 || KO_conf.GS1 == g_asc_reception_buffer[5])
   1764          				{
   1765          					send_group_pnl_frame(ANSWER,KO_conf.GS1,GROUP_CONFIRM);
   \                     ??scs_pnl_advance_slave_22:
   \   00000376   E321               LDI     R18, 49
   \   00000378   9110....           LDS     R17, (KO_conf + 7)
   \   0000037C   C00D               RJMP    ??scs_pnl_advance_slave_24
   1766          				}
   1767          				else if(KO_conf.GS2 == 0 || KO_conf.GS2 == g_asc_reception_buffer[5])
   \                     ??scs_pnl_advance_slave_23:
   \   0000037E   9100....           LDS     R16, (KO_conf + 8)
   \   00000382   2300               TST     R16
   \   00000384   F031               BREQ    ??scs_pnl_advance_slave_25
   \   00000386   9100....           LDS     R16, (KO_conf + 8)
   \   0000038A   9110....           LDS     R17, (g_asc_reception_buffer + 5)
   \   0000038E   1701               CP      R16, R17
   \   00000390   F431               BRNE    ??scs_pnl_advance_slave_26
   1768          				{
   1769          					send_group_pnl_frame(ANSWER,KO_conf.GS2,GROUP_CONFIRM);
   \                     ??scs_pnl_advance_slave_25:
   \   00000392   E321               LDI     R18, 49
   \   00000394   9110....           LDS     R17, (KO_conf + 8)
   \                     ??scs_pnl_advance_slave_24:
   \   00000398   E304               LDI     R16, 52
   \   0000039A   ........           CALL    send_group_pnl_frame
   1770          				}
   1771          				state.main_state = NONE_TO_AD_STEP4;
   \                     ??scs_pnl_advance_slave_26:
   \   0000039E   E203               LDI     R16, 35
   \   000003A0   E910               LDI     R17, 144
   \   000003A2   01FD               MOVW    R31:R30, R27:R26
   \   000003A4   8302               STD     Z+2, R16
   \   000003A6   8313               STD     Z+3, R17
   1772          			}
   1773          		}
   1774          	}
   1775          	
   1776          	if(state.main_state == NONE_TO_AD_STEP4)
   \                     ??scs_pnl_advance_slave_20:
   \   000003A8   8102               LDD     R16, Z+2
   \   000003AA   8113               LDD     R17, Z+3
   \   000003AC   3203               CPI     R16, 35
   \   000003AE   E920               LDI     R18, 144
   \   000003B0   0712               CPC     R17, R18
   \   000003B2   F4C9               BRNE    ??scs_pnl_advance_slave_27
   1777          	{
   1778          		if( key_result.short_pressed)
   \   000003B4   9100....           LDS     R16, key_result
   \   000003B8   2300               TST     R16
   \   000003BA   F0A9               BREQ    ??scs_pnl_advance_slave_27
   1779          		{
   1780          			key_result.short_pressed = 0;
   \   000003BC   E000               LDI     R16, 0
   \   000003BE   9300....           STS     key_result, R16
   1781          			send_group_pnl_frame(SET,0x00,GROUP_END_PNL);
   \   000003C2   E426               LDI     R18, 70
   \   000003C4   E010               LDI     R17, 0
   \   000003C6   E302               LDI     R16, 50
   \   000003C8   ........           CALL    send_group_pnl_frame
   1782          			send_frame_pp_broad("B000990F",TRANS_DELAY);
   \   000003CC   E322               LDI     R18, 50
   \   000003CE   E030               LDI     R19, 0
   \   000003D0   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 35))
   \   000003D2   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 35))
   \   000003D4   ........           CALL    send_frame_pp_broad
   1783          			led_blinking_normal();
   \   000003D8   ....               RCALL   led_blinking_normal
   1784          			state.pnl_slave = NORMAL;
   \   000003DA   E000               LDI     R16, 0
   \   000003DC   9300....           STS     (state + 4), R16
   1785          	  	state.main_state = STATE_NORMAL;
   \   000003E0   01FD               MOVW    R31:R30, R27:R26
   \   000003E2   8302               STD     Z+2, R16
   \   000003E4   8303               STD     Z+3, R16
   1786          		}
   1787          	}
   1788          }
   \                     ??scs_pnl_advance_slave_27:
   \   000003E6   9664               ADIW    R29:R28, 20
   \   000003E8   91A9               LD      R26, Y+
   \   000003EA   91B9               LD      R27, Y+
   \   000003EC   9508               RET
   1789          

   \                                 In  segment CODE, align 2, keep-with-next
   1790          void scs_advance_from_none_confed(void)
   \                     scs_advance_from_none_confed:
   1791          {
   \   00000000   93BA               ST      -Y, R27
   \   00000002   93AA               ST      -Y, R26
   1792          	//for PnL confed sensor slave
   1793          	if( key_result.short_pressed)
   \   00000004   ....               LDI     R26, LOW(state)
   \   00000006   ....               LDI     R27, (state) >> 8
   \   00000008   9100....           LDS     R16, key_result
   \   0000000C   2300               TST     R16
   \   0000000E   F0B9               BREQ    ??scs_advance_from_none_confed_0
   1794            {
   1795                key_result.short_pressed = 0;
   \   00000010   E000               LDI     R16, 0
   \   00000012   9300....           STS     key_result, R16
   1796                led_blinking(1000,1000);
   \   00000016   EE48               LDI     R20, 232
   \   00000018   E053               LDI     R21, 3
   \   0000001A   E060               LDI     R22, 0
   \   0000001C   E070               LDI     R23, 0
   \   0000001E   EE08               LDI     R16, 232
   \   00000020   E013               LDI     R17, 3
   \   00000022   E020               LDI     R18, 0
   \   00000024   E030               LDI     R19, 0
   \   00000026   ....               RCALL   led_blinking
   1797          			timer_flex_initial(60000);
   \   00000028   E600               LDI     R16, 96
   \   0000002A   EE1A               LDI     R17, 234
   \   0000002C   E020               LDI     R18, 0
   \   0000002E   E030               LDI     R19, 0
   \   00000030   ....               RCALL   timer_flex_initial
   1798          			//state.pnl_slave_none_confed = AFTER_STEP1;
   1799          			state.main_state = NONE_TO_AD_STEP1;
   \   00000032   E200               LDI     R16, 32
   \   00000034   E910               LDI     R17, 144
   \   00000036   9612               ADIW    R27:R26, 2
   \   00000038   930D               ST      X+, R16
   \   0000003A   931C               ST      X, R17
   \   0000003C   9713               SBIW    R27:R26, 3
   1800              }
   1801          	
   1802          		if(state.pnl_slave == START_PNL_NONE_CONFED_GROUP_SENSOR)
   \                     ??scs_advance_from_none_confed_0:
   \   0000003E   9100....           LDS     R16, (state + 4)
   \   00000042   3002               CPI     R16, 2
   \   00000044   F519               BRNE    ??scs_advance_from_none_confed_1
   1803          		{
   1804          			if(KO_conf.GS1 == 0)
   \   00000046   9100....           LDS     R16, (KO_conf + 7)
   \   0000004A   2300               TST     R16
   \   0000004C   F0F9               BREQ    ??scs_advance_from_none_confed_1
   1805          			{
   1806          			
   1807          			}
   1808          			else if(KO_conf.GS2 == 0)
   \   0000004E   9100....           LDS     R16, (KO_conf + 8)
   \   00000052   2300               TST     R16
   \   00000054   F0D9               BREQ    ??scs_advance_from_none_confed_1
   1809          			{
   1810          		
   1811          			}
   1812          			else
   1813          			{
   1814          				led_blinking(120,0);
   \   00000056   E040               LDI     R20, 0
   \   00000058   E050               LDI     R21, 0
   \   0000005A   E060               LDI     R22, 0
   \   0000005C   E070               LDI     R23, 0
   \   0000005E   E708               LDI     R16, 120
   \   00000060   E010               LDI     R17, 0
   \   00000062   E020               LDI     R18, 0
   \   00000064   E030               LDI     R19, 0
   \   00000066   ....               RCALL   led_blinking
   1815          				delay_ms(5000);
   \   00000068   E808               LDI     R16, 136
   \   0000006A   E113               LDI     R17, 19
   \   0000006C   ........           CALL    delay_ms
   1816          				state.main_state = NORMAL;
   \   00000070   E000               LDI     R16, 0
   \   00000072   9612               ADIW    R27:R26, 2
   \   00000074   930D               ST      X+, R16
   \   00000076   930C               ST      X, R16
   1817          				state.pnl_slave = NORMAL;
   \   00000078   9300....           STS     (state + 4), R16
   1818          				flags.scs_pnl_group_sensor_starded = NORMAL;
   \   0000007C   ....               LDI     R30, LOW(flags)
   \   0000007E   ....               LDI     R31, (flags) >> 8
   \   00000080   8102               LDD     R16, Z+2
   \   00000082   8113               LDD     R17, Z+3
   \   00000084   7F1E               ANDI    R17, 0xFE
   \   00000086   8313               STD     Z+3, R17
   \   00000088   8302               STD     Z+2, R16
   1819          				led_blinking_normal();
   \   0000008A   ....               RCALL   led_blinking_normal
   1820          			}
   1821          		}
   1822          }
   \                     ??scs_advance_from_none_confed_1:
   \   0000008C   91A9               LD      R26, Y+
   \   0000008E   91B9               LD      R27, Y+
   \   00000090   9508               RET
   1823          

   \                                 In  segment CODE, align 2, keep-with-next
   1824          unsigned char scs_pnl_none_confed_slave(void)
   \                     scs_pnl_none_confed_slave:
   1825          {
   \   00000000   93BA               ST      -Y, R27
   \   00000002   93AA               ST      -Y, R26
   1826          	if(state.main_state == NORMAL && state.pnl_slave == NORMAL)
   \   00000004   ....               LDI     R26, LOW(state)
   \   00000006   ....               LDI     R27, (state) >> 8
   \   00000008   9612               ADIW    R27:R26, 2
   \   0000000A   910D               LD      R16, X+
   \   0000000C   911C               LD      R17, X
   \   0000000E   9713               SBIW    R27:R26, 3
   \   00000010   2B01               OR      R16, R17
   \   00000012   F4F9               BRNE    ??scs_pnl_none_confed_slave_0
   \   00000014   9100....           LDS     R16, (state + 4)
   \   00000018   2300               TST     R16
   \   0000001A   F4D9               BRNE    ??scs_pnl_none_confed_slave_0
   1827          	{
   1828          		if( key_result.short_pressed)
   \   0000001C   9100....           LDS     R16, key_result
   \   00000020   2300               TST     R16
   \   00000022   F0B9               BREQ    ??scs_pnl_none_confed_slave_0
   1829              {
   1830               	key_result.short_pressed = 0;
   \   00000024   E000               LDI     R16, 0
   \   00000026   9300....           STS     key_result, R16
   1831               	led_blinking(1000,1000);
   \   0000002A   EE48               LDI     R20, 232
   \   0000002C   E053               LDI     R21, 3
   \   0000002E   E060               LDI     R22, 0
   \   00000030   E070               LDI     R23, 0
   \   00000032   EE08               LDI     R16, 232
   \   00000034   E013               LDI     R17, 3
   \   00000036   E020               LDI     R18, 0
   \   00000038   E030               LDI     R19, 0
   \   0000003A   ....               RCALL   led_blinking
   1832          			timer_flex_initial(60000);
   \   0000003C   E600               LDI     R16, 96
   \   0000003E   EE1A               LDI     R17, 234
   \   00000040   E020               LDI     R18, 0
   \   00000042   E030               LDI     R19, 0
   \   00000044   ....               RCALL   timer_flex_initial
   1833          			state.main_state = AD_TO_NONE_STEP2;
   \   00000046   E302               LDI     R16, 50
   \   00000048   E910               LDI     R17, 144
   \   0000004A   9612               ADIW    R27:R26, 2
   \   0000004C   930D               ST      X+, R16
   \   0000004E   931C               ST      X, R17
   \   00000050   9713               SBIW    R27:R26, 3
   1834              }
   1835          	}
   1836          	
   1837          	if(state.main_state == AD_TO_NONE_STEP2)
   \                     ??scs_pnl_none_confed_slave_0:
   \   00000052   9612               ADIW    R27:R26, 2
   \   00000054   910D               LD      R16, X+
   \   00000056   911C               LD      R17, X
   \   00000058   9713               SBIW    R27:R26, 3
   \   0000005A   3302               CPI     R16, 50
   \   0000005C   E920               LDI     R18, 144
   \   0000005E   0712               CPC     R17, R18
   \   00000060   F551               BRNE    ??scs_pnl_none_confed_slave_1
   1838          		{
   1839          			if(Time_delay.timer_flex.time_out == 1)
   \   00000062   9100....           LDS     R16, (Time_delay + 157)
   \   00000066   3001               CPI     R16, 1
   \   00000068   F431               BRNE    ??scs_pnl_none_confed_slave_2
   1840          			{
   1841          		  	led_blinking_normal();
   \   0000006A   ....               RCALL   led_blinking_normal
   1842          		  	state.main_state = NORMAL;
   \   0000006C   E000               LDI     R16, 0
   \   0000006E   9612               ADIW    R27:R26, 2
   \   00000070   930D               ST      X+, R16
   \   00000072   930C               ST      X, R16
   \   00000074   9713               SBIW    R27:R26, 3
   1843          			}
   1844          		
   1845          			if( key_result.short_pressed)
   \                     ??scs_pnl_none_confed_slave_2:
   \   00000076   9100....           LDS     R16, key_result
   \   0000007A   2300               TST     R16
   \   0000007C   F0E1               BREQ    ??scs_pnl_none_confed_slave_1
   1846              	{
   1847               		key_result.short_pressed = 0;
   \   0000007E   E000               LDI     R16, 0
   \   00000080   9300....           STS     key_result, R16
   1848          				state.main_state = CONSTANT_LIGHT;
   \   00000084   E301               LDI     R16, 49
   \   00000086   E910               LDI     R17, 144
   \   00000088   9612               ADIW    R27:R26, 2
   \   0000008A   930D               ST      X+, R16
   \   0000008C   931C               ST      X, R17
   \   0000008E   9713               SBIW    R27:R26, 3
   1849               		led_blinking(120,0);
   \   00000090   E040               LDI     R20, 0
   \   00000092   E050               LDI     R21, 0
   \   00000094   E060               LDI     R22, 0
   \   00000096   E070               LDI     R23, 0
   \   00000098   E708               LDI     R16, 120
   \   0000009A   E010               LDI     R17, 0
   \   0000009C   E020               LDI     R18, 0
   \   0000009E   E030               LDI     R19, 0
   \   000000A0   ....               RCALL   led_blinking
   1850          				delay_ms(5000);
   \   000000A2   E808               LDI     R16, 136
   \   000000A4   E113               LDI     R17, 19
   \   000000A6   ........           CALL    delay_ms
   1851          				state.main_state = NORMAL;
   \   000000AA   E000               LDI     R16, 0
   \   000000AC   9612               ADIW    R27:R26, 2
   \   000000AE   930D               ST      X+, R16
   \   000000B0   930C               ST      X, R16
   \   000000B2   9713               SBIW    R27:R26, 3
   1852          				led_blinking_normal();
   \   000000B4   ....               RCALL   led_blinking_normal
   1853              	}
   1854          		}
   1855          	
   1856          	if(state.pnl_slave == START_PNL_NONE_CONFED_GROUP_SENSOR)
   \                     ??scs_pnl_none_confed_slave_1:
   \   000000B6   9100....           LDS     R16, (state + 4)
   \   000000BA   3002               CPI     R16, 2
   \   000000BC   F509               BRNE    ??scs_pnl_none_confed_slave_3
   1857          	{
   1858          		if(state.main_state == NORMAL)
   \   000000BE   9612               ADIW    R27:R26, 2
   \   000000C0   910D               LD      R16, X+
   \   000000C2   911C               LD      R17, X
   \   000000C4   9713               SBIW    R27:R26, 3
   \   000000C6   2B01               OR      R16, R17
   \   000000C8   F4D9               BRNE    ??scs_pnl_none_confed_slave_3
   1859          		{
   1860          			if( key_result.short_pressed)
   \   000000CA   9100....           LDS     R16, key_result
   \   000000CE   2300               TST     R16
   \   000000D0   F0B9               BREQ    ??scs_pnl_none_confed_slave_3
   1861              	{
   1862                	key_result.short_pressed = 0;
   \   000000D2   E000               LDI     R16, 0
   \   000000D4   9300....           STS     key_result, R16
   1863                	led_blinking(1000,1000);
   \   000000D8   EE48               LDI     R20, 232
   \   000000DA   E053               LDI     R21, 3
   \   000000DC   E060               LDI     R22, 0
   \   000000DE   E070               LDI     R23, 0
   \   000000E0   EE08               LDI     R16, 232
   \   000000E2   E013               LDI     R17, 3
   \   000000E4   E020               LDI     R18, 0
   \   000000E6   E030               LDI     R19, 0
   \   000000E8   ....               RCALL   led_blinking
   1864          				timer_flex_initial(60000);
   \   000000EA   E600               LDI     R16, 96
   \   000000EC   EE1A               LDI     R17, 234
   \   000000EE   E020               LDI     R18, 0
   \   000000F0   E030               LDI     R19, 0
   \   000000F2   ....               RCALL   timer_flex_initial
   1865          				state.main_state = SENSOR_NONE_CONFED_SUB_STEP3;
   \   000000F4   E003               LDI     R16, 3
   \   000000F6   E010               LDI     R17, 0
   \   000000F8   9612               ADIW    R27:R26, 2
   \   000000FA   930D               ST      X+, R16
   \   000000FC   931C               ST      X, R17
   \   000000FE   9713               SBIW    R27:R26, 3
   1866              	}
   1867          		}
   1868          	}
   1869          		
   1870          	if(state.main_state == SENSOR_NONE_CONFED_SUB_STEP3)
   \                     ??scs_pnl_none_confed_slave_3:
   \   00000100   9612               ADIW    R27:R26, 2
   \   00000102   910D               LD      R16, X+
   \   00000104   911C               LD      R17, X
   \   00000106   9713               SBIW    R27:R26, 3
   \   00000108   3003               CPI     R16, 3
   \   0000010A   E020               LDI     R18, 0
   \   0000010C   0712               CPC     R17, R18
   \   0000010E   F589               BRNE    ??scs_pnl_none_confed_slave_4
   1871          	{
   1872          		if(Time_delay.timer_flex.time_out == 1)
   \   00000110   9100....           LDS     R16, (Time_delay + 157)
   \   00000114   3001               CPI     R16, 1
   \   00000116   F441               BRNE    ??scs_pnl_none_confed_slave_5
   1873          		{
   1874          		  led_blinking_normal();
   \   00000118   ....               RCALL   led_blinking_normal
   1875          		  state.main_state = STATE_NORMAL;
   \   0000011A   E000               LDI     R16, 0
   \   0000011C   9612               ADIW    R27:R26, 2
   \   0000011E   930D               ST      X+, R16
   \   00000120   930C               ST      X, R16
   \   00000122   9713               SBIW    R27:R26, 3
   1876          			state.pnl_slave = NORMAL;
   \   00000124   9300....           STS     (state + 4), R16
   1877          		}
   1878          		
   1879          		if( key_result.short_pressed)
   \                     ??scs_pnl_none_confed_slave_5:
   \   00000128   9100....           LDS     R16, key_result
   \   0000012C   2300               TST     R16
   \   0000012E   F409               BRNE    $+2+2
   \   00000130   C080               RJMP    ??scs_pnl_none_confed_slave_6
   1880          		{
   1881          			key_result.short_pressed = 0;
   \   00000132   E000               LDI     R16, 0
   \   00000134   9300....           STS     key_result, R16
   1882          			led_blinking(100,0);
   \   00000138   E040               LDI     R20, 0
   \   0000013A   E050               LDI     R21, 0
   \   0000013C   E060               LDI     R22, 0
   \   0000013E   E070               LDI     R23, 0
   \   00000140   E604               LDI     R16, 100
   \   00000142   E010               LDI     R17, 0
   \   00000144   E020               LDI     R18, 0
   \   00000146   E030               LDI     R19, 0
   \   00000148   ....               RCALL   led_blinking
   1883          			delay_ms(5000);
   \   0000014A   E808               LDI     R16, 136
   \   0000014C   E113               LDI     R17, 19
   \   0000014E   ........           CALL    delay_ms
   1884          			state.main_state = NORMAL;
   \   00000152   E000               LDI     R16, 0
   \   00000154   9612               ADIW    R27:R26, 2
   \   00000156   930D               ST      X+, R16
   \   00000158   930C               ST      X, R16
   1885          			state.pnl_slave = NORMAL;
   \   0000015A   9300....           STS     (state + 4), R16
   1886          			flags.scs_pnl_group_sensor_starded = NORMAL;
   \   0000015E   ....               LDI     R30, LOW(flags)
   \   00000160   ....               LDI     R31, (flags) >> 8
   \   00000162   8102               LDD     R16, Z+2
   \   00000164   8113               LDD     R17, Z+3
   \   00000166   7F1E               ANDI    R17, 0xFE
   \   00000168   8313               STD     Z+3, R17
   \   0000016A   8302               STD     Z+2, R16
   1887          			led_blinking_normal();
   \   0000016C   ....               RCALL   led_blinking_normal
   1888          			return 1;
   \   0000016E   E001               LDI     R16, 1
   \   00000170   C061               RJMP    ??scs_pnl_none_confed_slave_7
   1889          		}
   1890          	}
   1891          	else if(state.main_state == SENSOR_NONE_CONFED_SUB_STEP31)
   \                     ??scs_pnl_none_confed_slave_4:
   \   00000172   9612               ADIW    R27:R26, 2
   \   00000174   910D               LD      R16, X+
   \   00000176   911C               LD      R17, X
   \   00000178   9713               SBIW    R27:R26, 3
   \   0000017A   3004               CPI     R16, 4
   \   0000017C   0712               CPC     R17, R18
   \   0000017E   F559               BRNE    ??scs_pnl_none_confed_slave_8
   \   00000180   9100....           LDS     R16, (g_asc_reception_buffer + 6)
   \   00000184   3009               CPI     R16, 9
   \   00000186   F009               BREQ    $+2+2
   \   00000188   C054               RJMP    ??scs_pnl_none_confed_slave_6
   \   0000018A   9100....           LDS     R16, (g_asc_reception_buffer + 7)
   \   0000018E   3400               CPI     R16, 64
   \   00000190   F009               BREQ    $+2+2
   \   00000192   C04F               RJMP    ??scs_pnl_none_confed_slave_6
   1892          	{
   1893          		if(g_asc_reception_buffer[6] == 0x09 && g_asc_reception_buffer[7] == 0x40)
   1894          		{
   1895          			load_default_advance_parameter();
   \   00000194   ....               RCALL   load_default_advance_parameter
   \   00000196   9100....           LDS     R16, (g_asc_reception_buffer + 5)
   \   0000019A   9300....           STS     (KO_conf + 7), R16
   1896          			KO_conf.GS1 = g_asc_reception_buffer[5];
   1897          			ee_KO_conf.GS1 = g_asc_reception_buffer[5];
   \   0000019E   9100....           LDS     R16, (g_asc_reception_buffer + 5)
   \   000001A2   ....               LDI     R20, LOW((ee_KO_conf + 7))
   \   000001A4   ....               LDI     R21, HIGH((ee_KO_conf + 7))
   \   000001A6   ........           CALL    __eeput8_16
   1898          			KO_conf.GR = g_asc_reception_buffer[5];
   \   000001AA   9100....           LDS     R16, (g_asc_reception_buffer + 5)
   \   000001AE   9300....           STS     (KO_conf + 6), R16
   1899          			ee_KO_conf.GR = g_asc_reception_buffer[5];
   \   000001B2   9100....           LDS     R16, (g_asc_reception_buffer + 5)
   \   000001B6   ....               LDI     R20, LOW((ee_KO_conf + 6))
   \   000001B8   ....               LDI     R21, HIGH((ee_KO_conf + 6))
   \   000001BA   ........           CALL    __eeput8_16
   1900          			send_group_pnl_frame(ANSWER,KO_conf.GS1,GROUP_CONFIRM);
   \   000001BE   E321               LDI     R18, 49
   \   000001C0   9110....           LDS     R17, (KO_conf + 7)
   \   000001C4   E304               LDI     R16, 52
   \   000001C6   ........           CALL    send_group_pnl_frame
   1901          			state.main_state = WAIT_END_PNL;
   \   000001CA   E005               LDI     R16, 5
   \   000001CC   E010               LDI     R17, 0
   \   000001CE   9612               ADIW    R27:R26, 2
   \   000001D0   930D               ST      X+, R16
   \   000001D2   931C               ST      X, R17
   \   000001D4   C02E               RJMP    ??scs_pnl_none_confed_slave_6
   1902          		}
   1903          	}
   1904          	else if(state.main_state == WAIT_END_PNL)
   \                     ??scs_pnl_none_confed_slave_8:
   \   000001D6   9612               ADIW    R27:R26, 2
   \   000001D8   910D               LD      R16, X+
   \   000001DA   911C               LD      R17, X
   \   000001DC   9713               SBIW    R27:R26, 3
   \   000001DE   3005               CPI     R16, 5
   \   000001E0   0712               CPC     R17, R18
   \   000001E2   F539               BRNE    ??scs_pnl_none_confed_slave_6
   1905          	{
   1906          		if( key_result.short_pressed)
   \   000001E4   9100....           LDS     R16, key_result
   \   000001E8   2300               TST     R16
   \   000001EA   F119               BREQ    ??scs_pnl_none_confed_slave_6
   1907          		{
   1908          			key_result.short_pressed = 0;
   \   000001EC   9320....           STS     key_result, R18
   1909          			product_information.conf_type = ADVANCED;
   \   000001F0   E002               LDI     R16, 2
   \   000001F2   9300....           STS     product_information, R16
   1910          			ee_product_information.conf_type = ADVANCED;
   \   000001F6   ....               LDI     R20, LOW(ee_product_information)
   \   000001F8   ....               LDI     R21, (ee_product_information) >> 8
   \   000001FA   ........           CALL    __eeput8_16
   1911          			send_group_pnl_frame(SET,KO_conf.GS1,GROUP_END_PNL);
   \   000001FE   E426               LDI     R18, 70
   \   00000200   9110....           LDS     R17, (KO_conf + 7)
   \   00000204   E302               LDI     R16, 50
   \   00000206   ........           CALL    send_group_pnl_frame
   1912          			send_frame_pp_broad("B000990F",TRANS_DELAY);
   \   0000020A   E322               LDI     R18, 50
   \   0000020C   E030               LDI     R19, 0
   \   0000020E   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 35))
   \   00000210   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 35))
   \   00000212   ........           CALL    send_frame_pp_broad
   1913          			state.main_state = NORMAL;
   \   00000216   E000               LDI     R16, 0
   \   00000218   9612               ADIW    R27:R26, 2
   \   0000021A   930D               ST      X+, R16
   \   0000021C   930C               ST      X, R16
   1914          			state.pnl_slave = NORMAL;
   \   0000021E   9300....           STS     (state + 4), R16
   1915          			flags.scs_pnl_group_sensor_starded = NORMAL;
   \   00000222   ....               LDI     R30, LOW(flags)
   \   00000224   ....               LDI     R31, (flags) >> 8
   \   00000226   8102               LDD     R16, Z+2
   \   00000228   8113               LDD     R17, Z+3
   \   0000022A   7F1E               ANDI    R17, 0xFE
   \   0000022C   8313               STD     Z+3, R17
   \   0000022E   8302               STD     Z+2, R16
   1916          			led_blinking_normal();
   \   00000230   ....               RCALL   led_blinking_normal
   1917          		}
   1918          	}
   1919          	return 0;
   \                     ??scs_pnl_none_confed_slave_6:
   \   00000232   E000               LDI     R16, 0
   \                     ??scs_pnl_none_confed_slave_7:
   \   00000234   91A9               LD      R26, Y+
   \   00000236   91B9               LD      R27, Y+
   \   00000238   9508               RET
   1920          }
   1921          

   \                                 In  segment CODE, align 2, keep-with-next
   1922          void scs_pnl_group_sensor_detector(void)
   \                     scs_pnl_group_sensor_detector:
   1923          {
   1924          
   1925          }
   \   00000000   9508               RET
   1926          

   \                                 In  segment CODE, align 2, keep-with-next
   1927          void key_time_clear(void)
   \                     key_time_clear:
   1928          {
   1929          	Time_delay.LPB.count = 0;
   \   00000000   E000               LDI     R16, 0
   \   00000002   ....               LDI     R30, LOW((Time_delay + 116))
   \   00000004   ....               LDI     R31, HIGH((Time_delay + 116))
   \   00000006   8300               ST      Z, R16
   \   00000008   8301               STD     Z+1, R16
   \   0000000A   8302               STD     Z+2, R16
   \   0000000C   8303               STD     Z+3, R16
   1930          	Time_delay.LPB.enabled = 0;
   \   0000000E   9300....           STS     (Time_delay + 125), R16
   1931          }
   \   00000012   9508               RET
   1932          /*
   1933          void led_blinking_double(unsigned long int on_ms, unsigned long int off_ms)
   1934          {
   1935            Time_delay.led_double_on.count = 0;
   1936          	Time_delay.led_double_off.count = 0;
   1937          	Time_delay.led_double_on.stack_top = (unsigned long int)(on_ms);
   1938          	Time_delay.led_double_off.stack_top = (unsigned long int)(off_ms);
   1939          	Time_delay.led_double_on.enabled = 1;
   1940          	Time_delay.led_double_off.enabled = 1;
   1941          }
   1942          */

   \                                 In  segment CODE, align 2, keep-with-next
   1943          void led_blinking_double_disable(void)
   \                     led_blinking_double_disable:
   1944          {
   1945          	LLED_OFF;
   \   00000000   9A5E               SBI     0x0B, 0x06
   1946          	DLED_OFF;
   \   00000002   9A46               SBI     0x08, 0x06
   1947            Time_delay.led_double_on.enabled = 1;
   \   00000004   E001               LDI     R16, 1
   \   00000006   9300....           STS     (Time_delay + 246), R16
   1948          	Time_delay.led_double_off.enabled = 1;
   \   0000000A   9300....           STS     (Time_delay + 257), R16
   1949          }
   \   0000000E   9508               RET
   \   00000010                      REQUIRE _A_PORTD
   \   00000010                      REQUIRE _A_PORTC
   1950          

   \                                 In  segment CODE, align 2, keep-with-next
   1951          void led_blinking(unsigned long int on_ms, unsigned long int off_ms)
   \                     led_blinking:
   1952          {
   \   00000000   2E08               MOV     R0, R24
   1953          	Time_delay.led_on.count = 0;
   \   00000002   E080               LDI     R24, 0
   \   00000004   ....               LDI     R30, LOW((Time_delay + 127))
   \   00000006   ....               LDI     R31, HIGH((Time_delay + 127))
   \   00000008   8380               ST      Z, R24
   \   0000000A   8381               STD     Z+1, R24
   \   0000000C   8382               STD     Z+2, R24
   \   0000000E   8383               STD     Z+3, R24
   1954          	Time_delay.led_off.count = 0;
   \   00000010   ....               LDI     R30, LOW((Time_delay + 138))
   \   00000012   ....               LDI     R31, HIGH((Time_delay + 138))
   \   00000014   8380               ST      Z, R24
   \   00000016   8381               STD     Z+1, R24
   \   00000018   8382               STD     Z+2, R24
   \   0000001A   8383               STD     Z+3, R24
   1955          	Time_delay.led_on.stack_top = (unsigned long int)(on_ms);
   \   0000001C   ....               LDI     R30, LOW((Time_delay + 131))
   \   0000001E   ....               LDI     R31, HIGH((Time_delay + 131))
   \   00000020   8300               ST      Z, R16
   \   00000022   8311               STD     Z+1, R17
   \   00000024   8322               STD     Z+2, R18
   \   00000026   8333               STD     Z+3, R19
   1956          	Time_delay.led_off.stack_top = (unsigned long int)(off_ms);
   \   00000028   ....               LDI     R30, LOW((Time_delay + 142))
   \   0000002A   ....               LDI     R31, HIGH((Time_delay + 142))
   \   0000002C   8340               ST      Z, R20
   \   0000002E   8351               STD     Z+1, R21
   \   00000030   8362               STD     Z+2, R22
   \   00000032   8373               STD     Z+3, R23
   1957          	Time_delay.led_on.enabled = 1;
   \   00000034   E001               LDI     R16, 1
   \   00000036   9300....           STS     (Time_delay + 136), R16
   1958          	Time_delay.led_off.enabled = 0;
   \   0000003A   9380....           STS     (Time_delay + 147), R24
   1959          }
   \   0000003E   2D80               MOV     R24, R0
   \   00000040   9508               RET
   1960          

   \                                 In  segment CODE, align 2, keep-with-next
   1961          void led_blinking_ms(unsigned long int on_ms,unsigned long int off_ms, unsigned long int period)
   \                     led_blinking_ms:
   1962          {
   \   00000000   ........           CALL    ?PROLOGUE4_L09
   \   00000004   818C               LDD     R24, Y+4
   \   00000006   819D               LDD     R25, Y+5
   \   00000008   81AE               LDD     R26, Y+6
   \   0000000A   81BF               LDD     R27, Y+7
   1963          	led_blinking(on_ms,off_ms);
   \   0000000C   ....               RCALL   led_blinking
   1964          	Time_delay.blinking_count.count = 0;
   \   0000000E   E000               LDI     R16, 0
   \   00000010   ....               LDI     R30, LOW((Time_delay + 182))
   \   00000012   ....               LDI     R31, HIGH((Time_delay + 182))
   \   00000014   8300               ST      Z, R16
   \   00000016   8301               STD     Z+1, R16
   \   00000018   8302               STD     Z+2, R16
   \   0000001A   8303               STD     Z+3, R16
   1965          	Time_delay.blinking_count.stack_top = period;
   \   0000001C   ....               LDI     R30, LOW((Time_delay + 186))
   \   0000001E   ....               LDI     R31, HIGH((Time_delay + 186))
   \   00000020   8380               ST      Z, R24
   \   00000022   8391               STD     Z+1, R25
   \   00000024   83A2               STD     Z+2, R26
   \   00000026   83B3               STD     Z+3, R27
   1966          	Time_delay.blinking_count.time_out = 0;
   \   00000028   9300....           STS     (Time_delay + 190), R16
   1967          	Time_delay.blinking_count.enabled = 1;
   \   0000002C   E001               LDI     R16, 1
   \   0000002E   9300....           STS     (Time_delay + 191), R16
   1968          }
   \   00000032   E0E8               LDI     R30, 8
   \   00000034   ........           JMP     ?EPILOGUE_B4_L09
   1969          

   \                                 In  segment CODE, align 2, keep-with-next
   1970          void Dled_light_on_ms(unsigned long int on_ms)
   \                     Dled_light_on_ms:
   1971          {
   1972          	Time_delay.Dled.count = 0;
   \   00000000   E040               LDI     R20, 0
   \   00000002   ....               LDI     R30, LOW((Time_delay + 215))
   \   00000004   ....               LDI     R31, HIGH((Time_delay + 215))
   \   00000006   8340               ST      Z, R20
   \   00000008   8341               STD     Z+1, R20
   \   0000000A   8342               STD     Z+2, R20
   \   0000000C   8343               STD     Z+3, R20
   1973          	Time_delay.Dled.stack_top = on_ms;
   \   0000000E   ....               LDI     R30, LOW((Time_delay + 219))
   \   00000010   ....               LDI     R31, HIGH((Time_delay + 219))
   \   00000012   8300               ST      Z, R16
   \   00000014   8311               STD     Z+1, R17
   \   00000016   8322               STD     Z+2, R18
   \   00000018   8333               STD     Z+3, R19
   1974          	Time_delay.Dled.time_out = 0;
   \   0000001A   9340....           STS     (Time_delay + 223), R20
   1975          	Time_delay.Dled.enabled = 1;
   \   0000001E   E001               LDI     R16, 1
   \   00000020   9300....           STS     (Time_delay + 224), R16
   1976          	DLED_ON;
   \   00000024   9846               CBI     0x08, 0x06
   1977          }
   \   00000026   9508               RET
   \   00000028                      REQUIRE _A_PORTC
   1978          

   \                                 In  segment CODE, align 2, keep-with-next
   1979          void led_blinking_disable(unsigned char state)
   \                     led_blinking_disable:
   1980          {
   1981          	Time_delay.led_on.enabled = 0;
   \   00000000   E010               LDI     R17, 0
   \   00000002   9310....           STS     (Time_delay + 136), R17
   1982          	Time_delay.led_off.enabled = 0;
   \   00000006   9310....           STS     (Time_delay + 147), R17
   1983          	if(state == 1)
   \   0000000A   3001               CPI     R16, 1
   \   0000000C   F411               BRNE    ??led_blinking_disable_0
   1984          		LLED_ON;
   \   0000000E   985E               CBI     0x0B, 0x06
   \   00000010   9508               RET
   1985          	else if(state == 0)
   \                     ??led_blinking_disable_0:
   \   00000012   2300               TST     R16
   \   00000014   F409               BRNE    ??led_blinking_disable_1
   1986          		LLED_OFF;
   \   00000016   9A5E               SBI     0x0B, 0x06
   1987          }
   \                     ??led_blinking_disable_1:
   \   00000018   9508               RET
   \   0000001A                      REQUIRE _A_PORTD
   1988          

   \                                 In  segment CODE, align 2, keep-with-next
   1989          void timer_flex_initial(unsigned long int ms)
   \                     timer_flex_initial:
   1990          {
   1991          	Time_delay.timer_flex.stack_top = ms;
   \   00000000   ....               LDI     R30, LOW((Time_delay + 153))
   \   00000002   ....               LDI     R31, HIGH((Time_delay + 153))
   \   00000004   8300               ST      Z, R16
   \   00000006   8311               STD     Z+1, R17
   \   00000008   8322               STD     Z+2, R18
   \   0000000A   8333               STD     Z+3, R19
   1992          	Time_delay.timer_flex.count = 0;
   \   0000000C   E000               LDI     R16, 0
   \   0000000E   ....               LDI     R30, LOW((Time_delay + 149))
   \   00000010   ....               LDI     R31, HIGH((Time_delay + 149))
   \   00000012   8300               ST      Z, R16
   \   00000014   8301               STD     Z+1, R16
   \   00000016   8302               STD     Z+2, R16
   \   00000018   8303               STD     Z+3, R16
   1993          	Time_delay.timer_flex.time_out = 0;
   \   0000001A   9300....           STS     (Time_delay + 157), R16
   1994          	Time_delay.timer_flex.started = 1;
   \   0000001E   E001               LDI     R16, 1
   \   00000020   9300....           STS     (Time_delay + 159), R16
   1995          	Time_delay.timer_flex.enabled = 1;
   \   00000024   9300....           STS     (Time_delay + 158), R16
   1996          }
   \   00000028   9508               RET
   1997          

   \                                 In  segment CODE, align 2, keep-with-next
   1998          void timer_flex2_initial(unsigned long int ms)
   \                     timer_flex2_initial:
   1999          {
   2000          	Time_delay.timer_flex2.stack_top = ms;
   \   00000000   ....               LDI     R30, LOW((Time_delay + 208))
   \   00000002   ....               LDI     R31, HIGH((Time_delay + 208))
   \   00000004   8300               ST      Z, R16
   \   00000006   8311               STD     Z+1, R17
   \   00000008   8322               STD     Z+2, R18
   \   0000000A   8333               STD     Z+3, R19
   2001          	Time_delay.timer_flex2.count = 0;
   \   0000000C   E000               LDI     R16, 0
   \   0000000E   ....               LDI     R30, LOW((Time_delay + 204))
   \   00000010   ....               LDI     R31, HIGH((Time_delay + 204))
   \   00000012   8300               ST      Z, R16
   \   00000014   8301               STD     Z+1, R16
   \   00000016   8302               STD     Z+2, R16
   \   00000018   8303               STD     Z+3, R16
   2002          	Time_delay.timer_flex2.time_out = 0;
   \   0000001A   9300....           STS     (Time_delay + 212), R16
   2003          	Time_delay.timer_flex2.started = 1;
   \   0000001E   E001               LDI     R16, 1
   \   00000020   9300....           STS     (Time_delay + 214), R16
   2004          	Time_delay.timer_flex2.enabled = 1;
   \   00000024   9300....           STS     (Time_delay + 213), R16
   2005          }
   \   00000028   9508               RET
   2006          

   \                                 In  segment CODE, align 2, keep-with-next
   2007          void timer_dimmer_initial(unsigned long int ms)
   \                     timer_dimmer_initial:
   2008          {
   2009            Time_delay.dimmer.stack_top = ms;
   \   00000000   ....               LDI     R30, LOW((Time_delay + 263))
   \   00000002   ....               LDI     R31, HIGH((Time_delay + 263))
   \   00000004   8300               ST      Z, R16
   \   00000006   8311               STD     Z+1, R17
   \   00000008   8322               STD     Z+2, R18
   \   0000000A   8333               STD     Z+3, R19
   2010          	Time_delay.dimmer.count = 0;
   \   0000000C   E000               LDI     R16, 0
   \   0000000E   ....               LDI     R30, LOW((Time_delay + 259))
   \   00000010   ....               LDI     R31, HIGH((Time_delay + 259))
   \   00000012   8300               ST      Z, R16
   \   00000014   8301               STD     Z+1, R16
   \   00000016   8302               STD     Z+2, R16
   \   00000018   8303               STD     Z+3, R16
   2011          	Time_delay.dimmer.time_out = 0;
   \   0000001A   9300....           STS     (Time_delay + 267), R16
   2012          	Time_delay.dimmer.started = 1;
   \   0000001E   E001               LDI     R16, 1
   \   00000020   9300....           STS     (Time_delay + 269), R16
   2013          	Time_delay.dimmer.enabled = 1;
   \   00000024   9300....           STS     (Time_delay + 268), R16
   2014          }
   \   00000028   9508               RET
   2015          

   \                                 In  segment CODE, align 2, keep-with-next
   2016          void all_reception_buffer_clear(void)
   \                     all_reception_buffer_clear:
   2017          {
   2018          	unsigned char i;
   2019          	for(i=0;i<DEEP;i++)
   \   00000000   E040               LDI     R20, 0
   \   00000002   C010               RJMP    ??all_reception_buffer_clear_0
   2020          	{
   2021          		if(scs_frame[i].finished != 0)
   \                     ??all_reception_buffer_clear_1:
   \   00000004   E050               LDI     R21, 0
   \   00000006   E108               LDI     R16, 24
   \   00000008   E010               LDI     R17, 0
   \   0000000A   ........           CALL    ?S_EC_MUL_L02
   \   0000000E   ....               LDI     R30, LOW(scs_frame)
   \   00000010   ....               LDI     R31, (scs_frame) >> 8
   \   00000012   0FE0               ADD     R30, R16
   \   00000014   1FF1               ADC     R31, R17
   \   00000016   8906               LDD     R16, Z+22
   \   00000018   2300               TST     R16
   \   0000001A   F011               BREQ    ??all_reception_buffer_clear_2
   2022          		{
   2023          			scs_frame[i].finished = 1;
   \   0000001C   E001               LDI     R16, 1
   \   0000001E   8B06               STD     Z+22, R16
   2024          		}
   2025          
   2026              scs_frame[i].byte[20] = 0;
   \                     ??all_reception_buffer_clear_2:
   \   00000020   8B54               STD     Z+20, R21
   2027          	}
   \   00000022   9543               INC     R20
   \                     ??all_reception_buffer_clear_0:
   \   00000024   3243               CPI     R20, 35
   \   00000026   F370               BRCS    ??all_reception_buffer_clear_1
   2028          	reception_buffer_clear(0);
   \   00000028   E000               LDI     R16, 0
   \   0000002A   ........           CALL    reception_buffer_clear
   2029          }
   \   0000002E   9508               RET
   2030          

   \                                 In  segment CODE, align 2, keep-with-next
   2031          void manual_reception_buffer_clear(void)
   \                     manual_reception_buffer_clear:
   2032          {
   2033            unsigned char i;
   2034          	for(i=0;i<DEEP;i++)
   \   00000000   E040               LDI     R20, 0
   \   00000002   C00C               RJMP    ??manual_reception_buffer_clear_0
   2035          	{
   2036          		scs_frame[i].finished = 0;
   \                     ??manual_reception_buffer_clear_1:
   \   00000004   E050               LDI     R21, 0
   \   00000006   E108               LDI     R16, 24
   \   00000008   E010               LDI     R17, 0
   \   0000000A   ........           CALL    ?S_EC_MUL_L02
   \   0000000E   ....               LDI     R30, LOW(scs_frame)
   \   00000010   ....               LDI     R31, (scs_frame) >> 8
   \   00000012   0FE0               ADD     R30, R16
   \   00000014   1FF1               ADC     R31, R17
   \   00000016   8B56               STD     Z+22, R21
   2037              scs_frame[i].byte[20] = 0;
   \   00000018   8B54               STD     Z+20, R21
   2038          	}
   \   0000001A   9543               INC     R20
   \                     ??manual_reception_buffer_clear_0:
   \   0000001C   3243               CPI     R20, 35
   \   0000001E   F390               BRCS    ??manual_reception_buffer_clear_1
   2039          }
   \   00000020   9508               RET
   2040          

   \                                 In  segment CODE, align 2, keep-with-next
   2041          void start_conf(void)
   \                     start_conf:
   2042          {
   \   00000000   938A               ST      -Y, R24
   \   00000002   972A               SBIW    R29:R28, 10
   2043          	unsigned char  buffer[3];
   2044            volatile unsigned char ko_confed;
   2045          	unsigned char buffer_gateway[6];
   2046          	unsigned char i;
   2047          	
   2048          	#ifndef NO_CONFIGURATOR_HOUSING
   2049            if(flags.id_confed)
   2050            {
   2051          		while(power_up_configuration() != 0)
   2052          		{
   2053          			if(flags.diagnostic != 1)
   2054          			{
   2055          				led_blinking(200,1000);
   2056          				KO[0] = '0';
   2057                  KO[1] = '2';
   2058                  KO[2] = '0';
   2059                  KO[3] = '3';
   2060          				diagnostic_frame();
   2061          				flags.diagnostic = 1;
   2062          			}
   2063          		}
   2064          		
   2065          		if( ee_product_information.conf_type == 0 )
   2066              	ee_configurators = Configurators;
   2067            }
   2068          	#else
   2069          
   2070          	#endif
   2071            //configuration for gateway
   2072          	put_s("$09\r");
   \   00000004   ....               LDI     R16, LOW(`?<Constant "$09\\r">`)
   \   00000006   ....               LDI     R17, (`?<Constant "$09\\r">`) >> 8
   \   00000008   ........           CALL    put_s
   2073          	for(i=0;i<200;i++)
   \   0000000C   E080               LDI     R24, 0
   \   0000000E   C005               RJMP    ??start_conf_0
   2074            {
   2075              if(is_gateway_busy() == 0x13)
   2076              {
   2077          			break;
   2078          		}
   2079          		else
   2080          		{
   2081                delay_ms(10);
   \                     ??start_conf_1:
   \   00000010   E00A               LDI     R16, 10
   \   00000012   E010               LDI     R17, 0
   \   00000014   ........           CALL    delay_ms
   2082          		}
   \   00000018   9583               INC     R24
   \                     ??start_conf_0:
   \   0000001A   3C88               CPI     R24, 200
   \   0000001C   F420               BRCC    ??start_conf_2
   \   0000001E   ........           CALL    is_gateway_busy
   \   00000022   3103               CPI     R16, 19
   \   00000024   F7A9               BRNE    ??start_conf_1
   2083            }
   2084          	
   2085          	//put_s("$13\r");
   2086          	//delay_ms(2000);
   2087          	
   2088            put_s("$270500\r");
   \                     ??start_conf_2:
   \   00000026   ....               LDI     R16, LOW((`?<Constant "$09\\r">` + 5))
   \   00000028   ....               LDI     R17, HIGH((`?<Constant "$09\\r">` + 5))
   \   0000002A   ........           CALL    put_s
   2089            delay_ms(50);
   \   0000002E   E302               LDI     R16, 50
   \   00000030   E010               LDI     R17, 0
   \   00000032   ........           CALL    delay_ms
   2090            put_s("$021000\r");
   \   00000036   ....               LDI     R16, LOW((`?<Constant "$09\\r">` + 14))
   \   00000038   ....               LDI     R17, HIGH((`?<Constant "$09\\r">` + 14))
   \   0000003A   ........           CALL    put_s
   2091            delay_ms(50);
   \   0000003E   E302               LDI     R16, 50
   \   00000040   E010               LDI     R17, 0
   \   00000042   ........           CALL    delay_ms
   2092          	
   2093          	buffer_gateway[0] = '$';
   \   00000046   E204               LDI     R16, 36
   \   00000048   830C               STD     Y+4, R16
   2094          	buffer_gateway[1] = '1';
   \   0000004A   E301               LDI     R16, 49
   \   0000004C   830D               STD     Y+5, R16
   2095          	buffer_gateway[2] = '6';
   \   0000004E   E306               LDI     R16, 54
   \   00000050   830E               STD     Y+6, R16
   2096          	buffer_gateway[3] = '2';
   \   00000052   E302               LDI     R16, 50
   \   00000054   830F               STD     Y+7, R16
   2097          	buffer_gateway[4] = '2';
   \   00000056   8708               STD     Y+8, R16
   2098          	buffer_gateway[5] = 0x0D;
   \   00000058   E00D               LDI     R16, 13
   \   0000005A   8709               STD     Y+9, R16
   2099            put_s(buffer_gateway);
   \   0000005C   018E               MOVW    R17:R16, R29:R28
   \   0000005E   5F0C               SUBI    R16, 252
   \   00000060   4F1F               SBCI    R17, 255
   \   00000062   ........           CALL    put_s
   2100          	
   2101          	/*
   2102          	put_s("$1600\r");
   2103            delay_ms(50);
   2104            */
   2105            if(ee_flags.manual_initialize)
   \   00000066   ....               LDI     R20, LOW(ee_flags)
   \   00000068   ....               LDI     R21, (ee_flags) >> 8
   \   0000006A   ........           CALL    __eeget16_16
   \   0000006E   7001               ANDI    R16, 0x01
   \   00000070   F0B9               BREQ    ??start_conf_3
   2106            {
   2107              led_blinking_normal();
   \   00000072   ....               RCALL   led_blinking_normal
   \   00000074   C004               RJMP    ??start_conf_4
   2108              while(get_key()) delay_ms(50);
   \                     ??start_conf_5:
   \   00000076   E302               LDI     R16, 50
   \   00000078   E010               LDI     R17, 0
   \   0000007A   ........           CALL    delay_ms
   \                     ??start_conf_4:
   \   0000007E   ........           CALL    get_key
   \   00000082   2300               TST     R16
   \   00000084   F7C1               BRNE    ??start_conf_5
   2109              delay_ms(500);
   \   00000086   EF04               LDI     R16, 244
   \   00000088   E011               LDI     R17, 1
   \   0000008A   ........           CALL    delay_ms
   2110              ee_flags.manual_initialize = 0;
   \   0000008E   ....               LDI     R20, LOW(ee_flags)
   \   00000090   ....               LDI     R21, (ee_flags) >> 8
   \   00000092   ........           CALL    __eeget16_16
   \   00000096   7F0E               ANDI    R16, 0xFE
   \   00000098   ....               LDI     R20, LOW(ee_flags)
   \   0000009A   ....               LDI     R21, (ee_flags) >> 8
   \   0000009C   ........           CALL    __eeput16_16
   \                     ??start_conf_3:
   \   000000A0   ....               LDI     R20, LOW(ee_product_information)
   \   000000A2   ....               LDI     R21, (ee_product_information) >> 8
   \   000000A4   ........           CALL    __eeget8_16
   \   000000A8   2300               TST     R16
   \   000000AA   F039               BREQ    ??start_conf_6
   \   000000AC   ....               LDI     R20, LOW(ee_product_information)
   \   000000AE   ....               LDI     R21, (ee_product_information) >> 8
   \   000000B0   ........           CALL    __eeget8_16
   \   000000B4   3001               CPI     R16, 1
   \   000000B6   F009               BREQ    $+2+2
   \   000000B8   C09C               RJMP    ??start_conf_7
   \                     ??start_conf_6:
   \   000000BA   ....               LDI     R30, LOW(Configurators)
   \   000000BC   ....               LDI     R31, (Configurators) >> 8
   \   000000BE   ....               LDI     R20, LOW(ee_configurators)
   \   000000C0   ....               LDI     R21, (ee_configurators) >> 8
   \   000000C2   E016               LDI     R17, 6
   \   000000C4   E020               LDI     R18, 0
   \   000000C6   ........           CALL    ?ML_EEPROM_SRAM_16_16_L07
   2111            }
   2112            //flags.manual_initialize = 0;
   2113          
   2114          	if(ee_product_information.conf_type == BASIC_PHYSICAL || ee_product_information.conf_type == BASIC_VIRTUAL)
   2115          	{
   2116              Configurators = ee_configurators;
   2117          		buffer[0] = Configurators.A;
   \   000000CA   9100....           LDS     R16, (Configurators + 1)
   \   000000CE   8309               STD     Y+1, R16
   2118          		buffer[1] = Configurators.PL;
   \   000000D0   9100....           LDS     R16, (Configurators + 2)
   \   000000D4   830A               STD     Y+2, R16
   2119          		KO_conf.DesAdd = StrToChar(buffer);
   \   000000D6   018E               MOVW    R17:R16, R29:R28
   \   000000D8   5F0F               SUBI    R16, 255
   \   000000DA   4F1F               SBCI    R17, 255
   \   000000DC   ........           CALL    StrToChar
   \   000000E0   9300....           STS     (KO_conf + 2), R16
   \   000000E4   018E               MOVW    R17:R16, R29:R28
   \   000000E6   5F0F               SUBI    R16, 255
   \   000000E8   4F1F               SBCI    R17, 255
   2120          		ee_KO_conf.DesAdd = StrToChar(buffer);
   \   000000EA   ........           CALL    StrToChar
   \   000000EE   ....               LDI     R20, LOW((ee_KO_conf + 2))
   \   000000F0   ....               LDI     R21, HIGH((ee_KO_conf + 2))
   \   000000F2   ........           CALL    __eeput8_16
   2121          
   2122              switch(Configurators.M)
   \   000000F6   9100....           LDS     R16, (Configurators + 3)
   \   000000FA   5300               SUBI    R16, 48
   \   000000FC   F051               BREQ    ??start_conf_8
   \   000000FE   950A               DEC     R16
   \   00000100   F109               BREQ    ??start_conf_9
   \   00000102   950A               DEC     R16
   \   00000104   F179               BREQ    ??start_conf_10
   \   00000106   950A               DEC     R16
   \   00000108   F021               BREQ    ??start_conf_8
   \   0000010A   950A               DEC     R16
   \   0000010C   F409               BRNE    $+2+2
   \   0000010E   C052               RJMP    ??start_conf_11
   \   00000110   C0E4               RJMP    ??start_conf_12
   \                     ??start_conf_8:
   \   00000112   E300               LDI     R16, 48
   \   00000114   ....               LDI     R20, LOW(ee_KO)
   \   00000116   ....               LDI     R21, (ee_KO) >> 8
   \   00000118   ........           CALL    __eeput8_16
   2123              {
   2124                case '0':
   2125                  #ifdef NONE_CONFED_203
   2126                    ee_KO[0] = '0';
   2127                    ee_KO[1] = '0';
   \   0000011C   ....               LDI     R20, LOW((ee_KO + 1))
   \   0000011E   ....               LDI     R21, HIGH((ee_KO + 1))
   \   00000120   ........           CALL    __eeput8_16
   2128                    ee_KO[2] = 'A';
   \   00000124   E401               LDI     R16, 65
   \   00000126   ....               LDI     R20, LOW((ee_KO + 2))
   \   00000128   ....               LDI     R21, HIGH((ee_KO + 2))
   \   0000012A   ........           CALL    __eeput8_16
   2129                    ee_KO[3] = '8';
   \   0000012E   E308               LDI     R16, 56
   \                     ??start_conf_13:
   \   00000130   ....               LDI     R20, LOW((ee_KO + 3))
   \   00000132   ....               LDI     R21, HIGH((ee_KO + 3))
   \   00000134   ........           CALL    __eeput8_16
   2130                    ee_product_information.cen_system = NOT_CEN;
   \                     ??start_conf_14:
   \   00000138   E000               LDI     R16, 0
   \                     ??start_conf_15:
   \   0000013A   ....               LDI     R20, LOW((ee_product_information + 4))
   \   0000013C   ....               LDI     R21, HIGH((ee_product_information + 4))
   \                     ??start_conf_16:
   \   0000013E   ........           CALL    __eeput8_16
   \   00000142   C0CB               RJMP    ??start_conf_12
   \                     ??start_conf_9:
   \   00000144   E300               LDI     R16, 48
   \   00000146   ....               LDI     R20, LOW(ee_KO)
   \   00000148   ....               LDI     R21, (ee_KO) >> 8
   \   0000014A   ........           CALL    __eeput8_16
   2131                  #endif
   2132                break;
   2133          
   2134                case '1':
   2135                  #ifdef NONE_CONFED_203
   2136                    ee_KO[0] = '0';
   2137                    ee_KO[1] = '0';
   \   0000014E   ....               LDI     R20, LOW((ee_KO + 1))
   \   00000150   ....               LDI     R21, HIGH((ee_KO + 1))
   \   00000152   ........           CALL    __eeput8_16
   2138                    ee_KO[2] = 'A';
   \   00000156   E401               LDI     R16, 65
   \   00000158   ....               LDI     R20, LOW((ee_KO + 2))
   \   0000015A   ....               LDI     R21, HIGH((ee_KO + 2))
   \   0000015C   ........           CALL    __eeput8_16
   2139                    ee_KO[3] = '6';
   \   00000160   E306               LDI     R16, 54
   \   00000162   CFE6               RJMP    ??start_conf_13
   \                     ??start_conf_10:
   \   00000164   E300               LDI     R16, 48
   \   00000166   ....               LDI     R20, LOW(ee_KO)
   \   00000168   ....               LDI     R21, (ee_KO) >> 8
   \   0000016A   ........           CALL    __eeput8_16
   2140                    ee_product_information.cen_system = NOT_CEN;
   2141                  #endif
   2142                break;
   2143          
   2144                case '2':
   2145                  #ifdef NONE_CONFED_203
   2146                    ee_KO[0] = '0';
   2147                    ee_KO[1] = '0';
   \   0000016E   ....               LDI     R20, LOW((ee_KO + 1))
   \   00000170   ....               LDI     R21, HIGH((ee_KO + 1))
   \   00000172   ........           CALL    __eeput8_16
   2148                    ee_KO[2] = '8';
   \   00000176   E308               LDI     R16, 56
   \   00000178   ....               LDI     R20, LOW((ee_KO + 2))
   \   0000017A   ....               LDI     R21, HIGH((ee_KO + 2))
   \   0000017C   ........           CALL    __eeput8_16
   2149                    ee_KO[3] = '0';
   \   00000180   E300               LDI     R16, 48
   \   00000182   ....               LDI     R20, LOW((ee_KO + 3))
   \   00000184   ....               LDI     R21, HIGH((ee_KO + 3))
   \   00000186   ........           CALL    __eeput8_16
   2150          					ee_KO_conf.AddressType = PP;
   \   0000018A   E000               LDI     R16, 0
   \   0000018C   ....               LDI     R20, LOW((ee_KO_conf + 1))
   \   0000018E   ....               LDI     R21, HIGH((ee_KO_conf + 1))
   \   00000190   ........           CALL    __eeput8_16
   2151                    ee_product_information.cen_system = CEN;
   \   00000194   E001               LDI     R16, 1
   \   00000196   ....               LDI     R20, LOW((ee_product_information + 4))
   \   00000198   ....               LDI     R21, HIGH((ee_product_information + 4))
   \   0000019A   ........           CALL    __eeput8_16
   2152                    ee_product_information.local_A = Configurators.A;
   \   0000019E   9100....           LDS     R16, (Configurators + 1)
   \   000001A2   ....               LDI     R20, LOW((ee_product_information + 2))
   \   000001A4   ....               LDI     R21, HIGH((ee_product_information + 2))
   \   000001A6   ........           CALL    __eeput8_16
   2153                    ee_product_information.local_PL = Configurators.PL;
   \   000001AA   9100....           LDS     R16, (Configurators + 2)
   \   000001AE   ....               LDI     R20, LOW((ee_product_information + 3))
   \   000001B0   ....               LDI     R21, HIGH((ee_product_information + 3))
   \   000001B2   CFC5               RJMP    ??start_conf_16
   \                     ??start_conf_11:
   \   000001B4   E300               LDI     R16, 48
   \   000001B6   ....               LDI     R20, LOW(ee_KO)
   \   000001B8   ....               LDI     R21, (ee_KO) >> 8
   \   000001BA   ........           CALL    __eeput8_16
   2154                  #endif
   2155                break;
   2156          
   2157                case '3':
   2158                  #ifdef NONE_CONFED_203
   2159                    ee_KO[0] = '0';
   2160                    ee_KO[1] = '0';
   2161                    ee_KO[2] = 'A';
   2162                    ee_KO[3] = '8';
   2163                    ee_product_information.cen_system = NOT_CEN;
   2164                  #endif
   2165                break;
   2166          
   2167                case '4':
   2168                  #ifdef NONE_CONFED_203
   2169                    ee_KO[0] = '0';
   2170                    ee_KO[1] = '0';
   \   000001BE   ....               LDI     R20, LOW((ee_KO + 1))
   \   000001C0   ....               LDI     R21, HIGH((ee_KO + 1))
   \   000001C2   ........           CALL    __eeput8_16
   2171                    ee_KO[2] = 'A';
   \   000001C6   E401               LDI     R16, 65
   \   000001C8   ....               LDI     R20, LOW((ee_KO + 2))
   \   000001CA   ....               LDI     R21, HIGH((ee_KO + 2))
   \   000001CC   ........           CALL    __eeput8_16
   2172                    ee_KO[3] = '6';
   \   000001D0   E306               LDI     R16, 54
   \   000001D2   ....               LDI     R20, LOW((ee_KO + 3))
   \   000001D4   ....               LDI     R21, HIGH((ee_KO + 3))
   \   000001D6   ........           CALL    __eeput8_16
   2173                    ee_product_information.cen_system = NOT_CEN;
   \   000001DA   E000               LDI     R16, 0
   \   000001DC   ....               LDI     R20, LOW((ee_product_information + 4))
   \   000001DE   ....               LDI     R21, HIGH((ee_product_information + 4))
   \   000001E0   ........           CALL    __eeput8_16
   2174                    ee_KO_conf.Reference = ee_KO_conf.DesAdd;
   \   000001E4   ....               LDI     R20, LOW((ee_KO_conf + 2))
   \   000001E6   ....               LDI     R21, HIGH((ee_KO_conf + 2))
   \   000001E8   ........           CALL    __eeget8_16
   \   000001EC   ....               LDI     R20, LOW((ee_KO_conf + 5))
   \   000001EE   ....               LDI     R21, HIGH((ee_KO_conf + 5))
   \   000001F0   CFA6               RJMP    ??start_conf_16
   2175                  #endif
   2176                break;
   2177          
   2178                default:break;
   2179              }
   2180          	}
   2181          	else if(ee_product_information.conf_type == ADVANCED)
   \                     ??start_conf_7:
   \   000001F2   ....               LDI     R20, LOW(ee_product_information)
   \   000001F4   ....               LDI     R21, (ee_product_information) >> 8
   \   000001F6   ........           CALL    __eeget8_16
   \   000001FA   3002               CPI     R16, 2
   \   000001FC   F5C9               BRNE    ??start_conf_17
   \   000001FE   E300               LDI     R16, 48
   \   00000200   9300....           STS     (Configurators + 1), R16
   2182          	{
   2183          		Configurators.A = '0';
   2184          		Configurators.PL = '0';
   \   00000204   9300....           STS     (Configurators + 2), R16
   2185          		Configurators.M = '0';
   \   00000208   9300....           STS     (Configurators + 3), R16
   2186          		Configurators.S = '0';
   \   0000020C   9300....           STS     (Configurators + 4), R16
   2187          		Configurators.T = '0';	
   \   00000210   9300....           STS     (Configurators + 5), R16
   \   00000214   ....               LDI     R20, LOW((ee_KO + 2))
   \   00000216   ....               LDI     R21, HIGH((ee_KO + 2))
   \   00000218   ........           CALL    __eeget8_16
   \   0000021C   8309               STD     Y+1, R16
   2188          
   2189              buffer[0] = ee_KO[2];
   2190              buffer[1] = ee_KO[3];
   \   0000021E   ....               LDI     R20, LOW((ee_KO + 3))
   \   00000220   ....               LDI     R21, HIGH((ee_KO + 3))
   \   00000222   ........           CALL    __eeget8_16
   \   00000226   830A               STD     Y+2, R16
   2191              ko_confed = StrToChar(buffer);
   \   00000228   018E               MOVW    R17:R16, R29:R28
   \   0000022A   5F0F               SUBI    R16, 255
   \   0000022C   4F1F               SBCI    R17, 255
   \   0000022E   ........           CALL    StrToChar
   \   00000232   8308               ST      Y, R16
   2192          #ifdef NONE_CONFED_203
   2193             switch(ko_confed)
   \   00000234   8108               LD      R16, Y
   \   00000236   5800               SUBI    R16, 128
   \   00000238   F061               BREQ    ??start_conf_18
   \   0000023A   5204               SUBI    R16, 36
   \   0000023C   F051               BREQ    ??start_conf_18
   \   0000023E   950A               DEC     R16
   \   00000240   F041               BREQ    ??start_conf_18
   \   00000242   950A               DEC     R16
   \   00000244   F021               BREQ    ??start_conf_19
   \   00000246   5002               SUBI    R16, 2
   \   00000248   F011               BREQ    ??start_conf_19
   \   0000024A   5C0F               SUBI    R16, 207
   \   0000024C   F439               BRNE    ??start_conf_20
   2194             {
   2195              case 0xA8:
   2196                ee_product_information.cen_system = NOT_CEN;
   \                     ??start_conf_19:
   \   0000024E   E000               LDI     R16, 0
   \   00000250   C001               RJMP    ??start_conf_21
   2197              break;
   2198          
   2199              case 0xA6:
   2200                ee_product_information.cen_system = NOT_CEN;
   2201                //ee_KO_conf.Reference = ee_KO_conf.DesAdd;
   2202              break;
   2203          
   2204              case 0x77:
   2205                ee_product_information.cen_system = NOT_CEN;
   2206              break;
   2207          
   2208              case 0x80:
   2209                ee_product_information.cen_system = CEN;
   \                     ??start_conf_18:
   \   00000252   E001               LDI     R16, 1
   \                     ??start_conf_21:
   \   00000254   ....               LDI     R20, LOW((ee_product_information + 4))
   \   00000256   ....               LDI     R21, HIGH((ee_product_information + 4))
   \   00000258   ........           CALL    __eeput8_16
   2210              break;
   2211          
   2212              case 0xA4:
   2213                ee_product_information.cen_system = CEN;
   2214              break;
   2215          
   2216              case 0xA5:
   2217                ee_product_information.cen_system = CEN;
   2218              break;
   2219          
   2220              default:break;
   2221             }
   2222          #endif
   2223          
   2224          #ifdef NONE_CONFED_204
   2225             switch(ko_confed)
   2226             {
   2227              case 0xA6:
   2228                ee_product_information.cen_system = NOT_CEN;
   2229              break;
   2230          
   2231              case 0xA4:
   2232                ee_product_information.cen_system = CEN;
   2233              break;
   2234          
   2235              default:break;
   2236             }
   2237          #endif
   2238          
   2239          #ifdef NONE_CONFED_203
   2240             switch(ko_confed)
   \                     ??start_conf_20:
   \   0000025C   8108               LD      R16, Y
   \   0000025E   5A05               SUBI    R16, 165
   \   00000260   F029               BREQ    ??start_conf_22
   \   00000262   5C0B               SUBI    R16, 203
   \   00000264   F011               BREQ    ??start_conf_23
   \   00000266   5007               SUBI    R16, 7
   \   00000268   F5C1               BRNE    ??start_conf_12
   2241             {
   2242              case 0x77:
   2243                ee_product_information.cen_system = NOT_CEN;
   \                     ??start_conf_23:
   \   0000026A   CF66               RJMP    ??start_conf_14
   2244              break;
   2245          
   2246              case 0xA5:
   2247                ee_product_information.cen_system = CEN;
   \                     ??start_conf_22:
   \   0000026C   E001               LDI     R16, 1
   \   0000026E   CF65               RJMP    ??start_conf_15
   2248              break;
   2249          
   2250              case 0x70:
   2251                ee_product_information.cen_system = NOT_CEN;
   2252              break;
   2253          
   2254              default:break;
   2255             }
   2256          #endif
   2257          	}
   2258          	else
   2259          	{
   2260              for(unsigned char i = 0;i<16;i++)
   \                     ??start_conf_17:
   \   00000270   E060               LDI     R22, 0
   \   00000272   C001               RJMP    ??start_conf_24
   \                     ??start_conf_25:
   \   00000274   9563               INC     R22
   \                     ??start_conf_24:
   \   00000276   3160               CPI     R22, 16
   \   00000278   F4B0               BRCC    ??start_conf_26
   2261              {
   2262                if(ee_scenario[i].confed)
   \   0000027A   ....               LDI     R18, LOW((ee_scenario + 6))
   \   0000027C   ....               LDI     R19, HIGH((ee_scenario + 6))
   \   0000027E   2F46               MOV     R20, R22
   \   00000280   E050               LDI     R21, 0
   \   00000282   E007               LDI     R16, 7
   \   00000284   E010               LDI     R17, 0
   \   00000286   ........           CALL    ?S_EC_MUL_L02
   \   0000028A   0F20               ADD     R18, R16
   \   0000028C   1F31               ADC     R19, R17
   \   0000028E   01A9               MOVW    R21:R20, R19:R18
   \   00000290   ........           CALL    __eeget8_16
   \   00000294   2300               TST     R16
   \   00000296   F371               BREQ    ??start_conf_25
   2263                {
   2264                  flags.confed = 1;
   \   00000298   ....               LDI     R30, LOW(flags)
   \   0000029A   ....               LDI     R31, (flags) >> 8
   \   0000029C   8102               LDD     R16, Z+2
   \   0000029E   8113               LDD     R17, Z+3
   \   000002A0   6200               ORI     R16, 0x20
   \   000002A2   8313               STD     Z+3, R17
   \   000002A4   8302               STD     Z+2, R16
   2265                  break;
   2266                }
   2267              }
   2268          
   2269              if(flags.confed == 0)
   \                     ??start_conf_26:
   \   000002A6   ....               LDI     R30, LOW(flags)
   \   000002A8   ....               LDI     R31, (flags) >> 8
   \   000002AA   8102               LDD     R16, Z+2
   \   000002AC   8113               LDD     R17, Z+3
   \   000002AE   FD05               SBRC    R16, 5
   \   000002B0   C009               RJMP    ??start_conf_27
   2270          		  led_blinking(120,120);
   \   000002B2   E748               LDI     R20, 120
   \   000002B4   E050               LDI     R21, 0
   \   000002B6   E060               LDI     R22, 0
   \   000002B8   E070               LDI     R23, 0
   \   000002BA   E708               LDI     R16, 120
   \   000002BC   E010               LDI     R17, 0
   \   000002BE   E020               LDI     R18, 0
   \   000002C0   E030               LDI     R19, 0
   \   000002C2   ....               RCALL   led_blinking
   \                     ??start_conf_27:
   \   000002C4   E300               LDI     R16, 48
   \   000002C6   9300....           STS     (Configurators + 1), R16
   2271          		
   2272          		Configurators.A = '0';
   2273          		Configurators.PL = '0';
   \   000002CA   9300....           STS     (Configurators + 2), R16
   2274          		Configurators.M = '0';
   \   000002CE   9300....           STS     (Configurators + 3), R16
   2275          		Configurators.S = '0';
   \   000002D2   9300....           STS     (Configurators + 4), R16
   2276          		Configurators.T = '0';	
   \   000002D6   9300....           STS     (Configurators + 5), R16
   2277          	}
   2278          
   2279            if( ee_product_information.ID_factory_assigned )
   \                     ??start_conf_12:
   \   000002DA   ....               LDI     R20, LOW((ee_product_information + 5))
   \   000002DC   ....               LDI     R21, HIGH((ee_product_information + 5))
   \   000002DE   ........           CALL    __eeget16_16
   \   000002E2   7001               ANDI    R16, 0x01
   \   000002E4   F011               BREQ    ??start_conf_28
   2280              DLED_OFF;
   \   000002E6   9A46               SBI     0x08, 0x06
   \   000002E8   C001               RJMP    ??start_conf_29
   2281            else
   2282              DLED_ON;
   \                     ??start_conf_28:
   \   000002EA   9846               CBI     0x08, 0x06
   2283          
   2284            Time_delay.led_blink.count = 0;
   \                     ??start_conf_29:
   \   000002EC   E000               LDI     R16, 0
   \   000002EE   E020               LDI     R18, 0
   \   000002F0   ....               LDI     R30, LOW((Time_delay + 160))
   \   000002F2   ....               LDI     R31, HIGH((Time_delay + 160))
   \   000002F4   8300               ST      Z, R16
   \   000002F6   8301               STD     Z+1, R16
   \   000002F8   8302               STD     Z+2, R16
   \   000002FA   8303               STD     Z+3, R16
   2285          	Time_delay.led_blink.stack_top = 999;
   \   000002FC   EE07               LDI     R16, 231
   \   000002FE   E013               LDI     R17, 3
   \   00000300   ....               LDI     R30, LOW((Time_delay + 164))
   \   00000302   ....               LDI     R31, HIGH((Time_delay + 164))
   \   00000304   8300               ST      Z, R16
   \   00000306   8311               STD     Z+1, R17
   \   00000308   8322               STD     Z+2, R18
   \   0000030A   8323               STD     Z+3, R18
   2286          	Time_delay.led_blink.enabled = 1;
   \   0000030C   E001               LDI     R16, 1
   \   0000030E   9300....           STS     (Time_delay + 169), R16
   2287          }
   \   00000312   962A               ADIW    R29:R28, 10
   \   00000314   9189               LD      R24, Y+
   \   00000316   9508               RET
   \   00000318                      REQUIRE _A_PORTC
   2288          

   \                                 In  segment CODE, align 2, keep-with-next
   2289          void factory_default(void)
   \                     factory_default:
   2290          {
   \   00000000   ........           CALL    ?PROLOGUE3_L09
   \   00000004   97E2               SBIW    R29:R28, 50
   \   00000006   9100....           LDS     R16, flash_KO
   \   0000000A   9300....           STS     KO, R16
   2291          	unsigned char i;
   2292          	unsigned char j;
   2293          	//load_default_parameter();
   2294          	//remember_parameter();				// with load default together
   2295          	
   2296          	//ID_setting("00050000");
   2297          	KO[0] = flash_KO[0];
   2298            KO[1] = flash_KO[1];
   \   0000000E   9180....           LDS     R24, (flash_KO + 1)
   \   00000012   9380....           STS     (KO + 1), R24
   2299            KO[2] = flash_KO[2];
   \   00000016   9190....           LDS     R25, (flash_KO + 2)
   \   0000001A   9390....           STS     (KO + 2), R25
   2300            KO[3] = flash_KO[3];
   \   0000001E   91A0....           LDS     R26, (flash_KO + 3)
   \   00000022   93A0....           STS     (KO + 3), R26
   2301          	KO_parameter_initial_temp();
   \   00000026   ........           CALL    KO_parameter_initial_temp
   2302          	ee_KO_conf = KO_conf;
   \   0000002A   019E               MOVW    R19:R18, R29:R28
   \   0000002C   0189               MOVW    R17:R16, R19:R18
   \   0000002E   ....               LDI     R30, LOW(KO_conf)
   \   00000030   ....               LDI     R31, (KO_conf) >> 8
   \   00000032   E342               LDI     R20, 50
   \   00000034   E050               LDI     R21, 0
   \   00000036   ........           CALL    ?ML_SRAM_SRAM_16_L07
   \   0000003A   01BE               MOVW    R23:R22, R29:R28
   \   0000003C   ....               LDI     R20, LOW(ee_KO_conf)
   \   0000003E   ....               LDI     R21, (ee_KO_conf) >> 8
   \   00000040   01FB               MOVW    R31:R30, R23:R22
   \   00000042   E312               LDI     R17, 50
   \   00000044   E020               LDI     R18, 0
   \   00000046   ........           CALL    ?ML_SRAM_EEPROM_16_16_L07
   \   0000004A   9100....           LDS     R16, flash_KO
   \   0000004E   ....               LDI     R20, LOW(ee_KO)
   \   00000050   ....               LDI     R21, (ee_KO) >> 8
   \   00000052   ........           CALL    __eeput8_16
   2303          	
   2304            ee_KO[0] = flash_KO[0];
   2305            ee_KO[1] = flash_KO[1];
   \   00000056   ....               LDI     R20, LOW((ee_KO + 1))
   \   00000058   ....               LDI     R21, HIGH((ee_KO + 1))
   \   0000005A   2F08               MOV     R16, R24
   \   0000005C   ........           CALL    __eeput8_16
   2306            ee_KO[2] = flash_KO[2];
   \   00000060   ....               LDI     R20, LOW((ee_KO + 2))
   \   00000062   ....               LDI     R21, HIGH((ee_KO + 2))
   \   00000064   2F09               MOV     R16, R25
   \   00000066   ........           CALL    __eeput8_16
   2307            ee_KO[3] = flash_KO[3];
   \   0000006A   ....               LDI     R20, LOW((ee_KO + 3))
   \   0000006C   ....               LDI     R21, HIGH((ee_KO + 3))
   \   0000006E   2F0A               MOV     R16, R26
   \   00000070   ........           CALL    __eeput8_16
   \   00000074   E000               LDI     R16, 0
   \   00000076   ....               LDI     R20, LOW((ee_product_information + 4))
   \   00000078   ....               LDI     R21, HIGH((ee_product_information + 4))
   \   0000007A   ........           CALL    __eeput8_16
   2308            ee_product_information.cen_system = 0;
   2309          	ee_product_information.conf_type = 3;
   \   0000007E   E003               LDI     R16, 3
   \   00000080   ....               LDI     R20, LOW(ee_product_information)
   \   00000082   ....               LDI     R21, (ee_product_information) >> 8
   \   00000084   ........           CALL    __eeput8_16
   2310          	//ee_product_information.ID_confed = 0;
   2311          
   2312          	ee_scenario_index = 0;
   \   00000088   E000               LDI     R16, 0
   \   0000008A   ....               LDI     R20, LOW(ee_scenario_index)
   \   0000008C   ....               LDI     R21, (ee_scenario_index) >> 8
   \   0000008E   ........           CALL    __eeput8_16
   2313            g_ns_index = 0;
   \   00000092   ....               LDI     R20, LOW(g_ns_index)
   \   00000094   ....               LDI     R21, (g_ns_index) >> 8
   \   00000096   ........           CALL    __eeput8_16
   2314          	for(i=0;i<16;i++)
   \   0000009A   E060               LDI     R22, 0
   \   0000009C   C015               RJMP    ??factory_default_0
   2315          	{
   2316          		ee_scenario[i].ns_number = 0x01;
   2317          		ee_scenario[i].reg_type = 0x01;
   2318          		for(j=0;j<3;j++)
   2319          		{
   2320          			ee_scenario[i].id[j] = 0;
   \                     ??factory_default_1:
   \   0000009E   0F4E               ADD     R20, R30
   \   000000A0   1F50               ADC     R21, R16
   \   000000A2   5F4E               SUBI    R20, 254
   \   000000A4   4F5F               SBCI    R21, 255
   \   000000A6   ........           CALL    __eeput8_16
   2321          		}
   \   000000AA   95E3               INC     R30
   \                     ??factory_default_2:
   \   000000AC   30E3               CPI     R30, 3
   \   000000AE   E000               LDI     R16, 0
   \   000000B0   01A9               MOVW    R21:R20, R19:R18
   \   000000B2   F3A8               BRCS    ??factory_default_1
   2322          		ee_scenario[i].key_number = 0;
   \   000000B4   5F4B               SUBI    R20, 251
   \   000000B6   4F5F               SBCI    R21, 255
   \   000000B8   ........           CALL    __eeput8_16
   2323          		ee_scenario[i].confed = 0;
   \   000000BC   5F2A               SUBI    R18, 250
   \   000000BE   4F3F               SBCI    R19, 255
   \   000000C0   01A9               MOVW    R21:R20, R19:R18
   \   000000C2   ........           CALL    __eeput8_16
   \   000000C6   9563               INC     R22
   \                     ??factory_default_0:
   \   000000C8   3160               CPI     R22, 16
   \   000000CA   F4A8               BRCC    ??factory_default_3
   \   000000CC   2F46               MOV     R20, R22
   \   000000CE   E050               LDI     R21, 0
   \   000000D0   E007               LDI     R16, 7
   \   000000D2   E010               LDI     R17, 0
   \   000000D4   ........           CALL    ?S_EC_MUL_L02
   \   000000D8   ....               LDI     R18, LOW(ee_scenario)
   \   000000DA   ....               LDI     R19, (ee_scenario) >> 8
   \   000000DC   0F20               ADD     R18, R16
   \   000000DE   1F31               ADC     R19, R17
   \   000000E0   E001               LDI     R16, 1
   \   000000E2   01A9               MOVW    R21:R20, R19:R18
   \   000000E4   ........           CALL    __eeput8_16
   \   000000E8   01A9               MOVW    R21:R20, R19:R18
   \   000000EA   5F4F               SUBI    R20, 255
   \   000000EC   4F5F               SBCI    R21, 255
   \   000000EE   ........           CALL    __eeput8_16
   \   000000F2   E0E0               LDI     R30, 0
   \   000000F4   CFDB               RJMP    ??factory_default_2
   2324          	}
   2325          
   2326          	ee_product_information.local_A = '0';
   \                     ??factory_default_3:
   \   000000F6   E300               LDI     R16, 48
   \   000000F8   ....               LDI     R20, LOW((ee_product_information + 2))
   \   000000FA   ....               LDI     R21, HIGH((ee_product_information + 2))
   \   000000FC   ........           CALL    __eeput8_16
   2327          	ee_product_information.local_PL = '0';
   \   00000100   ....               LDI     R20, LOW((ee_product_information + 3))
   \   00000102   ....               LDI     R21, HIGH((ee_product_information + 3))
   \   00000104   ........           CALL    __eeput8_16
   \   00000108   ....               LDI     R20, LOW((ee_configurators + 1))
   \   0000010A   ....               LDI     R21, HIGH((ee_configurators + 1))
   \   0000010C   ........           CALL    __eeput8_16
   2328          	
   2329          	ee_configurators.A = '0';
   2330          	ee_configurators.PL = '0';
   \   00000110   ....               LDI     R20, LOW((ee_configurators + 2))
   \   00000112   ....               LDI     R21, HIGH((ee_configurators + 2))
   \   00000114   ........           CALL    __eeput8_16
   2331          	ee_configurators.M = '0';
   \   00000118   ....               LDI     R20, LOW((ee_configurators + 3))
   \   0000011A   ....               LDI     R21, HIGH((ee_configurators + 3))
   \   0000011C   ........           CALL    __eeput8_16
   2332          	ee_configurators.S = '0';
   \   00000120   ....               LDI     R20, LOW((ee_configurators + 4))
   \   00000122   ....               LDI     R21, HIGH((ee_configurators + 4))
   \   00000124   ........           CALL    __eeput8_16
   2333          	ee_configurators.T = '0';
   \   00000128   ....               LDI     R20, LOW((ee_configurators + 5))
   \   0000012A   ....               LDI     R21, HIGH((ee_configurators + 5))
   \   0000012C   ........           CALL    __eeput8_16
   2334          	
   2335          	ee_flags.PnG_confed = 0;
   \   00000130   ....               LDI     R20, LOW(ee_flags)
   \   00000132   ....               LDI     R21, (ee_flags) >> 8
   \   00000134   ........           CALL    __eeget16_16
   \   00000138   7F0D               ANDI    R16, 0xFD
   \   0000013A   ....               LDI     R20, LOW(ee_flags)
   \   0000013C   ....               LDI     R21, (ee_flags) >> 8
   \   0000013E   ........           CALL    __eeput16_16
   2336          }
   \   00000142   96E2               ADIW    R29:R28, 50
   \   00000144   E0E3               LDI     R30, 3
   \   00000146   ........           JMP     ?EPILOGUE_B3_L09
   2337          

   \                                 In  segment CODE, align 2, keep-with-next
   2338          void configurator_to_KO(void)
   \                     configurator_to_KO:
   2339          {
   2340          	switch(ee_configurators.M)
   \   00000000   ....               LDI     R20, LOW((ee_configurators + 3))
   \   00000002   ....               LDI     R21, HIGH((ee_configurators + 3))
   \   00000004   ........           CALL    __eeget8_16
   \   00000008   5300               SUBI    R16, 48
   \   0000000A   F019               BREQ    ??configurator_to_KO_0
   \   0000000C   5003               SUBI    R16, 3
   \   0000000E   F089               BREQ    ??configurator_to_KO_1
   \   00000010   C03A               RJMP    ??configurator_to_KO_2
   \                     ??configurator_to_KO_0:
   \   00000012   E000               LDI     R16, 0
   \   00000014   ....               LDI     R20, LOW((ee_KO_conf + 1))
   \   00000016   ....               LDI     R21, HIGH((ee_KO_conf + 1))
   \   00000018   ........           CALL    __eeput8_16
   2341          	{
   2342          		case '0':
   2343          			ee_KO_conf.AddressType = 0;
   2344          			ee_KO_conf.FuncMod = 1;
   \   0000001C   E001               LDI     R16, 1
   \   0000001E   ....               LDI     R20, LOW((ee_KO_conf + 29))
   \   00000020   ....               LDI     R21, HIGH((ee_KO_conf + 29))
   \   00000022   ........           CALL    __eeput8_16
   2345          			ee_KO_conf.LightReg = 0;
   \   00000026   E000               LDI     R16, 0
   \   00000028   ....               LDI     R20, LOW((ee_KO_conf + 28))
   \   0000002A   ....               LDI     R21, HIGH((ee_KO_conf + 28))
   \   0000002C   ........           CALL    __eeput8_16
   2346          			ee_KO_conf.Retrigger = 0;
   \   00000030   C00F               RJMP    ??configurator_to_KO_3
   \                     ??configurator_to_KO_1:
   \   00000032   E000               LDI     R16, 0
   \   00000034   ....               LDI     R20, LOW((ee_KO_conf + 1))
   \   00000036   ....               LDI     R21, HIGH((ee_KO_conf + 1))
   \   00000038   ........           CALL    __eeput8_16
   2347          			ee_KO_conf.en_load = 1;
   2348          			ee_KO_conf.en_GS_main_group = 0;
   2349          			ee_KO_conf.TypeLoop = 0;
   2350          			ee_KO_conf.Retrigger = 0;
   2351          			//ee_KO_conf.PofL = 60;
   2352          #ifdef HARDWARE_PIR
   2353          			ee_KO_conf.InitOccu = 1;
   2354          			ee_KO_conf.MaintainOccu = 1;
   2355          #endif
   2356          			
   2357          #ifdef HARDWARE_US
   2358          			ee_KO_conf.InitOccu = 2;
   2359          			ee_KO_conf.MaintainOccu = 2;
   2360          #endif
   2361          			
   2362          #ifdef HAEDWARE_PIR_US
   2363          			ee_KO_conf.InitOccu = 3;
   2364          			ee_KO_conf.MaintainOccu = 4;
   2365          #endif
   2366          		break;
   2367          		
   2368          	case '1':
   2369          		
   2370          		break;
   2371          		
   2372          	case '2':
   2373          		break;
   2374          		
   2375          	case '3':
   2376          		ee_KO_conf.AddressType = 0;
   2377          		ee_KO_conf.FuncMod = 1;
   \   0000003C   E001               LDI     R16, 1
   \   0000003E   ....               LDI     R20, LOW((ee_KO_conf + 29))
   \   00000040   ....               LDI     R21, HIGH((ee_KO_conf + 29))
   \   00000042   ........           CALL    __eeput8_16
   2378          		ee_KO_conf.LightReg = 1;
   \   00000046   ....               LDI     R20, LOW((ee_KO_conf + 28))
   \   00000048   ....               LDI     R21, HIGH((ee_KO_conf + 28))
   \   0000004A   ........           CALL    __eeput8_16
   2379          		ee_KO_conf.Retrigger = 0;
   \   0000004E   E000               LDI     R16, 0
   \                     ??configurator_to_KO_3:
   \   00000050   ....               LDI     R20, LOW((ee_KO_conf + 32))
   \   00000052   ....               LDI     R21, HIGH((ee_KO_conf + 32))
   \   00000054   ........           CALL    __eeput8_16
   2380          		ee_KO_conf.en_load = 1;
   \   00000058   E001               LDI     R16, 1
   \   0000005A   ....               LDI     R20, LOW((ee_KO_conf + 13))
   \   0000005C   ....               LDI     R21, HIGH((ee_KO_conf + 13))
   \   0000005E   ........           CALL    __eeput8_16
   2381          		ee_KO_conf.en_GS_main_group = 0;
   \   00000062   E000               LDI     R16, 0
   \   00000064   ....               LDI     R20, LOW((ee_KO_conf + 14))
   \   00000066   ....               LDI     R21, HIGH((ee_KO_conf + 14))
   \   00000068   ........           CALL    __eeput8_16
   2382          		ee_KO_conf.TypeLoop = 0;
   \   0000006C   ....               LDI     R20, LOW((ee_KO_conf + 23))
   \   0000006E   ....               LDI     R21, HIGH((ee_KO_conf + 23))
   \   00000070   ........           CALL    __eeput8_16
   2383          		ee_KO_conf.Retrigger = 0;
   2384          		//ee_KO_conf.PofL = 60;
   2385          #ifdef HARDWARE_PIR
   2386          		ee_KO_conf.InitOccu = 1;
   \   00000074   E001               LDI     R16, 1
   \   00000076   ....               LDI     R20, LOW((ee_KO_conf + 30))
   \   00000078   ....               LDI     R21, HIGH((ee_KO_conf + 30))
   \   0000007A   ........           CALL    __eeput8_16
   2387          		ee_KO_conf.MaintainOccu = 1;
   \   0000007E   ....               LDI     R20, LOW((ee_KO_conf + 31))
   \   00000080   ....               LDI     R21, HIGH((ee_KO_conf + 31))
   \   00000082   ........           CALL    __eeput8_16
   2388          #endif
   2389          		
   2390          #ifdef HARDWARE_US
   2391          		ee_KO_conf.InitOccu = 2;
   2392          		ee_KO_conf.MaintainOccu = 2;
   2393          #endif
   2394          		
   2395          #ifdef HAEDWARE_PIR_US
   2396          		ee_KO_conf.InitOccu = 3;
   2397          		ee_KO_conf.MaintainOccu = 4;
   2398          #endif
   2399          		break;
   2400          		
   2401          	case '4':
   2402          		break;
   2403          		
   2404          	default:break;
   2405          	}
   2406          				switch(ee_configurators.S)
   \                     ??configurator_to_KO_2:
   \   00000086   ....               LDI     R20, LOW((ee_configurators + 4))
   \   00000088   ....               LDI     R21, HIGH((ee_configurators + 4))
   \   0000008A   ........           CALL    __eeget8_16
   \   0000008E   5300               SUBI    R16, 48
   \   00000090   F039               BREQ    ??configurator_to_KO_4
   \   00000092   950A               DEC     R16
   \   00000094   F039               BREQ    ??configurator_to_KO_5
   \   00000096   950A               DEC     R16
   \   00000098   F039               BREQ    ??configurator_to_KO_6
   \   0000009A   950A               DEC     R16
   \   0000009C   F039               BREQ    ??configurator_to_KO_7
   \   0000009E   C00F               RJMP    ??configurator_to_KO_8
   \                     ??configurator_to_KO_4:
   \   000000A0   E000               LDI     R16, 0
   \   000000A2   C005               RJMP    ??configurator_to_KO_9
   \                     ??configurator_to_KO_5:
   \   000000A4   E001               LDI     R16, 1
   \   000000A6   C003               RJMP    ??configurator_to_KO_9
   \                     ??configurator_to_KO_6:
   \   000000A8   E002               LDI     R16, 2
   \   000000AA   C001               RJMP    ??configurator_to_KO_9
   \                     ??configurator_to_KO_7:
   \   000000AC   E003               LDI     R16, 3
   \                     ??configurator_to_KO_9:
   \   000000AE   ....               LDI     R20, LOW((ee_KO_conf + 20))
   \   000000B0   ....               LDI     R21, HIGH((ee_KO_conf + 20))
   \   000000B2   ........           CALL    __eeput8_16
   2407          				{
   2408          				case '0':
   2409          					ee_KO_conf.PirSens = 0;
   2410          					ee_KO_conf.USSens = 0;
   2411          					break;
   2412          					
   2413          				case '1':
   2414          					ee_KO_conf.PirSens = 1;
   2415          						ee_KO_conf.USSens = 1;
   2416          					break;
   2417          					
   2418          				case '2':
   2419          					ee_KO_conf.PirSens = 2;
   2420          						ee_KO_conf.USSens = 2;
   2421          					break;
   2422          					
   2423          				case '3':
   2424          					ee_KO_conf.PirSens = 3;
   2425          						ee_KO_conf.USSens = 3;
   \   000000B6   ....               LDI     R20, LOW((ee_KO_conf + 21))
   \   000000B8   ....               LDI     R21, HIGH((ee_KO_conf + 21))
   \   000000BA   ........           CALL    __eeput8_16
   2426          					break;
   2427          					
   2428          				default:break;
   2429          				}
   2430          	
   2431          	switch( Configurators.T )
   \                     ??configurator_to_KO_8:
   \   000000BE   9100....           LDS     R16, (Configurators + 5)
   \   000000C2   ....               LDI     R30, LOW(`?<Jumptable for configurator_to_KO>_0`)
   \   000000C4   ....               LDI     R31, (`?<Jumptable for configurator_to_KO>_0`) >> 8
   \   000000C6   ........           JMP     ?CV_SWITCH_L06
   \                     ??configurator_to_KO_10:
   \   000000CA   E000               LDI     R16, 0
   \   000000CC   ....               LDI     R20, LOW((ee_KO_conf + 10))
   \   000000CE   ....               LDI     R21, HIGH((ee_KO_conf + 10))
   \   000000D0   ........           CALL    __eeput8_16
   2432          	{
   2433          		case '0':
   2434          			ee_KO_conf.Hours = 0;
   2435          			ee_KO_conf.Minutes = 10;
   \   000000D4   E00A               LDI     R16, 10
   \   000000D6   C011               RJMP    ??configurator_to_KO_11
   \                     ??configurator_to_KO_12:
   \   000000D8   E000               LDI     R16, 0
   \   000000DA   ....               LDI     R20, LOW((ee_KO_conf + 10))
   \   000000DC   ....               LDI     R21, HIGH((ee_KO_conf + 10))
   \   000000DE   ........           CALL    __eeput8_16
   2436          			ee_KO_conf.Seconds = 0;
   2437          		break;
   2438          
   2439          		case '1':
   2440          			ee_KO_conf.Hours = 0;
   2441          			ee_KO_conf.Minutes = 0;
   \   000000E2   ....               LDI     R20, LOW((ee_KO_conf + 11))
   \   000000E4   ....               LDI     R21, HIGH((ee_KO_conf + 11))
   \   000000E6   ........           CALL    __eeput8_16
   2442          			ee_KO_conf.Seconds = 30;
   \   000000EA   E10E               LDI     R16, 30
   \   000000EC   C00B               RJMP    ??configurator_to_KO_13
   \                     ??configurator_to_KO_14:
   \   000000EE   E000               LDI     R16, 0
   \   000000F0   ....               LDI     R20, LOW((ee_KO_conf + 10))
   \   000000F2   ....               LDI     R21, HIGH((ee_KO_conf + 10))
   \   000000F4   ........           CALL    __eeput8_16
   2443          		break;
   2444          
   2445          		case '2':
   2446          			ee_KO_conf.Hours = 0;
   2447          			ee_KO_conf.Minutes = 1;
   \   000000F8   E001               LDI     R16, 1
   \                     ??configurator_to_KO_11:
   \   000000FA   ....               LDI     R20, LOW((ee_KO_conf + 11))
   \   000000FC   ....               LDI     R21, HIGH((ee_KO_conf + 11))
   \   000000FE   ........           CALL    __eeput8_16
   2448          			ee_KO_conf.Seconds = 0;
   \   00000102   E000               LDI     R16, 0
   \                     ??configurator_to_KO_13:
   \   00000104   ....               LDI     R20, LOW((ee_KO_conf + 12))
   \   00000106   ....               LDI     R21, HIGH((ee_KO_conf + 12))
   \   00000108   ........           CALL    __eeput8_16
   \   0000010C   9508               RET
   \                     ??configurator_to_KO_15:
   \   0000010E   E000               LDI     R16, 0
   \   00000110   ....               LDI     R20, LOW((ee_KO_conf + 10))
   \   00000112   ....               LDI     R21, HIGH((ee_KO_conf + 10))
   \   00000114   ........           CALL    __eeput8_16
   2449          		break;
   2450          
   2451          		case '3':
   2452          			ee_KO_conf.Hours = 0;
   2453          			ee_KO_conf.Minutes = 2;
   \   00000118   E002               LDI     R16, 2
   \   0000011A   CFEF               RJMP    ??configurator_to_KO_11
   \                     ??configurator_to_KO_16:
   \   0000011C   E000               LDI     R16, 0
   \   0000011E   ....               LDI     R20, LOW((ee_KO_conf + 10))
   \   00000120   ....               LDI     R21, HIGH((ee_KO_conf + 10))
   \   00000122   ........           CALL    __eeput8_16
   2454          			ee_KO_conf.Seconds = 0;
   2455          		break;
   2456          
   2457          		case '4':
   2458          			ee_KO_conf.Hours = 0;
   2459          			ee_KO_conf.Minutes = 5;
   \   00000126   E005               LDI     R16, 5
   \   00000128   CFE8               RJMP    ??configurator_to_KO_11
   \                     ??configurator_to_KO_17:
   \   0000012A   E000               LDI     R16, 0
   \   0000012C   ....               LDI     R20, LOW((ee_KO_conf + 10))
   \   0000012E   ....               LDI     R21, HIGH((ee_KO_conf + 10))
   \   00000130   ........           CALL    __eeput8_16
   2460          			ee_KO_conf.Seconds = 0;
   2461          		break;
   2462          
   2463          		case '5':
   2464          			ee_KO_conf.Hours = 0;
   2465          			ee_KO_conf.Minutes = 10;
   2466          			ee_KO_conf.Seconds = 0;
   2467          		break;
   2468          
   2469          		case '6':
   2470          			ee_KO_conf.Hours = 0;
   2471          			ee_KO_conf.Minutes = 15;
   \   00000134   E00F               LDI     R16, 15
   \   00000136   CFE1               RJMP    ??configurator_to_KO_11
   \                     ??configurator_to_KO_18:
   \   00000138   E000               LDI     R16, 0
   \   0000013A   ....               LDI     R20, LOW((ee_KO_conf + 10))
   \   0000013C   ....               LDI     R21, HIGH((ee_KO_conf + 10))
   \   0000013E   ........           CALL    __eeput8_16
   2472          			ee_KO_conf.Seconds = 0;
   2473          		break;
   2474          
   2475          		case '7':
   2476          			ee_KO_conf.Hours = 0;
   2477          			ee_KO_conf.Minutes = 20;
   \   00000142   E104               LDI     R16, 20
   \   00000144   CFDA               RJMP    ??configurator_to_KO_11
   \                     ??configurator_to_KO_19:
   \   00000146   E000               LDI     R16, 0
   \   00000148   ....               LDI     R20, LOW((ee_KO_conf + 10))
   \   0000014A   ....               LDI     R21, HIGH((ee_KO_conf + 10))
   \   0000014C   ........           CALL    __eeput8_16
   2478          			ee_KO_conf.Seconds = 0;
   2479          		break;
   2480          
   2481          		case '8':
   2482          			ee_KO_conf.Hours = 0;
   2483          			ee_KO_conf.Minutes = 30;
   \   00000150   E10E               LDI     R16, 30
   \   00000152   CFD3               RJMP    ??configurator_to_KO_11
   \                     ??configurator_to_KO_20:
   \   00000154   E000               LDI     R16, 0
   \   00000156   ....               LDI     R20, LOW((ee_KO_conf + 10))
   \   00000158   ....               LDI     R21, HIGH((ee_KO_conf + 10))
   \   0000015A   ........           CALL    __eeput8_16
   2484          			ee_KO_conf.Seconds = 0;
   2485          		break;
   2486          
   2487          		case '9':
   2488          			ee_KO_conf.Hours = 0;
   2489          			ee_KO_conf.Minutes = 40;
   \   0000015E   E208               LDI     R16, 40
   \   00000160   ....               LDI     R20, LOW((ee_KO_conf + 11))
   \   00000162   ....               LDI     R21, HIGH((ee_KO_conf + 11))
   \   00000164   ........           CALL    __eeput8_16
   2490          			ee_KO_conf.Seconds = 0;
   \   00000168   E000               LDI     R16, 0
   \   0000016A   ....               LDI     R20, LOW((ee_KO_conf + 12))
   \   0000016C   ....               LDI     R21, HIGH((ee_KO_conf + 12))
   \   0000016E   ........           CALL    __eeput8_16
   2491          		break;
   2492          
   2493          		default: break;
   2494          	}
   2495          }
   \                     ??configurator_to_KO_21:
   \   00000172   9508               RET
   2496          

   \                                 In  segment CODE, align 2, keep-with-next
   2497          void service_main(void)
   \                     service_main:
   2498          {
   2499            switch (state.main_state)
   \   00000000   9100....           LDS     R16, (state + 2)
   \   00000004   9110....           LDS     R17, (state + 3)
   \   00000008   ....               LDI     R30, LOW(`?<Jumptable for service_main>_0`)
   \   0000000A   ....               LDI     R31, (`?<Jumptable for service_main>_0`) >> 8
   \   0000000C   ........           JMP     ?SV_SWITCH_L06
   2500            {
   2501              case STATE_PRE_PROGRAMMING:
   2502                if(get_key())
   \                     ??service_main_0:
   \   00000010   ........           CALL    get_key
   \   00000014   2300               TST     R16
   \   00000016   F409               BRNE    $+2+2
   \   00000018   C06F               RJMP    ??service_main_1
   2503          			{
   2504                  key_result.short_pressed = 0;
   \   0000001A   E000               LDI     R16, 0
   \   0000001C   9300....           STS     key_result, R16
   2505                  key_result.long_pressed = 0;
   \   00000020   9300....           STS     (key_result + 1), R16
   2506                  state.main_state = STATE_PROGRAMMING;
   \   00000024   E210               LDI     R17, 32
   \   00000026   9300....           STS     (state + 2), R16
   \   0000002A   9310....           STS     (state + 3), R17
   2507          				diagnostic_frame();	
   \   0000002E   ........           CALL    diagnostic_frame
   2508          				flags.AA_received = 0;
   \   00000032   ....               LDI     R30, LOW(flags)
   \   00000034   ....               LDI     R31, (flags) >> 8
   \   00000036   8102               LDD     R16, Z+2
   \   00000038   8113               LDD     R17, Z+3
   \   0000003A   7B1F               ANDI    R17, 0xBF
   \   0000003C   8313               STD     Z+3, R17
   \   0000003E   8302               STD     Z+2, R16
   2509          				flags.parameter_setting_wrong = 0;
   \   00000040   8104               LDD     R16, Z+4
   \   00000042   8115               LDD     R17, Z+5
   \   00000044   7F0D               ANDI    R16, 0xFD
   \   00000046   8315               STD     Z+5, R17
   \   00000048   8304               STD     Z+4, R16
   2510          				flags.parameter_write_right = 0;
   \   0000004A   8102               LDD     R16, Z+2
   \   0000004C   8113               LDD     R17, Z+3
   \   0000004E   770F               ANDI    R16, 0x7F
   \   00000050   8313               STD     Z+3, R17
   \   00000052   8302               STD     Z+2, R16
   \   00000054   C051               RJMP    ??service_main_1
   2511          			}
   2512              break;
   2513          
   2514              case STATE_PROGRAMMING:
   2515          			timer_flex_initial(660000);				//11 minutes time out
   \                     ??service_main_2:
   \   00000056   E200               LDI     R16, 32
   \   00000058   E112               LDI     R17, 18
   \   0000005A   E02A               LDI     R18, 10
   \   0000005C   E030               LDI     R19, 0
   \   0000005E   ....               RCALL   timer_flex_initial
   2516          			led_blinking(1000,1000);
   \   00000060   EE48               LDI     R20, 232
   \   00000062   E053               LDI     R21, 3
   \   00000064   E060               LDI     R22, 0
   \   00000066   E070               LDI     R23, 0
   \   00000068   EE08               LDI     R16, 232
   \   0000006A   E013               LDI     R17, 3
   \   0000006C   E020               LDI     R18, 0
   \   0000006E   E030               LDI     R19, 0
   \   00000070   ....               RCALL   led_blinking
   2517          			state.main_state = STATE_PROGRAMMING_DURING;
   \   00000072   E000               LDI     R16, 0
   \   00000074   E211               LDI     R17, 33
   \                     ??service_main_3:
   \   00000076   9300....           STS     (state + 2), R16
   \   0000007A   9310....           STS     (state + 3), R17
   \   0000007E   C03C               RJMP    ??service_main_1
   2518              break;
   2519          
   2520              case STATE_PROGRAMMING_DURING:
   2521          			if( Time_delay.timer_flex.time_out == 1 )
   \                     ??service_main_4:
   \   00000080   9100....           LDS     R16, (Time_delay + 157)
   \   00000084   3001               CPI     R16, 1
   \   00000086   F5C1               BRNE    ??service_main_1
   2522          			{
   2523          				led_blinking_normal();
   \   00000088   ....               RCALL   led_blinking_normal
   2524                  send_frame_pp_ext_broad("D20001348C0000FA",TRANS_DELAY);
   \   0000008A   E322               LDI     R18, 50
   \   0000008C   E030               LDI     R19, 0
   \   0000008E   ....               LDI     R16, LOW(`?<Constant "D20001348C0000FA">`)
   \   00000090   ....               LDI     R17, (`?<Constant "D20001348C0000FA">`) >> 8
   \   00000092   ........           CALL    send_frame_pp_ext_broad
   2525          				state.main_state = STATE_NORMAL;
   \                     ??service_main_5:
   \   00000096   E000               LDI     R16, 0
   \   00000098   9300....           STS     (state + 2), R16
   \   0000009C   9300....           STS     (state + 3), R16
   \   000000A0   C02B               RJMP    ??service_main_1
   2526          			}
   2527              break;
   2528          
   2529              case STATE_PRE_TEST:
   2530                if(get_key())
   \                     ??service_main_6:
   \   000000A2   ........           CALL    get_key
   \   000000A6   2300               TST     R16
   \   000000A8   F049               BREQ    ??service_main_7
   2531          			{
   2532                  state.main_state = STATE_PROGRAMMING;
   \   000000AA   E000               LDI     R16, 0
   \   000000AC   E210               LDI     R17, 32
   \   000000AE   9300....           STS     (state + 2), R16
   \   000000B2   9310....           STS     (state + 3), R17
   2533          				diagnostic_frame();	
   \   000000B6   ........           CALL    diagnostic_frame
   \   000000BA   C01E               RJMP    ??service_main_1
   2534          			}
   2535                else if(Time_delay.timer_flex.time_out == 1)
   \                     ??service_main_7:
   \   000000BC   9100....           LDS     R16, (Time_delay + 157)
   \   000000C0   3001               CPI     R16, 1
   \   000000C2   F4D1               BRNE    ??service_main_1
   2536                {
   2537                  state.main_state = STATE_NORMAL;
   \   000000C4   CFE8               RJMP    ??service_main_5
   2538                }
   2539              break;
   2540          
   2541              case STATE_TEST:
   2542          			timer_flex_initial(660000);				//11 minutes time out
   \                     ??service_main_8:
   \   000000C6   E200               LDI     R16, 32
   \   000000C8   E112               LDI     R17, 18
   \   000000CA   E02A               LDI     R18, 10
   \   000000CC   E030               LDI     R19, 0
   \   000000CE   ....               RCALL   timer_flex_initial
   2543          			led_blinking(1000,1000);
   \   000000D0   EE48               LDI     R20, 232
   \   000000D2   E053               LDI     R21, 3
   \   000000D4   E060               LDI     R22, 0
   \   000000D6   E070               LDI     R23, 0
   \   000000D8   EE08               LDI     R16, 232
   \   000000DA   E013               LDI     R17, 3
   \   000000DC   E020               LDI     R18, 0
   \   000000DE   E030               LDI     R19, 0
   \   000000E0   ....               RCALL   led_blinking
   2544          			state.main_state = STATE_TEST_DURING;
   \   000000E2   E002               LDI     R16, 2
   \   000000E4   E210               LDI     R17, 32
   \   000000E6   CFC7               RJMP    ??service_main_3
   2545              break;
   2546          
   2547              case STATE_TEST_DURING:
   2548                if( Time_delay.timer_flex.time_out == 1 )
   \                     ??service_main_9:
   \   000000E8   9100....           LDS     R16, (Time_delay + 157)
   \   000000EC   3001               CPI     R16, 1
   \   000000EE   F421               BRNE    ??service_main_1
   2549          			{
   2550          				led_blinking_normal();
   \   000000F0   ....               RCALL   led_blinking_normal
   2551          				state.main_state = STATE_NORMAL;
   \   000000F2   CFD1               RJMP    ??service_main_5
   2552          			}
   2553              break;
   2554          
   2555          		case FACTORY_CALIBRATION:
   2556          			case FACTORY_CALIBRATION_STEP1:
   2557          				factory_calibration();
   \                     ??service_main_10:
   \   000000F4   ........           CALL    factory_calibration
   2558          		break;
   2559          		
   2560              default:break;
   2561            }
   2562          
   2563          		if(product_information.conf_type == ADVANCED)
   \                     ??service_main_1:
   \   000000F8   9100....           LDS     R16, product_information
   \   000000FC   3002               CPI     R16, 2
   \   000000FE   F481               BRNE    ??service_main_11
   2564          		{
   2565          			if( state.main_state == STATE_NORMAL )
   \   00000100   9100....           LDS     R16, (state + 2)
   \   00000104   9110....           LDS     R17, (state + 3)
   \   00000108   2B01               OR      R16, R17
   \   0000010A   F4C1               BRNE    ??service_main_12
   2566          			{
   2567          				if(flags.app_disable == 0)
   \   0000010C   ....               LDI     R30, LOW(flags)
   \   0000010E   ....               LDI     R31, (flags) >> 8
   \   00000110   8102               LDD     R16, Z+2
   \   00000112   8113               LDD     R17, Z+3
   \   00000114   2F01               MOV     R16, R17
   \   00000116   FD05               SBRC    R16, 5
   \   00000118   C011               RJMP    ??service_main_12
   2568          				{
   2569          					function_service();			// add by alan 20090424
   \                     ??service_main_13:
   \   0000011A   ........           CALL    function_service
   \   0000011E   C00E               RJMP    ??service_main_12
   2570          				}
   2571          			}
   2572          		}
   2573          		else if(product_information.conf_type == BASIC_PHYSICAL || product_information.conf_type == BASIC_VIRTUAL)
   \                     ??service_main_11:
   \   00000120   9100....           LDS     R16, product_information
   \   00000124   2300               TST     R16
   \   00000126   F021               BREQ    ??service_main_14
   \   00000128   9100....           LDS     R16, product_information
   \   0000012C   3001               CPI     R16, 1
   \   0000012E   F431               BRNE    ??service_main_12
   2574          		{
   2575          			if( state.main_state == STATE_NORMAL )
   \                     ??service_main_14:
   \   00000130   9100....           LDS     R16, (state + 2)
   \   00000134   9110....           LDS     R17, (state + 3)
   \   00000138   2B01               OR      R16, R17
   \   0000013A   F379               BREQ    ??service_main_13
   2576          			{
   2577          				function_service();			// add by alan 20090424
   2578          			}
   2579          		}
   2580          
   2581          		if(product_information.conf_type == NONE_CONFED || product_information.conf_type == ADVANCED)
   \                     ??service_main_12:
   \   0000013C   9100....           LDS     R16, product_information
   \   00000140   3003               CPI     R16, 3
   \   00000142   F021               BREQ    ??service_main_15
   \   00000144   9100....           LDS     R16, product_information
   \   00000148   3002               CPI     R16, 2
   \   0000014A   F559               BRNE    ??service_main_16
   2582          		{
   2583          			ir_pnl();								//0218
   \                     ??service_main_15:
   \   0000014C   ........           CALL    ir_pnl
   2584          	
   2585              	if(product_information.conf_type == ADVANCED)
   \   00000150   9100....           LDS     R16, product_information
   \   00000154   3002               CPI     R16, 2
   \   00000156   F4B1               BRNE    ??service_main_17
   2586          			{
   2587          				if(flags.scs_pnl_group_sensor_starded)
   \   00000158   ....               LDI     R30, LOW(flags)
   \   0000015A   ....               LDI     R31, (flags) >> 8
   \   0000015C   8102               LDD     R16, Z+2
   \   0000015E   8113               LDD     R17, Z+3
   \   00000160   2F01               MOV     R16, R17
   \   00000162   FF00               SBRS    R16, 0
   \   00000164   C002               RJMP    ??service_main_18
   2588          				{
   2589          					scs_pnl_advance_slave();
   \   00000166   ....               RCALL   scs_pnl_advance_slave
   \   00000168   C00D               RJMP    ??service_main_17
   2590          				}
   2591          				else
   2592          				{
   2593          					if(KO_conf.AddressType == GROUP)
   \                     ??service_main_18:
   \   0000016A   9100....           LDS     R16, (KO_conf + 1)
   \   0000016E   3002               CPI     R16, 2
   \   00000170   F419               BRNE    ??service_main_19
   2594          						scs_pnl_advance_master();
   \   00000172   ........           CALL    scs_pnl_advance_master
   \   00000176   C006               RJMP    ??service_main_17
   2595          					else if(KO_conf.AddressType == PP)
   \                     ??service_main_19:
   \   00000178   9100....           LDS     R16, (KO_conf + 1)
   \   0000017C   2300               TST     R16
   \   0000017E   F411               BRNE    ??service_main_17
   2596          						scs_pnl_none_confed_master();		
   \   00000180   ........           CALL    scs_pnl_none_confed_master
   2597          				}				
   2598          			}
   2599          
   2600          			if(product_information.conf_type == NONE_CONFED)
   \                     ??service_main_17:
   \   00000184   9100....           LDS     R16, product_information
   \   00000188   3003               CPI     R16, 3
   \   0000018A   F459               BRNE    ??service_main_16
   2601          			{
   2602          				if(flags.scs_pnl_group_sensor_starded)
   \   0000018C   ....               LDI     R30, LOW(flags)
   \   0000018E   ....               LDI     R31, (flags) >> 8
   \   00000190   8102               LDD     R16, Z+2
   \   00000192   8113               LDD     R17, Z+3
   \   00000194   2F01               MOV     R16, R17
   \   00000196   FF00               SBRS    R16, 0
   \   00000198   C002               RJMP    ??service_main_20
   2603          					scs_pnl_none_confed_slave();
   \   0000019A   ....               RCALL   scs_pnl_none_confed_slave
   \   0000019C   C002               RJMP    ??service_main_16
   2604          				else
   2605          					scs_pnl_none_confed_master();							
   \                     ??service_main_20:
   \   0000019E   ........           CALL    scs_pnl_none_confed_master
   2606          			}
   2607          		}
   2608          	
   2609          		if(state.id_setting == 1)
   \                     ??service_main_16:
   \   000001A2   ....               LDI     R30, LOW(state)
   \   000001A4   ....               LDI     R31, (state) >> 8
   \   000001A6   8100               LD      R16, Z
   \   000001A8   8111               LDD     R17, Z+1
   \   000001AA   FF07               SBRS    R16, 7
   \   000001AC   C013               RJMP    ??service_main_21
   2610          		{
   2611          			if( Time_delay.timer_flex.time_out == 1 )
   \   000001AE   9100....           LDS     R16, (Time_delay + 157)
   \   000001B2   3001               CPI     R16, 1
   \   000001B4   F479               BRNE    ??service_main_21
   2612          			{
   2613          				led_blinking_disable(0);
   \   000001B6   E000               LDI     R16, 0
   \   000001B8   ....               RCALL   led_blinking_disable
   2614          				state.id_setting = 0;
   \   000001BA   ....               LDI     R30, LOW(state)
   \   000001BC   ....               LDI     R31, (state) >> 8
   \   000001BE   8100               LD      R16, Z
   \   000001C0   8111               LDD     R17, Z+1
   \   000001C2   770F               ANDI    R16, 0x7F
   \   000001C4   8311               STD     Z+1, R17
   \   000001C6   8300               ST      Z, R16
   2615          				send_frame_pp_ext_broad("D000010E00000000",TRANS_DELAY);
   \   000001C8   E322               LDI     R18, 50
   \   000001CA   E030               LDI     R19, 0
   \   000001CC   ....               LDI     R16, LOW((`?<Constant "D20001348C0000FA">` + 17))
   \   000001CE   ....               LDI     R17, HIGH((`?<Constant "D20001348C0000FA">` + 17))
   \   000001D0   ........           CALL    send_frame_pp_ext_broad
   2616          			}
   2617          		}
   2618          }
   \                     ??service_main_21:
   \   000001D4   9508               RET
   2619          

   \                                 In  segment CODE, align 2, keep-with-next
   2620          void led_status_recover(void)
   \                     led_status_recover:
   2621          {
   2622            if(product_information.conf_type == 3)
   \   00000000   9100....           LDS     R16, product_information
   \   00000004   3003               CPI     R16, 3
   \   00000006   F451               BRNE    ??led_status_recover_0
   2623            {
   2624              led_blinking(120,120);
   \   00000008   E748               LDI     R20, 120
   \   0000000A   E050               LDI     R21, 0
   \   0000000C   E060               LDI     R22, 0
   \   0000000E   E070               LDI     R23, 0
   \   00000010   E708               LDI     R16, 120
   \   00000012   E010               LDI     R17, 0
   \   00000014   E020               LDI     R18, 0
   \   00000016   E030               LDI     R19, 0
   \   00000018   ....               RCALL   led_blinking
   \   0000001A   9508               RET
   2625            }
   2626            else
   2627              led_blinking_disable(0);
   \                     ??led_status_recover_0:
   \   0000001C   E000               LDI     R16, 0
   \   0000001E   ....               RCALL   led_blinking_disable
   2628          }
   \   00000020   9508               RET
   2629          

   \                                 In  segment CODE, align 2, keep-with-next
   2630          void frame_send_disable_automatic_control(void)
   \                     frame_send_disable_automatic_control:
   2631          {
   2632          	send_frame_pp_broad("B0009900",TRANS_DELAY);
   \   00000000   E322               LDI     R18, 50
   \   00000002   E030               LDI     R19, 0
   \   00000004   ....               LDI     R16, LOW(`?<Constant "B0009900">`)
   \   00000006   ....               LDI     R17, (`?<Constant "B0009900">`) >> 8
   \   00000008   ........           CALL    send_frame_pp_broad
   2633          }
   \   0000000C   9508               RET
   2634          

   \                                 In  segment CODE, align 2, keep-with-next
   2635          void frame_send_enable_automatic_control(void)
   \                     frame_send_enable_automatic_control:
   2636          {
   2637            send_frame_pp_broad("B000990F",TRANS_DELAY);
   \   00000000   E322               LDI     R18, 50
   \   00000002   E030               LDI     R19, 0
   \   00000004   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 35))
   \   00000006   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 35))
   \   00000008   ........           CALL    send_frame_pp_broad
   2638          }
   \   0000000C   9508               RET
   2639          

   \                                 In  segment CODE, align 2, keep-with-next
   2640          void frame_send_start_pnl_none_group_confed(void)
   \                     frame_send_start_pnl_none_group_confed:
   2641          {
   2642          	send_frame_pp_ext_broad("D20001428C000940",TRANS_DELAY);
   \   00000000   E322               LDI     R18, 50
   \   00000002   E030               LDI     R19, 0
   \   00000004   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 9))
   \   00000006   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 9))
   \   00000008   ........           CALL    send_frame_pp_ext_broad
   2643          }
   \   0000000C   9508               RET
   2644          

   \                                 In  segment CODE, align 2, keep-with-next
   2645          void frame_send_start_pnl_group_confed(void)
   \                     frame_send_start_pnl_group_confed:
   2646          {
   \   00000000   9764               SBIW    R29:R28, 20
   2647            unsigned char buffer_tx[17] = "D20001428C000940";
   \   00000002   019E               MOVW    R19:R18, R29:R28
   \   00000004   5F2D               SUBI    R18, 253
   \   00000006   4F3F               SBCI    R19, 255
   \   00000008   0189               MOVW    R17:R16, R19:R18
   \   0000000A   ....               LDI     R30, LOW(`?<Constant "D20001428C000940">_1`)
   \   0000000C   ....               LDI     R31, (`?<Constant "D20001428C000940">_1`) >> 8
   \   0000000E   E141               LDI     R20, 17
   \   00000010   E050               LDI     R21, 0
   \   00000012   ........           CALL    ?ML_FLASH_SRAM_16EC_16_L07
   2648            unsigned char buffer[3];
   2649          
   2650            CharToStr(KO_conf.GR,buffer);
   \   00000016   019E               MOVW    R19:R18, R29:R28
   \   00000018   9100....           LDS     R16, (KO_conf + 6)
   \   0000001C   ........           CALL    CharToStr
   2651            buffer_tx[10] = buffer[0];
   \   00000020   8108               LD      R16, Y
   \   00000022   870D               STD     Y+13, R16
   2652            buffer_tx[11] = buffer[1];
   \   00000024   8109               LDD     R16, Y+1
   \   00000026   870E               STD     Y+14, R16
   2653            send_frame_pp_ext_broad(buffer_tx,TRANS_DELAY);
   \   00000028   E322               LDI     R18, 50
   \   0000002A   E030               LDI     R19, 0
   \   0000002C   018E               MOVW    R17:R16, R29:R28
   \   0000002E   5F0D               SUBI    R16, 253
   \   00000030   4F1F               SBCI    R17, 255
   \   00000032   ........           CALL    send_frame_pp_ext_broad
   2654          }
   \   00000036   9664               ADIW    R29:R28, 20
   \   00000038   9508               RET
   2655          

   \                                 In  segment CODE, align 2, keep-with-next
   2656          void frame_send_end_pnl(void)
   \                     frame_send_end_pnl:
   2657          {
   2658          	send_frame_pp_ext_broad("D20001428C00094F",TRANS_DELAY);
   \   00000000   E322               LDI     R18, 50
   \   00000002   E030               LDI     R19, 0
   \   00000004   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 78))
   \   00000006   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 78))
   \   00000008   ........           CALL    send_frame_pp_ext_broad
   2659          }
   \   0000000C   9508               RET
   2660          

   \                                 In  segment CODE, align 2, keep-with-next
   2661          void frame_send_group_request(void)
   \                     frame_send_group_request:
   2662          {
   2663            send_frame_pp_ext_broad("D20001428C000945",TRANS_DELAY);
   \   00000000   E322               LDI     R18, 50
   \   00000002   E030               LDI     R19, 0
   \   00000004   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 61))
   \   00000006   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 61))
   \   00000008   ........           CALL    send_frame_pp_ext_broad
   2664          }
   \   0000000C   9508               RET
   2665          

   \                                 In  segment CODE, align 2, keep-with-next
   2666          void led_blinking_normal(void)
   \                     led_blinking_normal:
   2667          {
   2668          	flags.confed = 0;
   \   00000000   ....               LDI     R30, LOW(flags)
   \   00000002   ....               LDI     R31, (flags) >> 8
   \   00000004   8102               LDD     R16, Z+2
   \   00000006   8113               LDD     R17, Z+3
   \   00000008   7D0F               ANDI    R16, 0xDF
   \   0000000A   8313               STD     Z+3, R17
   \   0000000C   8302               STD     Z+2, R16
   2669            for(unsigned char i = 0;i<16;i++)
   \   0000000E   E060               LDI     R22, 0
   \   00000010   C001               RJMP    ??led_blinking_normal_0
   \                     ??led_blinking_normal_1:
   \   00000012   9563               INC     R22
   \                     ??led_blinking_normal_0:
   \   00000014   3160               CPI     R22, 16
   \   00000016   F4A0               BRCC    ??led_blinking_normal_2
   2670            {
   2671           		if(ee_scenario[i].confed)
   \   00000018   ....               LDI     R18, LOW((ee_scenario + 6))
   \   0000001A   ....               LDI     R19, HIGH((ee_scenario + 6))
   \   0000001C   2F46               MOV     R20, R22
   \   0000001E   E050               LDI     R21, 0
   \   00000020   E007               LDI     R16, 7
   \   00000022   E010               LDI     R17, 0
   \   00000024   ........           CALL    ?S_EC_MUL_L02
   \   00000028   0F20               ADD     R18, R16
   \   0000002A   1F31               ADC     R19, R17
   \   0000002C   01A9               MOVW    R21:R20, R19:R18
   \   0000002E   ........           CALL    __eeget8_16
   \   00000032   2300               TST     R16
   \   00000034   F371               BREQ    ??led_blinking_normal_1
   2672          		{
   2673          			flags.confed = 1;
   \   00000036   8102               LDD     R16, Z+2
   \   00000038   8113               LDD     R17, Z+3
   \   0000003A   6200               ORI     R16, 0x20
   \   0000003C   8313               STD     Z+3, R17
   \   0000003E   8302               STD     Z+2, R16
   2674          			break;
   2675          		}
   2676          	}
   2677          		
   2678          	if(state.main_state == STATE_NORMAL)
   \                     ??led_blinking_normal_2:
   \   00000040   9100....           LDS     R16, (state + 2)
   \   00000044   9110....           LDS     R17, (state + 3)
   \   00000048   2B01               OR      R16, R17
   \   0000004A   F4A1               BRNE    ??led_blinking_normal_3
   2679          	{
   2680            	if(product_information.conf_type == NONE_CONFED && flags.confed == 0)
   \   0000004C   9100....           LDS     R16, product_information
   \   00000050   3003               CPI     R16, 3
   \   00000052   F471               BRNE    ??led_blinking_normal_4
   \   00000054   8102               LDD     R16, Z+2
   \   00000056   8113               LDD     R17, Z+3
   \   00000058   FD05               SBRC    R16, 5
   \   0000005A   C00A               RJMP    ??led_blinking_normal_4
   2681            	{
   2682                led_blinking(120,120);
   \   0000005C   E748               LDI     R20, 120
   \   0000005E   E050               LDI     R21, 0
   \   00000060   E060               LDI     R22, 0
   \   00000062   E070               LDI     R23, 0
   \   00000064   E708               LDI     R16, 120
   \   00000066   E010               LDI     R17, 0
   \   00000068   E020               LDI     R18, 0
   \   0000006A   E030               LDI     R19, 0
   \   0000006C   ....               RCALL   led_blinking
   \   0000006E   9508               RET
   2683            	}
   2684            	else
   2685              	led_blinking_disable(0);
   \                     ??led_blinking_normal_4:
   \   00000070   E000               LDI     R16, 0
   \   00000072   ....               RCALL   led_blinking_disable
   2686          	}
   2687          }
   \                     ??led_blinking_normal_3:
   \   00000074   9508               RET
   2688          

   \                                 In  segment CODE, align 2, keep-with-next
   2689          void load_default_advance_parameter(void)
   \                     load_default_advance_parameter:
   2690          {
   2691          	KO[0] = '0';
   \   00000000   ....               LDI     R30, LOW(KO)
   \   00000002   ....               LDI     R31, (KO) >> 8
   \   00000004   E300               LDI     R16, 48
   \   00000006   8300               ST      Z, R16
   2692          	KO[1] = '0';
   \   00000008   8301               STD     Z+1, R16
   2693          	KO[2] = 'A';
   \   0000000A   E401               LDI     R16, 65
   \   0000000C   8302               STD     Z+2, R16
   2694          	KO[3] = '8';
   \   0000000E   E308               LDI     R16, 56
   \   00000010   8303               STD     Z+3, R16
   \   00000012   E300               LDI     R16, 48
   \   00000014   ....               LDI     R20, LOW(ee_KO)
   \   00000016   ....               LDI     R21, (ee_KO) >> 8
   \   00000018   ........           CALL    __eeput8_16
   2695          				
   2696          	ee_KO[0] = '0';
   2697            ee_KO[1] = '0';
   \   0000001C   ....               LDI     R20, LOW((ee_KO + 1))
   \   0000001E   ....               LDI     R21, HIGH((ee_KO + 1))
   \   00000020   ........           CALL    __eeput8_16
   2698            ee_KO[2] = 'A';
   \   00000024   E401               LDI     R16, 65
   \   00000026   ....               LDI     R20, LOW((ee_KO + 2))
   \   00000028   ....               LDI     R21, HIGH((ee_KO + 2))
   \   0000002A   ........           CALL    __eeput8_16
   2699            ee_KO[3] = '8';
   \   0000002E   E308               LDI     R16, 56
   \   00000030   ....               LDI     R20, LOW((ee_KO + 3))
   \   00000032   ....               LDI     R21, HIGH((ee_KO + 3))
   \   00000034   ........           CALL    __eeput8_16
   \   00000038   E300               LDI     R16, 48
   \   0000003A   ....               LDI     R20, LOW(ee_KO_last)
   \   0000003C   ....               LDI     R21, (ee_KO_last) >> 8
   \   0000003E   ........           CALL    __eeput8_16
   2700            //to avoid power up KO confdiguration
   2701            ee_KO_last[0] = '0';
   2702            ee_KO_last[1] = '0';
   \   00000042   ....               LDI     R20, LOW((ee_KO_last + 1))
   \   00000044   ....               LDI     R21, HIGH((ee_KO_last + 1))
   \   00000046   ........           CALL    __eeput8_16
   2703            ee_KO_last[2] = 'A';
   \   0000004A   E401               LDI     R16, 65
   \   0000004C   ....               LDI     R20, LOW((ee_KO_last + 2))
   \   0000004E   ....               LDI     R21, HIGH((ee_KO_last + 2))
   \   00000050   ........           CALL    __eeput8_16
   2704            ee_KO_last[3] = '8';
   \   00000054   E308               LDI     R16, 56
   \   00000056   ....               LDI     R20, LOW((ee_KO_last + 3))
   \   00000058   ....               LDI     R21, HIGH((ee_KO_last + 3))
   \   0000005A   ........           CALL    __eeput8_16
   2705            //ee_KO_conf = KO_conf;
   2706            KO_parameter_initial();
   \   0000005E   ........           CALL    KO_parameter_initial
   2707            KO_conf = ee_KO_conf;
   \   00000062   ....               LDI     R30, LOW(KO_conf)
   \   00000064   ....               LDI     R31, (KO_conf) >> 8
   \   00000066   ....               LDI     R20, LOW(ee_KO_conf)
   \   00000068   ....               LDI     R21, (ee_KO_conf) >> 8
   \   0000006A   E312               LDI     R17, 50
   \   0000006C   E020               LDI     R18, 0
   \   0000006E   ........           CALL    ?ML_EEPROM_SRAM_16_16_L07
   2708          }
   \   00000072   9508               RET
   2709          

   \                                 In  segment CODE, align 2, keep-with-next
   2710          void led_blinking_stage2_initial(unsigned long int ms)
   \                     led_blinking_stage2_initial:
   2711          {
   2712          	Time_delay.pnl_stage2.stack_top = ms;
   \   00000000   ....               LDI     R30, LOW((Time_delay + 197))
   \   00000002   ....               LDI     R31, HIGH((Time_delay + 197))
   \   00000004   8300               ST      Z, R16
   \   00000006   8311               STD     Z+1, R17
   \   00000008   8322               STD     Z+2, R18
   \   0000000A   8333               STD     Z+3, R19
   2713          	Time_delay.pnl_stage2.count = 0;
   \   0000000C   E000               LDI     R16, 0
   \   0000000E   ....               LDI     R30, LOW((Time_delay + 193))
   \   00000010   ....               LDI     R31, HIGH((Time_delay + 193))
   \   00000012   8300               ST      Z, R16
   \   00000014   8301               STD     Z+1, R16
   \   00000016   8302               STD     Z+2, R16
   \   00000018   8303               STD     Z+3, R16
   2714          	Time_delay.pnl_stage2.time_out = 0;
   \   0000001A   9300....           STS     (Time_delay + 201), R16
   2715          	Time_delay.pnl_stage2.started = 1;
   \   0000001E   E001               LDI     R16, 1
   \   00000020   9300....           STS     (Time_delay + 203), R16
   2716          	Time_delay.pnl_stage2.enabled = 1;
   \   00000024   9300....           STS     (Time_delay + 202), R16
   2717          }
   \   00000028   9508               RET
   2718          

   \                                 In  segment CODE, align 2, keep-with-next
   2719          void PnL_ad_end(void)
   \                     PnL_ad_end:
   2720          {
   \   00000000   9764               SBIW    R29:R28, 20
   \   00000002   9100....           LDS     R16, (KO_conf + 5)
   \   00000006   2300               TST     R16
   \   00000008   F031               BREQ    ??PnL_ad_end_0
   2721          	unsigned char buffer_tx[17];
   2722          	unsigned char buffer[3];
   2723          	
   2724          	if(KO_conf.Reference != 0)
   2725          				send_group_pnl_frame(SET,KO_conf.Reference,REF_TRANS);
   \   0000000A   E323               LDI     R18, 51
   \   0000000C   9110....           LDS     R17, (KO_conf + 5)
   \   00000010   E302               LDI     R16, 50
   \   00000012   ........           CALL    send_group_pnl_frame
   2726          			
   2727          	strncpy(buffer_tx,"D20001428C00094F",17);
   \                     ??PnL_ad_end_0:
   \   00000016   E141               LDI     R20, 17
   \   00000018   E050               LDI     R21, 0
   \   0000001A   ....               LDI     R18, LOW((`?<Constant "B0009900">` + 78))
   \   0000001C   ....               LDI     R19, HIGH((`?<Constant "B0009900">` + 78))
   \   0000001E   018E               MOVW    R17:R16, R29:R28
   \   00000020   5F0D               SUBI    R16, 253
   \   00000022   4F1F               SBCI    R17, 255
   \   00000024   ........           CALL    strncpy
   2728          	CharToStr(KO_conf.GR,buffer);
   \   00000028   019E               MOVW    R19:R18, R29:R28
   \   0000002A   9100....           LDS     R16, (KO_conf + 6)
   \   0000002E   ........           CALL    CharToStr
   2729          	buffer_tx[10] = buffer[0];
   \   00000032   8108               LD      R16, Y
   \   00000034   870D               STD     Y+13, R16
   2730          	buffer_tx[11] = buffer[1];
   \   00000036   8109               LDD     R16, Y+1
   \   00000038   870E               STD     Y+14, R16
   2731          	send_frame_pp_ext_broad(buffer_tx,TRANS_DELAY);
   \   0000003A   E322               LDI     R18, 50
   \   0000003C   E030               LDI     R19, 0
   \   0000003E   018E               MOVW    R17:R16, R29:R28
   \   00000040   5F0D               SUBI    R16, 253
   \   00000042   4F1F               SBCI    R17, 255
   \   00000044   ........           CALL    send_frame_pp_ext_broad
   2732          	send_frame_pp_broad("B000990F",TRANS_DELAY);
   \   00000048   E322               LDI     R18, 50
   \   0000004A   E030               LDI     R19, 0
   \   0000004C   ....               LDI     R16, LOW((`?<Constant "B0009900">` + 35))
   \   0000004E   ....               LDI     R17, HIGH((`?<Constant "B0009900">` + 35))
   \   00000050   ........           CALL    send_frame_pp_broad
   2733          	led_blinking_disable(0);
   \   00000054   E000               LDI     R16, 0
   \   00000056   ....               RCALL   led_blinking_disable
   2734          	state.main_state = STATE_NORMAL;
   \   00000058   E000               LDI     R16, 0
   \   0000005A   9300....           STS     (state + 2), R16
   \   0000005E   9300....           STS     (state + 3), R16
   2735          }
   \   00000062   9664               ADIW    R29:R28, 20
   \   00000064   9508               RET
   2736          

   \                                 In  segment CODE, align 2, keep-with-next
   2737          void PnL_NONE_end(void)
   \                     PnL_NONE_end:
   2738          {
   2739          	frame_send_end_pnl();
   \   00000000   ....               RCALL   frame_send_end_pnl
   2740            frame_send_enable_automatic_control();
   \   00000002   ....               RCALL   frame_send_enable_automatic_control
   2741            led_blinking_normal();
   \   00000004   ....               RCALL   led_blinking_normal
   2742          	state.pnl_slave = NORMAL;
   \   00000006   ....               LDI     R30, LOW(state)
   \   00000008   ....               LDI     R31, (state) >> 8
   \   0000000A   E000               LDI     R16, 0
   \   0000000C   8304               STD     Z+4, R16
   2743          	state.main_state = STATE_NORMAL;
   \   0000000E   8302               STD     Z+2, R16
   \   00000010   8303               STD     Z+3, R16
   2744          }
   \   00000012   9508               RET
   2745          

   \                                 In  segment CODE, align 2, keep-with-next
   2746          void regulation_timer_initial(void)
   \                     regulation_timer_initial:
   2747          {
   2748          	Time_delay.regulation.stack_top = 200;
   \   00000000   EC08               LDI     R16, 200
   \   00000002   E010               LDI     R17, 0
   \   00000004   ....               LDI     R30, LOW((Time_delay + 274))
   \   00000006   ....               LDI     R31, HIGH((Time_delay + 274))
   \   00000008   8300               ST      Z, R16
   \   0000000A   8311               STD     Z+1, R17
   \   0000000C   8312               STD     Z+2, R17
   \   0000000E   8313               STD     Z+3, R17
   2749          	Time_delay.regulation.count = 0;
   \   00000010   ....               LDI     R30, LOW((Time_delay + 270))
   \   00000012   ....               LDI     R31, HIGH((Time_delay + 270))
   \   00000014   8310               ST      Z, R17
   \   00000016   8311               STD     Z+1, R17
   \   00000018   8312               STD     Z+2, R17
   \   0000001A   8313               STD     Z+3, R17
   2750          	Time_delay.regulation.time_out = 0;
   \   0000001C   9310....           STS     (Time_delay + 278), R17
   2751          	Time_delay.regulation.started = 1;
   \   00000020   E001               LDI     R16, 1
   \   00000022   9300....           STS     (Time_delay + 280), R16
   2752          	Time_delay.regulation.enabled = 1;
   \   00000026   9300....           STS     (Time_delay + 279), R16
   2753          }
   \   0000002A   9508               RET
   2754          

   \                                 In  segment CODE, align 2, keep-with-next
   2755          void relay_timer_initial(unsigned long int ms)
   \                     relay_timer_initial:
   2756          {
   2757          	Time_delay.relay.stack_top = ms;
   \   00000000   ....               LDI     R30, LOW((Time_delay + 296))
   \   00000002   ....               LDI     R31, HIGH((Time_delay + 296))
   \   00000004   8300               ST      Z, R16
   \   00000006   8311               STD     Z+1, R17
   \   00000008   8322               STD     Z+2, R18
   \   0000000A   8333               STD     Z+3, R19
   2758          	Time_delay.relay.count = 0;
   \   0000000C   E000               LDI     R16, 0
   \   0000000E   ....               LDI     R30, LOW((Time_delay + 292))
   \   00000010   ....               LDI     R31, HIGH((Time_delay + 292))
   \   00000012   8300               ST      Z, R16
   \   00000014   8301               STD     Z+1, R16
   \   00000016   8302               STD     Z+2, R16
   \   00000018   8303               STD     Z+3, R16
   2759          	Time_delay.relay.time_out = 0;
   \   0000001A   9300....           STS     (Time_delay + 300), R16
   2760          	Time_delay.relay.started = 1;
   \   0000001E   E001               LDI     R16, 1
   \   00000020   9300....           STS     (Time_delay + 302), R16
   2761          	Time_delay.relay.enabled = 1;
   \   00000024   9300....           STS     (Time_delay + 301), R16
   2762          }
   \   00000028   9508               RET
   2763          

   \                                 In  segment CODE, align 2, keep-with-next
   2764          void test_ID_assigned(void)
   \                     test_ID_assigned:
   2765          {
   2766          	if(ee_product_information.ID_factory_assigned == 0)
   \   00000000   ....               LDI     R20, ((ee_product_information + 5) & 0xff) & 0xFF
   \   00000002   ....               LDI     R21, (((ee_product_information + 5) >> 8) & 0xff) & 0xFF
   \   00000004   ........           CALL    __eeget16_16
   \   00000008   2F40               MOV     R20, R16
   \   0000000A   7041               ANDI    R20, 0x01
   \   0000000C   F499               BRNE    ??test_ID_assigned_0
   2767          	{		
   2768          		ee_product_information.ID_factory_assigned = 1;	
   \   0000000E   6001               ORI     R16, 0x01
   \   00000010   ....               LDI     R20, ((ee_product_information + 5) & 0xff) & 0xFF
   \   00000012   ....               LDI     R21, (((ee_product_information + 5) >> 8) & 0xff) & 0xFF
   \   00000014   ........           CALL    __eeput16_16
   2769          		ee_product_information.ID_confed = 1;
   \   00000018   E001               LDI     R16, 1
   \   0000001A   ....               LDI     R20, LOW((ee_product_information + 1))
   \   0000001C   ....               LDI     R21, HIGH((ee_product_information + 1))
   \   0000001E   ........           CALL    __eeput8_16
   2770          		product_information.ID_confed = 1;
   \   00000022   9300....           STS     (product_information + 1), R16
   2771          		flags.id_confed = 1;
   \   00000026   ....               LDI     R30, LOW(flags)
   \   00000028   ....               LDI     R31, (flags) >> 8
   \   0000002A   8100               LD      R16, Z
   \   0000002C   8111               LDD     R17, Z+1
   \   0000002E   6001               ORI     R16, 0x01
   \   00000030   8311               STD     Z+1, R17
   \   00000032   8300               ST      Z, R16
   2772          	}
   2773          }
   \                     ??test_ID_assigned_0:
   \   00000034   9508               RET

   \                                 In  segment NEAR_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "D10001420D000000"`:
   \   00000000   314430303130       DC8 "D10001420D000000"
   \              323444303030
   \              3030303000  

   \                                 In  segment NEAR_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "B0009900">>`:
   \   00000000   304230303939       DC8 "B0009900"
   \              303000      
   \                     `?<Initializer for <Constant "D20001428C000940"`:
   \   00000009   324430303130       DC8 "D20001428C000940"
   \              323443383030
   \              3930303400  
   \                     `?<Initializer for <Constant "B5001500">>`:
   \   0000001A   354230303531       DC8 "B5001500"
   \              303000      
   \                     `?<Initializer for <Constant "B000990F">>`:
   \   00000023   304230303939       DC8 "B000990F"
   \              463000      
   \                     `?<Initializer for <Constant "D20001428C22094F"`:
   \   0000002C   324430303130       DC8 "D20001428C22094F"
   \              323443383232
   \              3930463400  
   \                     `?<Initializer for <Constant "D20001428C000945"`:
   \   0000003D   324430303130       DC8 "D20001428C000945"
   \              323443383030
   \              3930353400  
   \                     `?<Initializer for <Constant "D20001428C00094F"`:
   \   0000004E   324430303130       DC8 "D20001428C00094F"
   \              323443383030
   \              3930463400  

   \                                 In  segment NEAR_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "$09\\r">>`:
   \   00000000   30240D3900         DC8 "$09\015"
   \                     `?<Initializer for <Constant "$270500\\r">>`:
   \   00000005   322430373035       DC8 "$270500\015"
   \              0D3000      
   \                     `?<Initializer for <Constant "$021000\\r">>`:
   \   0000000E   302431323030       DC8 "$021000\015"
   \              0D3000      

   \                                 In  segment NEAR_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "D20001348C0000FA"`:
   \   00000000   324430303130       DC8 "D20001348C0000FA"
   \              343343383030
   \              3030414600  
   \                     `?<Initializer for <Constant "D000010E00000000"`:
   \   00000011   304430303130       DC8 "D000010E00000000"
   \              453030303030
   \              3030303000  

   \                                 In  segment SWITCH, align 2, keep-with-next
   \                     `?<Jumptable for configurator_to_KO>_0`:
   \   00000000   30                 DB      48
   \   00000001   00                 DB      0
   \   00000002   ....               DW      (??configurator_to_KO_21) /2
   \   00000004   000A               DW      10
   \   00000006   ....               DW      (??configurator_to_KO_10) /2
   \   00000008   ....               DW      (??configurator_to_KO_12) /2
   \   0000000A   ....               DW      (??configurator_to_KO_14) /2
   \   0000000C   ....               DW      (??configurator_to_KO_15) /2
   \   0000000E   ....               DW      (??configurator_to_KO_16) /2
   \   00000010   ....               DW      (??configurator_to_KO_10) /2
   \   00000012   ....               DW      (??configurator_to_KO_17) /2
   \   00000014   ....               DW      (??configurator_to_KO_18) /2
   \   00000016   ....               DW      (??configurator_to_KO_19) /2
   \   00000018   ....               DW      (??configurator_to_KO_20) /2

   \                                 In  segment SWITCH, align 2, keep-with-next
   \                     `?<Jumptable for service_main>_0`:
   \   00000000   0010               DW      16
   \   00000002   01                 DB      1
   \   00000003   ....               DW      (??service_main_1) /2
   \   00000005   ....               DW      (??service_main_0) /2
   \   00000007   10FE00             DB      254,0x10,0x0
   \   0000000A   ....               DW      (??service_main_2) /2
   \   0000000C   01                 DB      0x1
   \   0000000D   ....               DW      (??service_main_8) /2
   \   0000000F   01                 DB      0x1
   \   00000010   ....               DW      (??service_main_9) /2
   \   00000012   01                 DB      0x1
   \   00000013   ....               DW      (??service_main_6) /2
   \   00000015   FDFF               DB      255,0xfd
   \   00000017   ....               DW      (??service_main_4) /2
   \   00000019   6FFE44             DB      254,0x6f,0x44
   \   0000001C   ....               DW      (??service_main_10) /2
   \   0000001E   01                 DB      0x1
   \   0000001F   ....               DW      (??service_main_10) /2
   \   00000021   FB                 DB      251

   \                                 In  segment NEAR_F, align 1, keep-with-next
   \                     `?<Constant "00001200">`:
   \   00000000   303030303231       DC8 "00001200"
   \              303000      
   \   00000009   314430303130       DC8 "D10001420D000000"
   \              323444303030
   \              3030303000  

   \                                 In  segment NEAR_I, align 1, keep-with-next
   \   00000000                      REQUIRE `?<Segment init: NEAR_I>`
   \                     `?<Constant "D10001420D000000">`:
   \   00000000                      DS8 17
   \   00000011                      REQUIRE `?<Initializer for <Constant "D10001420D000000"`

   \                                 In  segment NEAR_I, align 1, keep-with-next
   \   00000000                      REQUIRE `?<Segment init: NEAR_I>`
   \                     `?<Constant "B0009900">`:
   \   00000000                      DS8 9
   \   00000009                      REQUIRE `?<Initializer for <Constant "B0009900">>`
   \   00000009                      DS8 17
   \   0000001A                      REQUIRE `?<Initializer for <Constant "D20001428C000940"`
   \   0000001A                      DS8 9
   \   00000023                      REQUIRE `?<Initializer for <Constant "B5001500">>`
   \   00000023                      DS8 9
   \   0000002C                      REQUIRE `?<Initializer for <Constant "B000990F">>`
   \   0000002C                      DS8 17
   \   0000003D                      REQUIRE `?<Initializer for <Constant "D20001428C22094F"`
   \   0000003D                      DS8 17
   \   0000004E                      REQUIRE `?<Initializer for <Constant "D20001428C000945"`
   \   0000004E                      DS8 17
   \   0000005F                      REQUIRE `?<Initializer for <Constant "D20001428C00094F"`

   \                                 In  segment NEAR_I, align 1, keep-with-next
   \   00000000                      REQUIRE `?<Segment init: NEAR_I>`
   \                     `?<Constant "$09\\r">`:
   \   00000000                      DS8 5
   \   00000005                      REQUIRE `?<Initializer for <Constant "$09\\r">>`
   \   00000005                      DS8 9
   \   0000000E                      REQUIRE `?<Initializer for <Constant "$270500\\r">>`
   \   0000000E                      DS8 9
   \   00000017                      REQUIRE `?<Initializer for <Constant "$021000\\r">>`

   \                                 In  segment NEAR_I, align 1, keep-with-next
   \   00000000                      REQUIRE `?<Segment init: NEAR_I>`
   \                     `?<Constant "D20001348C0000FA">`:
   \   00000000                      DS8 17
   \   00000011                      REQUIRE `?<Initializer for <Constant "D20001348C0000FA"`
   \   00000011                      DS8 17
   \   00000022                      REQUIRE `?<Initializer for <Constant "D000010E00000000"`

   \                                 In  segment NEAR_F, align 1, keep-with-next
   \                     `?<Constant "D20001428C220940">`:
   \   00000000   324430303130       DC8 "D20001428C220940"
   \              323443383232
   \              3930303400  

   \                                 In  segment NEAR_F, align 1, keep-with-next
   \                     `?<Constant "D20001348C000941">`:
   \   00000000   324430303130       DC8 "D20001348C000941"
   \              343343383030
   \              3930313400  

   \                                 In  segment NEAR_F, align 1, keep-with-next
   \                     `?<Constant "D20001428C000940">_1`:
   \   00000000   324430303130       DC8 "D20001428C000940"
   \              323443383030
   \              3930303400  

   Maximum stack usage in bytes:

     Function                       CSTACK RSTACK
     --------                       ------ ------
     Actuator_regulation                4      2
       -> dimmer_command                4      2
       -> regulation_timer_initial      4      2
       -> dimmer_command                4      2
     DLL_setpoint                       4      4
       -> get_dl_level                  4      2
       -> delay_ms                      4      2
       -> daylight_set_init             4      2
       -> buzzer_ms                     4      2
     Dimmer_dec                         0      2
       -> dimmer_command                0      2
     Dimmer_regulation                  4      4
       -> dimmer_command                4      2
       -> regulation_timer_initial      4      2
       -> dimmer_command                4      2
       -> regulation_timer_initial      4      2
       -> dimmer_command                4      2
       -> dimmer_command                4      2
       -> regulation_timer_initial      4      2
       -> factor_divcalc                4      2
       -> dimmer_command                4      2
     Dled_light_on_ms                   0      2
     Light_regulation                   0      2
       -> Actuator_regulation           0      2
       -> Dimmer_regulation             0      2
     Mode_frame_GR                     11      2
       -> CharToStr                    11      2
       -> CharToStr                    11      2
       -> send_frame_pp_broad          11      2
     Mode_frame_P2P                    25      2
       -> CharToStr                    25      2
       -> CharToStr                    25      2
       -> CharToStr                    25      2
       -> org_ext_broad                25      2
     PnL_NONE_end                       0      2
       -> frame_send_end_pnl            0      2
       -> frame_send_enable_automatic_control
                                        0      2
       -> led_blinking_normal           0      2
     PnL_ad_end                        20      2
       -> send_group_pnl_frame         20      2
       -> strncpy                      20      2
       -> CharToStr                    20      2
       -> send_frame_pp_ext_broad      20      2
       -> send_frame_pp_broad          20      2
       -> led_blinking_disable         20      2
     PofL_calc                          2      4
     all_reception_buffer_clear         0      4
       -> reception_buffer_clear        0      2
     button_press_detect                0      2
       -> get_key                       0      2
       -> key_time_clear                0      2
       -> get_key                       0      2
     button_release_detect              0      2
       -> get_key                       0      2
     configurator_to_KO                 0      4
     daylight_service                   8      4
       -> get_dl_level                  8      2
       -> PofL_calc                     8      2
       -> PofL_calc                     8      2
       -> PofL_calc                     8      2
     daylight_set_init                  2      4
       -> factor_divcalc                2      2
       -> factor_divcalc                2      2
     dimmer_command                    22      2
       -> strncpy                      22      2
       -> CharToStr                    22      2
       -> CharToStr                    22      2
       -> org_ext_broad                22      2
       -> org_ext_broad                22      2
       -> org_ext_broad                22      2
       -> org_ext_broad                22      2
       -> CharToStr                    22      2
       -> org_ext_broad                22      2
     factor_divcalc                     8      4
     factor_mulcalc                     6      4
     factory_calibration                6      4
       -> get_dl_level                  6      2
       -> buzzer_ms                     6      2
       -> get_dl_level                  6      2
       -> buzzer_ms                     6      2
     factory_default                   53      4
       -> KO_parameter_initial_temp    53      2
     frame_M2_answer                   24      4
       -> CharToStr                    24      2
       -> CharToStr                    24      2
       -> CharToStr                    24      2
       -> CharToStr                    24      2
       -> send_frame_pp_ext_broad      24      2
     frame_send_disable_automatic_control
                                        0      2
       -> send_frame_pp_broad           0      2
     frame_send_enable_automatic_control
                                        0      2
       -> send_frame_pp_broad           0      2
     frame_send_end_pnl                 0      2
       -> send_frame_pp_ext_broad       0      2
     frame_send_group_request           0      2
       -> send_frame_pp_ext_broad       0      2
     frame_send_start_pnl_group_confed
                                       20      4
       -> CharToStr                    20      2
       -> send_frame_pp_ext_broad      20      2
     frame_send_start_pnl_none_group_confed
                                        0      2
       -> send_frame_pp_ext_broad       0      2
     get_dl_level                       2      4
       -> read_adc10bit                 2      2
       -> real_daylight_calc            2      2
     get_us                             1      2
       -> us_detection                  1      2
       -> delay_us                      1      2
     key_time_clear                     0      2
     led_blinking                       4      2
     led_blinking_disable               0      2
     led_blinking_double_disable        0      2
     led_blinking_ms                    8      2
       -> led_blinking                  8      2
     led_blinking_normal                0      4
       -> led_blinking                  0      2
       -> led_blinking_disable          0      2
     led_blinking_stage2_initial        0      2
     led_status_recover                 0      2
       -> led_blinking                  0      2
       -> led_blinking_disable          0      2
     load_default_advance_parameter     2      4
       -> KO_parameter_initial          2      2
     load_update                       33      4
       -> CharToStr                    33      2
       -> CharToStr                    33      2
       -> CharToStr                    33      2
       -> send_frame_pp_broad          33      2
       -> CharToStr                    33      2
       -> send_frame_pp_ext            33      2
       -> CharToStr                    33      2
       -> CharToStr                    33      2
       -> send_frame_pp_broad          33      2
       -> CharToStr                    33      2
       -> send_frame_pp_broad          33      2
       -> CharToStr                    33      2
       -> send_frame_pp_broad          33      2
     manual_reception_buffer_clear      0      4
     motion_detect                      1      2
       -> PIR_detect                    1      2
       -> get_us                        1      2
       -> PIR_detect                    1      2
       -> get_us                        1      2
       -> get_us                        1      2
       -> PIR_detect                    1      2
       -> PIR_detect                    1      2
     real_daylight_calc                 6      4
     regulation_timer_initial           0      2
     relay_timer_initial                0      2
     scs_advance_from_none_confed       2      2
       -> led_blinking                  2      2
       -> timer_flex_initial            2      2
       -> led_blinking                  2      2
       -> delay_ms                      2      2
       -> led_blinking_normal           2      2
     scs_pnl_advance_master            20      4
       -> led_blinking                 20      2
       -> timer_flex_initial           20      2
       -> led_blinking_disable         20      2
       -> timer_flex_initial           20      2
       -> led_blinking_stage2_initial
                                       20      2
       -> led_blinking                 20      2
       -> send_frame_pp_broad          20      2
       -> CharToStr                    20      2
       -> send_frame_pp_ext_broad      20      2
       -> send_frame_pp_ext_broad      20      2
       -> send_group_pnl_frame         20      2
       -> factory_default              20      2
       -> system_reset                 20      2
       -> led_blinking_disable         20      2
       -> timer_flex_initial           20      2
       -> strncpy                      20      2
       -> CharToStr                    20      2
       -> send_frame_pp_broad          20      2
       -> timer_flex_initial           20      2
       -> send_group_pnl_frame         20      2
       -> send_group_pnl_frame         20      2
       -> send_frame_pp_broad          20      2
       -> send_group_pnl_frame         20      2
       -> led_blinking                 20      2
       -> delay_ms                     20      2
       -> send_group_pnl_frame         20      2
       -> strncpy                      20      2
       -> CharToStr                    20      2
       -> send_frame_pp_ext_broad      20      2
       -> send_frame_pp_broad          20      2
       -> led_blinking_disable         20      2
       -> send_frame_pp_ext_broad      20      2
       -> StrToChar                    20      2
       -> strncpy                      20      2
       -> send_frame_pp_ext_broad      20      2
       -> led_blinking_disable         20      2
       -> send_frame_pp_ext_broad      20      2
       -> CharToStr                    20      2
       -> strncpy                      20      2
       -> strncpy                      20      2
       -> CharToStr                    20      2
       -> send_frame_pp_ext_broad      20      2
       -> PnL_ad_end                   20      2
     scs_pnl_advance_slave             22      4
       -> send_group_pnl_frame         22      2
       -> send_group_pnl_frame         22      2
       -> led_blinking_disable         22      2
       -> led_blinking                 22      2
       -> timer_flex_initial           22      2
       -> led_blinking                 22      2
       -> timer_flex_initial           22      2
       -> led_blinking_normal          22      2
       -> CharToStr                    22      2
       -> send_frame_pp_ext_broad      22      2
       -> led_blinking                 22      2
       -> CharToStr                    22      2
       -> send_frame_pp_ext_broad      22      2
       -> led_blinking                 22      2
       -> led_blinking                 22      2
       -> delay_ms                     22      2
       -> led_blinking_disable         22      2
       -> send_group_pnl_frame         22      2
       -> send_group_pnl_frame         22      2
       -> led_blinking_disable         22      2
       -> led_blinking                 22      2
       -> led_blinking                 22      2
       -> delay_ms                     22      2
       -> led_blinking_normal          22      2
       -> send_group_pnl_frame         22      2
       -> send_group_pnl_frame         22      2
       -> timer_flex2_initial          22      2
       -> send_group_pnl_frame         22      2
       -> send_frame_pp_broad          22      2
       -> led_blinking_normal          22      2
       -> send_group_pnl_frame         22      2
       -> send_group_pnl_frame         22      2
       -> send_group_pnl_frame         22      2
       -> send_frame_pp_broad          22      2
       -> led_blinking_normal          22      2
     scs_pnl_group_sensor_detector      0      2
     scs_pnl_none_confed_master         0      4
       -> led_blinking                  0      2
       -> timer_flex_initial            0      2
       -> led_blinking_disable          0      2
       -> frame_send_disable_automatic_control
                                        0      2
       -> frame_send_start_pnl_none_group_confed
                                        0      2
       -> led_blinking                  0      2
       -> led_blinking_stage2_initial
                                        0      2
       -> factory_default               0      2
       -> system_reset                  0      2
       -> load_default_advance_parameter
                                        0      2
       -> frame_send_group_request      0      2
       -> timer_flex_initial            0      2
       -> load_default_advance_parameter
                                        0      2
       -> send_group_pnl_frame          0      2
       -> load_default_advance_parameter
                                        0      2
       -> frame_send_end_pnl            0      2
       -> send_frame_pp_broad           0      2
       -> led_blinking_normal           0      2
       -> frame_send_enable_automatic_control
                                        0      2
       -> frame_send_end_pnl            0      2
       -> led_blinking_normal           0      2
       -> load_default_advance_parameter
                                        0      2
       -> frame_send_start_pnl_group_confed
                                        0      2
       -> PnL_NONE_end                  0      2
     scs_pnl_none_confed_slave          2      4
       -> led_blinking                  2      2
       -> timer_flex_initial            2      2
       -> led_blinking_normal           2      2
       -> led_blinking                  2      2
       -> delay_ms                      2      2
       -> led_blinking_normal           2      2
       -> led_blinking                  2      2
       -> timer_flex_initial            2      2
       -> led_blinking_normal           2      2
       -> led_blinking                  2      2
       -> delay_ms                      2      2
       -> led_blinking_normal           2      2
       -> load_default_advance_parameter
                                        2      2
       -> send_group_pnl_frame          2      2
       -> send_group_pnl_frame          2      2
       -> send_frame_pp_broad           2      2
       -> led_blinking_normal           2      2
     service_main                       0      2
       -> get_key                       0      2
       -> diagnostic_frame              0      2
       -> timer_flex_initial            0      2
       -> led_blinking                  0      2
       -> led_blinking_normal           0      2
       -> send_frame_pp_ext_broad       0      2
       -> get_key                       0      2
       -> diagnostic_frame              0      2
       -> timer_flex_initial            0      2
       -> led_blinking                  0      2
       -> led_blinking_normal           0      2
       -> factory_calibration           0      2
       -> function_service              0      2
       -> ir_pnl                        0      2
       -> scs_pnl_advance_slave         0      2
       -> scs_pnl_advance_master        0      2
       -> scs_pnl_none_confed_master
                                        0      2
       -> scs_pnl_none_confed_slave     0      2
       -> scs_pnl_none_confed_master
                                        0      2
       -> led_blinking_disable          0      2
       -> send_frame_pp_ext_broad       0      2
     start_conf                        12      4
       -> put_s                        12      2
       -> delay_ms                     12      2
       -> is_gateway_busy              12      2
       -> put_s                        12      2
       -> delay_ms                     12      2
       -> put_s                        12      2
       -> delay_ms                     12      2
       -> put_s                        12      2
       -> led_blinking_normal          12      2
       -> delay_ms                     12      2
       -> get_key                      12      2
       -> delay_ms                     12      2
       -> StrToChar                    12      2
       -> StrToChar                    12      2
       -> StrToChar                    12      2
       -> led_blinking                 12      2
     test_ID_assigned                   0      4
     timer0_enable                      0      2
     timer2_enable                      0      4
     timer_dimmer_initial               0      2
     timer_flex2_initial                0      2
     timer_flex_initial                 0      2


   Segment part sizes:

     Function/Label                                 Bytes
     --------------                                 -----
     _A_ASSR                                           1
     _A_OCR2A                                          1
     _A_TCCR2B                                         1
     _A_TCCR2A                                         1
     _A_TIMSK0                                         1
     _A_OCR0B                                          1
     _A_OCR0A                                          1
     _A_TCNT0                                          1
     _A_TCCR0B                                         1
     _A_TCCR0A                                         1
     _A_PORTD                                          1
     _A_PORTC                                          1
     factory_calibration                             340
     Mode_frame_GR                                   236
     dimmer_command                                  210
     Mode_frame_P2P                                  242
     frame_M2_answer                                 208
     DLL_setpoint                                    122
     factor_divcalc                                  390
     result                                            8
     remainder
     Dec
     Hex
     factor_mulcalc                                   74
     Actuator_regulation                             220
     Dimmer_regulation                               550
     Dimmer_dec                                       46
     Light_regulation                                 30
     daylight_set_init                               112
     PofL_calc                                       154
     daylight_service                                532
     get_dl_level                                    162
     real_daylight_calc                              242
     timer0_enable                                    34
     timer2_enable                                    24
     motion_detect                                   104
     get_us                                           56
     load_update                                     260
     button_press_detect                             134
     button_release_detect                            28
     scs_pnl_advance_master                         1462
     ptop                                              5
     conf_3s
     scs_pnl_none_confed_master                      850
     scs_pnl_advance_slave                          1006
     scs_advance_from_none_confed                    146
     scs_pnl_none_confed_slave                       570
     scs_pnl_group_sensor_detector                     2
     key_time_clear                                   20
     led_blinking_double_disable                      16
     led_blinking                                     66
     led_blinking_ms                                  56
     Dled_light_on_ms                                 40
     led_blinking_disable                             26
     timer_flex_initial                               42
     timer_flex2_initial                              42
     timer_dimmer_initial                             42
     all_reception_buffer_clear                       48
     manual_reception_buffer_clear                    34
     start_conf                                      792
     factory_default                                 330
     configurator_to_KO                              372
     service_main                                    470
     led_status_recover                               34
     frame_send_disable_automatic_control
                                                      14
     frame_send_enable_automatic_control
                                                      14
     frame_send_start_pnl_none_group_confed
                                                      14
     frame_send_start_pnl_group_confed
                                                      58
     frame_send_end_pnl                               14
     frame_send_group_request                         14
     led_blinking_normal                             118
     load_default_advance_parameter                  116
     led_blinking_stage2_initial                      42
     PnL_ad_end                                      102
     PnL_NONE_end                                     20
     regulation_timer_initial                         44
     relay_timer_initial                              42
     test_ID_assigned                                 54
     ?<Initializer for <Constant "D10001420D000000"   17
     ?<Initializer for <Constant "B0009900">>         95
     ?<Initializer for <Constant "$09\r">>            23
     ?<Initializer for <Constant "D20001348C0000FA"   34
     ?<Jumptable for configurator_to_KO>_0            26
     ?<Jumptable for service_main>_0                  34
     ?<Constant "00001200">                           26
     ?<Constant "D10001420D000000">                   17
     ?<Constant "B0009900">                           95
     ?<Constant "$09\r">                              23
     ?<Constant "D20001348C0000FA">                   34
     ?<Constant "D20001428C220940">                   17
     ?<Constant "D20001348C000941">                   17
     ?<Constant "D20001428C000940">_1                 17
      Others                                          12

 
     12 bytes in segment ABSOLUTE
 11 642 bytes in segment CODE
     12 bytes in segment INITTAB
     77 bytes in segment NEAR_F
    169 bytes in segment NEAR_I
    169 bytes in segment NEAR_ID
     13 bytes in segment NEAR_Z
     60 bytes in segment SWITCH
 
 11 948 bytes of CODE memory (+ 12 bytes shared)
    182 bytes of DATA memory (+ 12 bytes shared)

Errors: none
Warnings: none
